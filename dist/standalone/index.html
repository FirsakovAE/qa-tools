<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vue Inspector ‚Äî Standalone</title>
  <style>
    :root {
      --bg: #0a0a0b;
      --surface: #141415;
      --border: #2a2a2c;
      --text: #e4e4e7;
      --text-muted: #71717a;
      --accent: #8b5cf6;
      --accent-hover: #7c3aed;
    }
    
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
    }
    
    .container {
      max-width: 600px;
      width: 100%;
    }
    
    h1 {
      font-size: 1.75rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    h1 span { font-size: 2rem; }
    
    .subtitle {
      color: var(--text-muted);
      margin-bottom: 2rem;
    }
    
    .card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }
    
    .card-title {
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 1rem;
    }
    
    .step {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    
    .step:last-child { margin-bottom: 0; }
    
    .step-number {
      width: 24px;
      height: 24px;
      background: var(--accent);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 600;
      flex-shrink: 0;
    }
    
    .step-content {
      flex: 1;
    }
    
    .step-content p {
      line-height: 1.5;
    }
    
    .bookmarklet-area {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-top: 1rem;
    }
    
    .bookmarklet {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.75rem 1.25rem;
      background: var(--accent);
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 500;
      cursor: grab;
      transition: background 0.2s;
    }
    
    .bookmarklet:hover {
      background: var(--accent-hover);
    }
    
    .bookmarklet:active {
      cursor: grabbing;
    }
    
    .hint {
      font-size: 0.875rem;
      color: var(--text-muted);
    }
    
    .config-section {
      margin-top: 1.5rem;
      padding-top: 1.5rem;
      border-top: 1px solid var(--border);
    }
    
    .config-label {
      display: block;
      font-size: 0.875rem;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
    }
    
    .config-input {
      width: 100%;
      padding: 0.75rem 1rem;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 0.875rem;
    }
    
    .config-input:focus {
      outline: none;
      border-color: var(--accent);
    }
    
    .update-btn {
      margin-top: 0.75rem;
      padding: 0.5rem 1rem;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 6px;
      color: var(--text);
      cursor: pointer;
      font-size: 0.875rem;
      transition: border-color 0.2s;
    }
    
    .update-btn:hover {
      border-color: var(--accent);
    }
    
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      padding: 0.25rem 0.5rem;
      background: rgba(139, 92, 246, 0.15);
      color: var(--accent);
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 500;
    }
    
    .footer {
      margin-top: 2rem;
      font-size: 0.875rem;
      color: var(--text-muted);
      text-align: center;
    }
    
    .footer a {
      color: var(--accent);
      text-decoration: none;
    }
    
    .footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1><span>üîç</span> Vue Inspector</h1>
    <p class="subtitle">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–Ω—Å–ø–µ–∫—Ü–∏–∏ Vue/Pinia –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤</p>
    
    <div class="card">
      <div class="card-title">–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</div>
      
      <div class="step">
        <div class="step-number">1</div>
        <div class="step-content">
          <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –≤ –ø–∞–Ω–µ–ª—å –∑–∞–∫–ª–∞–¥–æ–∫ –±—Ä–∞—É–∑–µ—Ä–∞</p>
        </div>
      </div>
      
      <div class="step">
        <div class="step-number">2</div>
        <div class="step-content">
          <p>–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º</p>
        </div>
      </div>
      
      <div class="step">
        <div class="step-number">3</div>
        <div class="step-content">
          <p>–ö–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –∑–∞–∫–ª–∞–¥–∫–µ ‚Äî inspector –ø–æ—è–≤–∏—Ç—Å—è –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã</p>
        </div>
      </div>
      
      <div class="bookmarklet-area">
        <a id="bookmarklet" class="bookmarklet" href="#">
          üì¶ Vue Inspector
        </a>
        <span class="hint">‚Üê –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤ –∑–∞–∫–ª–∞–¥–∫–∏</span>
      </div>
      
      <div class="config-section">
        <label class="config-label">–ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º</label>
        <input 
          type="text" 
          id="baseUrl" 
          class="config-input" 
          value=""
          placeholder="http://localhost:5174"
        >
        <button class="update-btn" onclick="updateBookmarklet()">
          –û–±–Ω–æ–≤–∏—Ç—å bookmarklet
        </button>
      </div>
    </div>
    
    <div class="card">
      <div class="card-title">–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</div>
      <p style="margin-bottom: 0.75rem;">
        <span class="badge">Standalone Mode</span>
      </p>
      <p class="hint">
        –í standalone —Ä–µ–∂–∏–º–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã:
        –∏–Ω—Å–ø–µ–∫—Ü–∏—è –¥—Ä—É–≥–∏—Ö –≤–∫–ª–∞–¥–æ–∫, —Ñ–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è.
        –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—Å–ø–µ–∫—Ü–∏–∏ Vue –∏ Pinia —Ä–∞–±–æ—Ç–∞—é—Ç.
      </p>
    </div>
    
    <div class="footer">
      –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä: <code>npm run serve:standalone</code>
    </div>
  </div>

  <script>
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –±–∞–∑–æ–≤—ã–π URL –¥–ª—è GitHub Pages
    function getBaseURL() {
      const origin = window.location.origin; // https://firsakovae.github.io
      const pathname = window.location.pathname; // /qa-tools/dist/standalone/index.html

      // –ï—Å–ª–∏ –Ω–∞ GitHub Pages, –¥–æ–±–∞–≤–ª—è–µ–º –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
      if (origin.includes('github.io')) {
        // –ò–∑–≤–ª–µ–∫–∞–µ–º –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏–∑ –ø—É—Ç–∏
        const pathParts = pathname.split('/').filter(p => p);
        const repoName = pathParts[0]; // 'qa-tools'
        return origin + '/' + repoName;
      }

      // –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º origin
      return origin;
    }

    document.getElementById('baseUrl').value = getBaseURL();
    
    function generateBookmarkletCode(baseURL) {
      // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ inspector
      const code = `
        (function(){
          if(window.__VUE_INSPECTOR_INITIALIZED__){
            console.log('[Vue Inspector] Already loaded');
            return;
          }
          var b='${baseURL}';
          window.__VUE_INSPECTOR_CONFIG__={baseURL:b};
          window.__VUE_INSPECTOR_INITIALIZED__=true;
          var s=document.createElement('script');
          s.src=b+'/standalone/loader.js';
          s.onerror=function(){alert('Vue Inspector: Failed to load from '+b)};
          document.head.appendChild(s);
        })();
      `.replace(/\s+/g, ' ').trim();
      
      return 'javascript:' + encodeURIComponent(code);
    }
    
    function updateBookmarklet() {
      const baseURL = document.getElementById('baseUrl').value.replace(/\/$/, '');
      const bookmarklet = document.getElementById('bookmarklet');
      bookmarklet.href = generateBookmarkletCode(baseURL);
    }
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    updateBookmarklet();
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ input
    document.getElementById('baseUrl').addEventListener('input', updateBookmarklet);
    
    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ –ø—Ä–∏ –∫–ª–∏–∫–µ
    document.getElementById('bookmarklet').addEventListener('click', function(e) {
      alert('–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —ç—Ç—É –∫–Ω–æ–ø–∫—É –≤ –ø–∞–Ω–µ–ª—å –∑–∞–∫–ª–∞–¥–æ–∫ –±—Ä–∞—É–∑–µ—Ä–∞,\\n–∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.');
      e.preventDefault();
    });
  </script>
</body>
</html>
