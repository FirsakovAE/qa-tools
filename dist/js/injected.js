function Ae(){const e=window.__VUE_DEVTOOLS_GLOBAL_HOOK__;if(e?.apps&&e.apps.length>0)return{detected:!0,version:3};if(window.__VUE__)return{detected:!0,version:2};const t=window.Vue;if(t){if(t.createApp)return{detected:!0,version:3};if(t.version?.startsWith("2"))return{detected:!0,version:2}}const n=["#app","#root","[data-v-app]"];for(const o of n)try{const s=document.querySelector(o);if(s?.__vue_app__)return{detected:!0,version:3};if(s?.__vue__)return{detected:!0,version:2}}catch{}const r=document.body?.children;if(r){const o=Math.min(r.length,10);for(let s=0;s<o;s++){const i=r[s];if(i.__vue_app__)return{detected:!0,version:3};if(i.__vue__)return{detected:!0,version:2}}}return{detected:!1,version:null}}function Ce(){try{const t=window._s;if(t instanceof Map&&t.size>0)return!0}catch{}try{const t=window.__VUE_DEVTOOLS_GLOBAL_HOOK__;if(t?.apps)for(const n of t.apps){const r=n._context?.provides?.pinia||n._context?.config?.globalProperties?.$pinia||n.config?.globalProperties?.$pinia;if(r&&r._s instanceof Map)return!0}}catch{}const e=["#app","#root"];for(const t of e)try{const n=document.querySelector(t);if(n?.__vue_app__){const r=n.__vue_app__,o=r._context?.provides?.pinia||r._context?.config?.globalProperties?.$pinia;if(o&&o._s instanceof Map)return!0}}catch{}return!1}function le(){const e=Ae(),t=e.detected?Ce():!1;return{hasVue:e.detected,hasPinia:t,vueVersion:e.version}}function I(){const e=[];if(document.querySelectorAll('[__vue_app__], [__vue__], div, main, section, article, #app, #root, [class*="app"], [class*="vue"], [id*="app"]').forEach(n=>{const r=n;(r.__vue_app__||r.__vue__||r._vnode)&&!e.includes(r)&&e.push(r)}),e.length===0){const n=window.__VUE_DEVTOOLS_GLOBAL_HOOK__;if(n?.apps&&n.apps.length>0)for(const r of n.apps){const o=r._instance?.root?.el||r._container?._vnode?.el;o&&o instanceof HTMLElement&&!e.includes(o)&&e.push(o)}}return e}function w(e){if(e.__vue_app__){const t=e.__vue_app__;return t._instance?.root??t._container?._vnode??e._vnode}else if(e.__vue__){const t=e.__vue__,n=t.$root||t;return n.$vnode||n}return e._vnode}function k(){const e=I(),t=!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,n=!!window.__VUE__;return e.length>0||t||n}function D(){const e=I(),t=e.some(o=>{if(o.__vue_app__)return!0;const s=o._vnode;return s&&s.component}),n=e.some(o=>o.__vue__&&!o.__vue_app__);return{version:t?3:n?2:3,roots:e}}function N(e,t=new WeakSet){if(e==null||typeof e!="object")return e;if(t.has(e))return Array.isArray(e)?[]:{};if(e instanceof HTMLElement||e instanceof Node)return{};if(typeof e=="function")return{};if(t.add(e),Array.isArray(e)){const r=[];for(let o=0;o<e.length;o++){const s=e[o];if(typeof s!="function"&&!(s instanceof HTMLElement||s instanceof Node))if(typeof s=="object"&&s!==null){if(t.has(s))continue;try{JSON.stringify(s),r.push(N(s,t))}catch{continue}}else r.push(s)}return r}const n={};try{for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];if(typeof o!="function"&&!(o instanceof HTMLElement||o instanceof Node))if(typeof o=="object"&&o!==null){if(t.has(o))continue;try{JSON.stringify(o),n[r]=N(o,t)}catch(s){console.debug("Skipping non-serializable value in object:",r,o,s);continue}}else n[r]=o}}catch(r){console.warn("Serialization error:",r)}return n}function Re(e){if(!e)return null;if(e.classList?.contains("or-select")||e.hasAttribute?.("data-test-id"))return e;let t=e;for(;t&&t!==document.body;){if(t.classList?.contains("or-select")||t.hasAttribute?.("data-test-id"))return t;t=t.parentElement}return e}function oe(e){return e?{tagName:e.tagName?.toLowerCase(),id:e.id||void 0,className:typeof e.className=="string"?e.className:void 0,testId:e.getAttribute?.("data-test-id")||void 0}:null}function we(e){if(e.id)return`#${e.id}`;let t=[],n=e;for(;n&&n!==document.body;){let r=n.tagName.toLowerCase();if(n.className&&typeof n.className=="string"){const i=n.className.trim().split(/\s+/).filter(c=>/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(c)&&!c.includes("animate-")&&!c.includes("transition-")&&!c.includes("backdrop-"));i.length>0&&(r+="."+i.slice(0,3).join("."))}if(Array.from(n.parentElement?.children||[]).filter(i=>{if(i.tagName!==n.tagName)return!1;const c=(n.className||"").split(/\s+/).filter(f=>!f.includes("animate-")&&!f.includes("transition-")&&!f.includes("backdrop-")),u=(i.className||"").split(/\s+/).filter(f=>!f.includes("animate-")&&!f.includes("transition-")&&!f.includes("backdrop-"));return c.length>0&&u.length>0?c.some(f=>u.includes(f)):i.className===n.className}).length>1){const c=Array.from(n.parentElement?.children||[]).indexOf(n);r+=`:nth-child(${c+1})`}if(t.unshift(r),n=n.parentElement,t.length>4)break}return t.join(" > ")}function _e(e,t,n,r){if(!e)return null;const o=e.props||e.$props||e.propsData||e._props||{},s=N(o),i=e.type?.name||e.type?.__name||e.type?.displayName||e.$options?.name||"Anonymous";let c=e.uid||e._uid||`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;const u=t?.el||t?.elm;let f="";if(u&&u instanceof HTMLElement&&(f=we(u),f&&(c=`${c}::${f}`),u.textContent&&u.textContent.trim().length>0&&u.textContent.trim().length<50)){const P=u.textContent.trim().replace(/\s+/g," ");c=`${c}::text:${P}`}const l=oe(u),_=Re(u),a=_?oe(_):l;return{name:i,props:s,path:`${n}::${i}::${c}`,element:l,hasProps:Object.keys(s).length>0,propsCount:Object.keys(s).length,rootElement:a}}const Ne=(e,t)=>t.version===3&&!!e.component,Ve=(e,t)=>t.version===2&&(e.componentInstance||e.context),$e=(e,t,n,r,o,s)=>{const i=[],c=_e(e.component,e,t||"root");return c&&i.push(c),e.component.subTree&&i.push(...V(e.component.subTree,`${t||"root"}.subTree`,r+1,n,o,s)),i},be=(e,t,n,r,o,s)=>{const i=[],c=e.componentInstance||e.context;if(c){const u=_e(c,e,t||"root");u&&i.push(u),c.$children&&c.$children.forEach((f,l)=>{f.$vnode&&!o.has(f.$vnode)&&i.push(...V(f.$vnode,`${t||"root"}.children[${l}]`,r+1,n,o,s))})}return i},Me=(e,t,n,r,o,s)=>{const i=[];return Array.isArray(e.children)?e.children.forEach((c,u)=>{c&&!o.has(c)&&i.push(...V(c,`${t||"root"}.children[${u}]`,n+1,r,o,s))}):e.children&&typeof e.children=="object"&&!o.has(e.children)&&i.push(...V(e.children,`${t||"root"}.children`,n+1,r,o,s)),i},Ue=100,De=(e,t,n)=>!e||t>Ue||n.has(e);function V(e,t="",n=0,r,o=new Set,s){if(De(e,n,o))return[];o.add(e);const i=Ne(e,s),c=Ve(e,s);let u=[];i?u=$e(e,t,r,n,o,s):c&&(u=be(e,t,r,n,o,s));const f=Me(e,t,n,r,o,s);return[...u,...f]}function z(){const e=[],t=I();return console.log("[VueInspector] Found Vue roots:",t.length),t.length>0&&t.forEach((n,r)=>{const o=w(n);if(o){const i={version:n.__vue__&&!n.__vue_app__?2:3},c=V(o,`root[${r}]`,0,n,new Set,i);console.log(`[VueInspector] Root ${r}: collected ${c.length} components (Vue ${i.version})`),e.push(...c)}}),console.log("[VueInspector] Total components collected:",e.length),e}function re(e){if(!e||!e.type||e.type.name!=="AsyncComponentWrapper")return e;const t=[e.subTree?.component,e.subTree?.subTree?.component,e.vnode?.subTree?.component];for(const n of t)if(n&&n!==e)return n;return e}function Le(e){const t=I();for(const n of t){const r=w(n);if(!r)continue;const o=i=>{if(!i)return null;if(i.el===e||i.component&&i.component.subTree?.el===e)return i;if(i.children&&Array.isArray(i.children))for(const c of i.children){const u=o(c);if(u)return u}if(i.component?.subTree){const c=o(i.component.subTree);if(c)return c}return null},s=o(r);if(s)return s}return null}function $(e){const t=I();if(t.length===0)return null;const n=e.split("::"),r=n[0],o=n[1],s=n[2],i=s?s.split("::")[0]:null,c=n.findIndex((p,h)=>p.startsWith("#")||p.includes(" > ")||p.includes(".")&&h>2);if(c!==-1){let p=n.slice(c).join("::").replace(/^::/,"");p.includes("::text:")&&(p=p.split("::text:")[0]);try{const h=document.querySelector(p);if(h&&h instanceof HTMLElement){const O=Le(h);if(O)return O}}catch{}}const u=r.split(".");if(u.length===1&&u[0]==="root"){const p=t[0],h=w(p);return h&&h.component?h:null}if(u.length===0||!u[0].startsWith("root"))return null;let f=0;if(u[0].startsWith("root[")){const p=u[0].match(/root\[(\d+)\]/);if(!p)return null;f=parseInt(p[1],10)}else if(u[0]==="root")f=0;else return null;if(f>=t.length)return null;const l=t[f],_=w(l);if(!_)return null;if(u.length===1)return _;let a=_;const A=D().version===2;for(let p=1;p<u.length;p++){const h=u[p];if(h==="subTree")if(a.component?.subTree)a=a.component.subTree;else if(A)if(a.child?.component?.subTree)a=a.child.component.subTree;else if(a.child)a=a.child;else if(a.componentInstance?.$vnode)a=a.componentInstance.$vnode;else return null;else return null;else if(h.startsWith("children[")){const O=h.match(/children\[(\d+)\]/);if(O){const E=parseInt(O[1],10);if(Array.isArray(a.children))if(E<a.children.length)a=a.children[E];else return null;else if(A)if(a.componentInstance?.$children&&Array.isArray(a.componentInstance.$children))if(E<a.componentInstance.$children.length){const g=a.componentInstance.$children[E];a=g.$vnode||g}else return null;else if(a.context?.$children&&Array.isArray(a.context.$children))if(E<a.context.$children.length){const g=a.context.$children[E];a=g.$vnode||g}else return null;else if(a.$children&&Array.isArray(a.$children))if(E<a.$children.length){const g=a.$children[E];a=g.$vnode||g}else return null;else if(Array.isArray(a.children))if(E<a.children.length)a=a.children[E];else return null;else return null;else return null}else return null}else if(h.startsWith("vnodeChildren[")){const O=h.match(/vnodeChildren\[(\d+)\]/);if(O&&Array.isArray(a.children)){const E=parseInt(O[1],10);if(E<a.children.length)a=a.children[E];else return null}else return null}else return null;if(!a)return null}if(o&&a&&(a.component?.type?.name||a.component?.type?.__name||a.component?.type?.displayName||a.component?.type?.__file?.split("/").pop()?.replace(/\.vue$/,"")||(A?a.$options?.name:null)||"Anonymous")===o){if(i!==null&&i!=="undefined"&&i!=="null"){const h=a.component?.uid||a._uid;if(h&&h!==i&&!i.startsWith("anon_"))return null}return a}return a}function ke(e){const t=$(e);if(!t){const c=e.split("::")[1];if(c){const f=z().find(l=>l.name===c);if(f){const l=xe(c);if(l){const a=D().version===2;let P=l.component,A=null;if(!a&&P){const p=re(P)||P;A=p.props&&M(p.props)?p.props:l.props&&M(l.props)?l.props:null}return{vnode:l,instance:P,propsTarget:A,isVue2:a}}else return{vnode:{component:f,el:f.element,props:f.props},instance:f,propsTarget:f.props,isVue2:!1}}}return null}if(t.component&&t.el&&t.props&&!t.vnode)return{vnode:t,instance:t.component,propsTarget:t.props,isVue2:!1};const r=D().version===2;let o=null,s=null;if(r)o=t.componentInstance||t.context||t,s=o?.$props||o?.propsData||o?._props||null;else if(o=t.component,o){const i=re(o)||o,c=i.props&&M(i.props),u=t.props&&M(t.props);c?s=i.props:u?s=t.props:s=i.props||t.props||null}return{vnode:t,instance:o,propsTarget:s,isVue2:r}}function xe(e,t){const n=I();for(const r of n){const o=w(r);if(!o)continue;const s=c=>{if(!c)return null;if((c.component?.type?.name||c.component?.type?.__name||c.component?.type?.displayName||c.$options?.name)===e)return c;if(c.children&&Array.isArray(c.children))for(const f of c.children){const l=s(f);if(l)return l}if(c.component?.subTree){const f=s(c.component.subTree);if(f)return f}return null},i=s(o);if(i)return i}return null}function M(e){if(!e||typeof e!="object")return!1;try{const t=Symbol("test");return e[t]=!0,delete e[t],!0}catch{return!1}}function ve(e,t){return e instanceof Set?t instanceof Set?t:new Set(Array.isArray(t)?t:[]):e instanceof Map?t instanceof Map?t:new Map(t??[]):t}function je(e,t){return e?.__v_isRef?(e.value=t,e):ve(e,t)}function Fe(e,t){const r=`update:${t.replace(/^-/,"")}`;return!!(e?.emitsOptions?.[r]||e?.$listeners?.[r])}function qe(e,t,n){const o=`update:${t.replace(/^-/,"")}`;return e?.emit?(e.emit(o,n),console.debug(`[updateComponentProps] emit ${o}`,n),!0):e?.$emit?(e.$emit(o,n),console.debug(`[updateComponentProps] $emit ${o}`,n),!0):(console.warn(`[updateComponentProps] Model prop "${t}" detected, but no emit available`),!1)}function J(e,t){let n=ke(e)??He(e);if(!n?.instance?.props)return console.error("[updateComponentProps] Component or props not found:",e),!1;let r=!1;const o=n.instance.props;for(const s in t)if(s in o)try{const i=o[s];if(Fe(n.instance,s)&&qe(n.instance,s,t[s])){r=!0,console.debug(`[updateComponentProps] Updated model prop "${s}" via emit`);continue}const c=je(i,t[s]);o[s]=c,r=!0,console.debug("[updateComponentProps]",s,i?.constructor?.name,"â†’",c?.constructor?.name)}catch(i){console.warn(`[updateComponentProps] Failed to update prop "${s}"`,i)}return r}function He(e){const{findVueRoots:t,extractRootVNode:n,detectVueContext:r}=require("./vue-detect"),o=t(),i=r().version===2;function c(u,f=""){if(!u)return null;let l=null;if(i?l=u.componentInstance||u.context:l=u.component,l){const _=l.uid||l._uid,a=l.type?.name||l.type?.__name||l.$options?.name;if(_===e||_?.toString()===e||a===e)return{vnode:u,instance:l,propsTarget:l.props||u.props,isVue2:i}}if(u.children&&Array.isArray(u.children))for(let _=0;_<u.children.length;_++){const a=c(u.children[_],`${f}.children[${_}]`);if(a)return a}if(!i&&u.component?.subTree){const _=c(u.component.subTree,`${f}.subTree`);if(_)return _}if(i&&l?.$children)for(let _=0;_<l.$children.length;_++){const a=l.$children[_];if(a.$vnode){const P=c(a.$vnode,`${f}.$children[${_}]`);if(P)return P}}return null}for(let u=0;u<o.length;u++){const f=o[u],l=n(f);if(l){const _=c(l,`root[${u}]`);if(_)return _}}return null}const y={UPDATE_PROPS:"VUE_INSPECTOR_UPDATE_PROPS",UPDATE_PROPS_RESULT:"VUE_INSPECTOR_UPDATE_PROPS_RESULT",GET_COMPONENT_PROPS:"VUE_INSPECTOR_GET_COMPONENT_PROPS",COMPONENT_PROPS_DATA:"VUE_INSPECTOR_COMPONENT_PROPS_DATA",GET_COMPONENTS:"VUE_INSPECTOR_GET_COMPONENTS",COMPONENTS_DATA:"VUE_INSPECTOR_COMPONENTS_DATA",CHECK_VUE:"VUE_INSPECTOR_CHECK_VUE",VUE_DETECTED:"VUE_INSPECTOR_VUE_DETECTED",READY:"VUE_INSPECTOR_READY"};let se=!1;function Ke(){return window.__VUE_INSPECTOR__?.getComponents?.()||[]}function We(e){if(!e.data||typeof e.data!="object"||!e.data.type)return;const{requestId:t}=e.data;if(e.data.type===y.UPDATE_PROPS){console.log("[PropsBridge] Received UPDATE_PROPS:",{componentPath:e.data.componentPath,requestId:t});try{const{componentPath:n,props:r}=e.data,o=J(n,r);console.log("[PropsBridge] Update result:",o),window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:y.UPDATE_PROPS_RESULT,success:o,error:o?void 0:"Failed to update component props",requestId:t},"*")}catch(n){console.error("[PropsBridge] Update error:",n),window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:y.UPDATE_PROPS_RESULT,success:!1,error:String(n),requestId:t},"*")}}if(e.source===window&&e.data?.type===y.GET_COMPONENT_PROPS)try{const{componentPath:n}=e.data,r=$(n);if(!r){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:y.COMPONENT_PROPS_DATA,props:{},requestId:t},"*");return}const s=D().version===2;let i={};if(s){const c=r.componentInstance||r.context;c&&(i=N(c.$props||c.propsData||c._props||{}))}else{const c=r.component;c&&(i=N(c.props||{}))}window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:y.COMPONENT_PROPS_DATA,props:i,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:y.COMPONENT_PROPS_DATA,props:{},requestId:t},"*")}if(e.source===window&&e.data?.type===y.GET_COMPONENTS)try{const r=Ke().map(o=>{try{return JSON.stringify(o),o}catch{return{name:o.name,props:o.props,path:o.path,hasProps:o.hasProps,propsCount:o.propsCount,element:o.element,rootElement:o.rootElement}}});window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:y.COMPONENTS_DATA,components:r,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:y.COMPONENTS_DATA,components:[],requestId:t},"*")}if(e.source===window&&e.data?.type===y.CHECK_VUE){const n=k(),r=I();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:y.VUE_DETECTED,detected:n,url:window.location.href,appCount:r.length,hasDevToolsHook:!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,hasVue2:!!window.__VUE__},"*")}}function Ge(){if(!se){if(se=!0,window.addEventListener("message",We),k()){const e=I();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:y.VUE_DETECTED,detected:!0,url:window.location.href,appCount:e.length,hasDevToolsHook:!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,hasVue2:!!window.__VUE__},"*")}window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:y.READY},"*")}}let ie=!1;function Be(){ie||(ie=!0,Ge())}const ze={isVueDetected:()=>k(),getComponents:()=>z(),findComponentByPath:e=>$(e),updateComponentProps:(e,t)=>J(e,t),getComponentProps:e=>{const t=$(e);if(!t)return null;let n={};return t.component?n=t.component.props||{}:t.props&&(n=t.props),n},findVueRoots:()=>I(),version:"1.0.0"};Object.assign(window,{__VUE_INSPECTOR__:ze,__VUE_INSPECTOR_INJECTED__:{getComponents:()=>z(),isVueDetected:()=>k(),findComponentByPath:e=>$(e),updateComponentProps:(e,t)=>J(e,t)}});function Je(e){if(e._setupStore===!0)return!0;if(Object.keys(e.$state||{}).length===0){for(const n of Object.keys(e))if(!(n.startsWith("$")||n.startsWith("_"))&&typeof e[n]!="function")return!0}for(const n of Object.keys(e)){if(n.startsWith("$")||n.startsWith("_")||typeof e[n]=="function")continue;const r=e[n];if(r&&typeof r=="object"&&r.__v_isRef===!0)return!0}return!1}function Ye(e){return e._setupStore===!0}function Xe(e){if(Object.keys(e.$state||{}).length===0){for(const n of Object.keys(e))if(!(n.startsWith("$")||n.startsWith("_"))&&typeof e[n]!="function")return!0}return!1}function Ze(e){for(const t of Object.keys(e)){if(t.startsWith("$")||t.startsWith("_")||typeof e[t]=="function")continue;const n=e[t];if(n&&typeof n=="object"&&n.__v_isRef===!0)return!0}return!1}function Y(e){return e.replace(/-\d+$/,"").replace(/_\d+$/,"")}function Qe(e){const t=x(e),n=v(e),r=j(e);return{stateKeys:t,getterKeys:n,actionKeys:r}}function x(e){if(e.$state&&typeof e.$state=="object")return Object.keys(e.$state);const t=[];for(const n of Object.keys(e)){if(n.startsWith("$")||n.startsWith("_")||typeof e[n]=="function")continue;const r=e[n];T(r)||t.push(n)}return t}function T(e){return!e||typeof e!="object"?!1:e.__v_isRef===!0&&e.effect!==void 0||e.__v_isRef===!0&&typeof e._getter=="function"||e.__v_isRef===!0&&e.__v_isReadonly===!0}function L(e){return!!(e&&typeof e=="object"&&e.__v_isRef===!0)}function v(e){const t=[],n=new Set(Object.keys(e.$state||{}));for(const o of Object.keys(e)){if(o.startsWith("$")||o.startsWith("_")||typeof e[o]=="function")continue;const s=e[o];T(s)&&t.push(o)}for(const o of Object.keys(e))o.startsWith("$")||o.startsWith("_")||typeof e[o]=="function"||t.includes(o)||n.has(o)||t.push(o);const r=Object.getPrototypeOf(e);if(r&&r!==Object.prototype)for(const o of Object.getOwnPropertyNames(r)){if(o==="constructor"||o.startsWith("$")||o.startsWith("_")||t.includes(o))continue;const s=Object.getOwnPropertyDescriptor(r,o);s&&typeof s.get=="function"&&t.push(o)}return t}function j(e){const t=[];for(const n in e)!n.startsWith("$")&&!n.startsWith("_")&&typeof e[n]=="function"&&t.push(n);return t}function F(e){return!!(e&&typeof e=="object"&&e.__v_isRef===!0)}function et(e){return!e||typeof e!="object"?!1:e.__v_isRef===!0&&e.effect!==void 0||e.__v_isRef===!0&&typeof e._getter=="function"||e.__v_isRef===!0&&e.__v_isReadonly===!0}function X(e){return!!(e&&typeof e=="object"&&"__v_raw"in e&&!F(e))}function tt(e){return F(e)?m(e.value):e}function nt(e){return X(e)?m(e.__v_raw):e}function ot(e){if(e==null||typeof e!="object")return e;try{return JSON.parse(JSON.stringify(e))}catch{return e}}function m(e){if(e==null||typeof e!="object")return e;if(F(e))return m(e.value);if(X(e))return m(e.__v_raw);if(Array.isArray(e))return e.map(t=>m(t));if(typeof e=="object"&&e!==null)try{return JSON.parse(JSON.stringify(e))}catch{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=m(e[n]));return t}return e}function rt(){try{if(window._s&&window._s instanceof Map)return{_s:window._s,$id:"found-in-window"}}catch{}return null}function st(){try{const e=window.__VUE_DEVTOOLS_GLOBAL_HOOK__;if(e?.apps)for(const t of e.apps){const n=t._context?.provides?.pinia||t._context?.config?.globalProperties?.$pinia||t.config?.globalProperties?.$pinia;if(n&&n._s)return n}}catch{}return null}function it(){try{const n=(window.__VUE_INSPECTOR__?.findVueRoots||(()=>[]))();for(const r of n)if(r.__vue_app__){const o=r.__vue_app__,s=o._context?.provides?.pinia||o._context?.config?.globalProperties?.$pinia||o.config?.globalProperties?.$pinia;if(s&&s._s)return s}}catch{}return null}function ct(){return null}function q(){let e=rt();return e||(e=st(),e)||(e=it(),e)||(e=ct(),e)?e:null}let C=null;function ut(){C!==null&&(clearTimeout(C),C=null)}async function at(e=2e3,t=500){return ut(),new Promise(n=>{const r=Date.now(),o=()=>{const s=q();if(s)return C=null,n(s);if(Date.now()-r>e)return C=null,n(null);C=setTimeout(o,t)};o()})}function ft(e,t){if(!e._s||!(e._s instanceof Map))return;const n=e._s.set.bind(e._s);e._s.set=function(...o){const s=n(...o);return t(),s};const r=e._s.delete.bind(e._s);e._s.delete=function(...o){const s=r(...o);return t(),s}}function Z(){return q()!==null}let R=null;function Q(e=!1){return(!R||e)&&(R=pe()),R}function pe(){const e=q();let t=new Set;return e&&e._s&&(e._s instanceof Map?t=new Set(Array.from(e._s.keys())):t=new Set(Object.keys(e._s))),{pinia:e,liveStoreIds:t,lastScan:Date.now()}}function G(){return R=pe(),R}function H(){return Q().pinia}function de(){return Q().liveStoreIds}function lt(e){return de().has(e)}function he(e){const t={},n=x(e);for(const r of n)try{t[r]=m(e[r])}catch{t[r]="[Non-serializable]"}return t}function K(e){const t=S(e);return t?he(t):null}function ee(){const e=H();return e?Array.from(e._s.keys()):[]}function S(e){const t=H();return t&&t._s.get(e)||null}function W(e){const t=S(e);if(!t)return{};const n={},r=v(t);for(const o of r)try{n[o]=m(t[o])}catch{n[o]="[Non-serializable]"}return n}function te(e){const t=S(e);return t?j(t):[]}async function ye(e,t,...n){const r=S(e);if(!r)throw console.error(`[PiniaAPI] Store "${e}" not found`),new Error(`Store "${e}" not found`);if(typeof r[t]!="function")throw console.error(`[PiniaAPI] Action "${t}" not found in store. Available:`,Object.keys(r).filter(o=>typeof r[o]=="function")),new Error(`Action "${t}" not found in store "${e}"`);try{return await r[t](...n)}catch(o){throw console.error(`[PiniaAPI] Error calling action "${t}":`,o),o}}async function Ee(e,t,...n){const r=await ye(e,t,...n);return m(r)}function b(e,t="",n={}){if(e==null)return n;if(typeof e!="object")return n[t]=e,n;if(Array.isArray(e)){for(let r=0;r<e.length;r++){const o=e[r],s=t?`${t}.${r}`:r.toString();typeof o=="object"&&o!==null?b(o,s,n):n[s]=o}return n}for(const r of Object.keys(e)){const o=e[r],s=t?`${t}.${r}`:r;typeof o=="object"&&o!==null?b(o,s,n):n[s]=o}return n}function Pe(){const e=[],t=H();if(!t)return e;for(const[n,r]of t._s.entries()){const o=Y(n),s=K(n);if(s){const u=b(s);for(const f in u){const l=u[f];let _;l===null?_="null":l===void 0?_="undefined":typeof l=="object"?_=JSON.stringify(l):_=String(l),_=_.toLowerCase(),e.push({storeId:n,baseId:o,type:"state",key:f,value:l,valueStr:_})}}const i=W(n),c=b(i);for(const u in c){const f=c[u];let l;f===null?l="null":f===void 0?l="undefined":typeof f=="object"?l=JSON.stringify(f):l=String(f),l=l.toLowerCase(),e.push({storeId:n,baseId:o,type:"getter",key:u,value:f,valueStr:l})}}return e}function ne(e){return e.replace(/\[(\d+)\]/g,".$1").split(".")}function _t(e,t,n){const r=ne(t);let o=e;for(let s=0;s<r.length-1;s++){const i=r[s];i in o||(o[i]={}),o=o[i]}o[r[r.length-1]]=n}function me(e,t,n){const r=S(e);if(!r)return console.error(`[PiniaAPI] Store "${e}" not found`),!1;try{const o=ne(t),s=o[0];let i;s in r&&!s.startsWith("$")&&!s.startsWith("_")&&typeof r[s]!="function"?i=r:r.$state&&s in r.$state?i=r.$state:i=r;for(let f=0;f<o.length-1;f++){if(i=i[o[f]],i===void 0)return console.error(`[PiniaAPI] Path not found: ${o.slice(0,f+1).join(".")}`),!1;L(i)&&(i=i.value)}const c=o[o.length-1],u=i[c];return T(u)?(console.warn(`[PiniaAPI] Skip patch of getter "${t}"`),!1):(L(u)?u.value=n:i[c]=n,!0)}catch(o){return console.error("[PiniaAPI] Error patching state:",o),!1}}function Ie(e,t){const n=S(e);if(!n)return console.error(`[PiniaAPI] Store "${e}" not found`),!1;try{if(typeof n.$patch=="function")return n.$patch(()=>{for(const r of Object.keys(t)){const o=t[r];if(n[r]&&T(n[r])){console.warn(`[PiniaAPI] Skip computed getter "${r}"`);continue}const s=Object.getOwnPropertyDescriptor(n,r);if(s&&typeof s.get=="function"&&typeof s.set!="function"){console.warn(`[PiniaAPI] Skip defineProperty getter "${r}"`);continue}typeof n[r]!="function"&&(L(n[r])?n[r].value=o:n[r]&&typeof n[r]=="object"&&!Array.isArray(n[r])?(Object.keys(n[r]).forEach(i=>delete n[r][i]),Object.assign(n[r],o)):n.$state&&Object.prototype.hasOwnProperty.call(n.$state,r)?n.$state[r]=o:n[r]=o)}}),!0;for(const r of Object.keys(t))typeof n[r]!="function"&&(T(n[r])||(n[r]=t[r]));return!0}catch(r){return console.error("[PiniaAPI] Error replacing state:",r),!1}}function Oe(e,t){const n=S(e);if(!n)return console.error(`[PiniaAPI] Store "${e}" not found`),{success:!1,updated:[]};const r=[],o=new Set(Object.keys(n.$state||{}));try{return n.$patch(()=>{for(const s of Object.keys(t)){const i=t[s];if(o.has(s)){n.$state&&(n.$state[s]=i,r.push(s));continue}const c=n[s];if(L(c)&&!T(c)){c.value=i,r.push(s);continue}if(c&&typeof c=="object"&&!T(c)){if(Array.isArray(c)&&Array.isArray(i)){c.length=0,c.push(...i),r.push(s);continue}else if(!Array.isArray(c)&&typeof i=="object"){Object.keys(c).forEach(u=>delete c[u]),Object.assign(c,i),r.push(s);continue}}}}),{success:!0,updated:r}}catch(s){return console.error("[PiniaAPI] Error patching getters:",s),{success:!1,updated:r}}}let ce=!1;const pt={PINIA_GET_STORES_SUMMARY:ht,PINIA_BUILD_SEARCH_INDEX:yt,PINIA_GET_STORE_STATE:Et,PINIA_PATCH_STATE:Pt,PINIA_REPLACE_STATE:mt,PINIA_PATCH_GETTERS:It,PINIA_CALL_ACTION:Ot,PINIA_CHECK_DETECTED:gt};function dt(e){if(e.source!==window||!e.data||typeof e.data!="object"||typeof e.data.type!="string"||!e.data.type.startsWith("PINIA_"))return;const t=pt[e.data.type];if(t)try{t(e.data)}catch(n){console.error(`[PiniaAPI] Error handling message type ${e.data.type}:`,n)}}function ht(e){try{const t=Tt();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_STORES_SUMMARY_DATA",summary:t,detected:Z(),requestId:e.requestId},"*")}catch(t){console.error("[PiniaAPI] Error getting stores summary:",t),window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_STORES_SUMMARY_DATA",summary:{},detected:!1,error:String(t),requestId:e.requestId},"*")}}function yt(e){try{const t=Pe();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_SEARCH_INDEX_READY",index:t,requestId:e.requestId},"*")}catch(t){console.error("[PiniaAPI] Error building search index:",t),window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_SEARCH_INDEX_READY",index:[],error:String(t),requestId:e.requestId},"*")}}function Et(e){let t=null,n={},r={};try{t=K(e.storeId)}catch(o){console.warn(`[PiniaAPI] Error getting state for ${e.storeId}:`,o)}try{n=W(e.storeId)}catch(o){console.warn(`[PiniaAPI] Error getting getters for ${e.storeId}:`,o)}try{r=te(e.storeId)}catch(o){console.warn(`[PiniaAPI] Error getting actions for ${e.storeId}:`,o)}window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_STORE_STATE_DATA",storeId:e.storeId,state:t,getters:n,actions:r,requestId:e.requestId},"*")}function Pt(e){try{const t=me(e.storeId,e.path,e.value);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_PATCH_STATE_RESULT",storeId:e.storeId,path:e.path,success:t,requestId:e.requestId},"*")}catch(t){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_PATCH_STATE_RESULT",storeId:e.storeId,path:e.path,success:!1,error:String(t),requestId:e.requestId},"*")}}function mt(e){try{const t=Ie(e.storeId,e.newState);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_REPLACE_STATE_RESULT",storeId:e.storeId,success:t,requestId:e.requestId},"*")}catch(t){console.error("[PiniaAPI] PINIA_REPLACE_STATE error:",t),window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_REPLACE_STATE_RESULT",storeId:e.storeId,success:!1,error:String(t),requestId:e.requestId},"*")}}function It(e){try{const t=Oe(e.storeId,e.newGetters);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_PATCH_GETTERS_RESULT",storeId:e.storeId,...t,requestId:e.requestId},"*")}catch(t){console.error("[PiniaAPI] PINIA_PATCH_GETTERS error:",t),window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_PATCH_GETTERS_RESULT",storeId:e.storeId,success:!1,updated:[],error:String(t),requestId:e.requestId},"*")}}function Ot(e){const{storeId:t,actionName:n,args:r=[]}=e;Promise.resolve(Ee(t,n,...r)).then(o=>{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_CALL_ACTION_RESULT",storeId:t,actionName:n,success:!0,result:o,requestId:e.requestId},"*")}).catch(o=>{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_CALL_ACTION_RESULT",storeId:t,actionName:n,success:!1,error:String(o),requestId:e.requestId},"*")})}function gt(e){const t=Z(),n=ee().length;window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_DETECTED_RESULT",detected:t,storeCount:n,requestId:e.requestId},"*")}function St(e){return new Date(e).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function Tt(){const e=ee();if(e.length===0)return{};const t={},n=Date.now();for(const r of e)try{const o=K(r),s=o?x(o).length:0,i=W(r),c=i?v(i).length:0,u=te(r),f=u?j(u).length:0;t[r]={id:r,baseId:Y(r),stateKeys:s,getterKeys:c,actions:f,lastUpdated:n,lastUpdatedFormatted:St(n)}}catch(o){console.warn(`[PiniaAPI] Error processing store ${r}:`,o)}return t}function At(){ce||(ce=!0,window.addEventListener("message",dt),at(2e3).then(e=>{e&&(G(),ft(e,()=>{G()}))}))}let ue=!1;function Ct(){ue||(ue=!0,At())}const Rt={findPinia:q,isPiniaDetected:Z,getPiniaContext:Q,getPiniaInstance:H,getLiveStoreIds:de,isStoreActive:lt,updatePiniaContext:G,getStore:S,getStoresList:ee,getStoreState:K,createSnapshot:he,getStoreGetters:W,getStoreActions:te,callAction:ye,callActionUnwrapped:Ee,patchState:me,replaceState:Ie,patchGetters:Oe,parsePath:ne,setByPath:_t,isVueRef:F,isVueReactive:X,isComputedRef:et,unwrapValue:m,unwrapRef:tt,unwrapReactive:nt,toPlainObject:ot,getStoreStateKeys:x,getGetterKeys:v,getActionKeys:j,isSetupStore:Je,normalizeStoreId:Y,analyzeStore:Qe,detectSetupStoreByFlag:Ye,detectSetupStoreByEmptyState:Xe,detectSetupStoreByRefs:Ze,buildStoreSearchIndex:Pe,flattenObject:b};window.__PINIA_INSPECTOR__=Rt;let d=null,ae=!1,fe=!1,B=!1;function U(e){window.postMessage({type:"VUE_INSPECTOR_DETECTION_RESULT",__FROM_VUE_INSPECTOR__:!0,...e},"*")}function ge(){ae||!d?.hasVue||(ae=!0,Be())}function Se(){fe||!d?.hasPinia||(fe=!0,Ct())}function Te(e){if(e.source!==window||!e.data||typeof e.data!="object")return;const{type:t}=e.data;if(t==="VUE_INSPECTOR_CHECK_VUE"){if(d&&B){U(d);return}d||(d=le()),U(d),B=!0,window.postMessage({type:"VUE_INSPECTOR_VUE_DETECTED",__FROM_VUE_INSPECTOR__:!0,detected:d.hasVue,url:window.location.href,hasDevToolsHook:!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,hasVue2:d.vueVersion===2},"*"),d.hasVue&&ge(),d.hasPinia&&Se();return}if(t==="VUE_INSPECTOR_GET_FLAGS"){d&&U(d);return}}window.addEventListener("message",Te);d=le();B=!0;d.hasVue&&ge();d.hasPinia&&Se();U(d);window.postMessage({type:"VUE_INSPECTOR_VUE_DETECTED",__FROM_VUE_INSPECTOR__:!0,detected:d.hasVue,url:window.location.href,hasDevToolsHook:!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,hasVue2:d.vueVersion===2},"*");window.postMessage({type:"VUE_INSPECTOR_READY",__FROM_VUE_INSPECTOR__:!0},"*");d.hasVue||window.removeEventListener("message",Te);window.__VUE_INSPECTOR_DETECTION__=()=>d;
