let N=!1,M=!1,x=null,de={},Ge=!1,Te=[];function zn(){if(window.__VUE_DEVTOOLS_GLOBAL_HOOK__)return window.__VUE_DEVTOOLS_GLOBAL_HOOK__;const e={apps:[],emit:()=>{},on:()=>{},once:()=>{},off:()=>{},appRecords:[],_buffer:[]};return window.__VUE_DEVTOOLS_GLOBAL_HOOK__=e,e}function Re(e){try{const t=e._context?.provides?.pinia||e._context?.config?.globalProperties?.$pinia||e.config?.globalProperties?.$pinia;if(t&&t._s instanceof Map)return!0}catch{}return!1}function We(e,t){N||(N=!0,x=t,de.onVueDetected?.(t)),!M&&Re(e)&&(M=!0,de.onPiniaDetected?.())}function Wn(e){if(Ge)return;Ge=!0;const t=e.emit?.bind(e)||(()=>{});if(e.emit=function(n,...o){if(n==="app:init"){const s=o[0];s&&(We(s,3),Fe(s))}return t(n,...o)},e.apps&&Array.isArray(e.apps))for(const n of e.apps)We(n,3),Fe(n);if(e.appRecords&&Array.isArray(e.appRecords))for(const n of e.appRecords)n.app&&(We(n.app,3),Fe(n.app));Te.push(()=>{e.emit=t})}function Fe(e){if(!e||!e.use||e.__piniaIntercepted)return;e.__piniaIntercepted=!0;const t=e.use.bind(e);e.use=function(n,...o){const s=t(n,...o);return M||setTimeout(()=>{Re(e)&&(M=!0,de.onPiniaDetected?.())},0),s}}function Wt(){if(N)return{detected:!0,version:x};const e=window.__VUE_DEVTOOLS_GLOBAL_HOOK__;if(e?.apps&&e.apps.length>0)return N=!0,x=3,{detected:!0,version:3};if(window.__VUE__)return N=!0,x=2,{detected:!0,version:2};const t=window.Vue;if(t){if(t.createApp)return N=!0,x=3,{detected:!0,version:3};if(t.version?.startsWith("2"))return N=!0,x=2,{detected:!0,version:2}}const n=["#app","#root","[data-v-app]"];for(const o of n)try{const s=document.querySelector(o);if(s?.__vue_app__)return N=!0,x=3,{detected:!0,version:3};if(s?.__vue__)return N=!0,x=2,{detected:!0,version:2}}catch{}return{detected:!1,version:null}}function Ft(){if(M)return!0;try{const t=window._s;if(t instanceof Map&&t.size>0)return M=!0,!0}catch{}try{const t=window.__VUE_DEVTOOLS_GLOBAL_HOOK__;if(t?.apps){for(const n of t.apps)if(Re(n))return M=!0,!0}}catch{}const e=["#app","#root"];for(const t of e)try{const n=document.querySelector(t);if(n?.__vue_app__&&Re(n.__vue_app__))return M=!0,!0}catch{}return!1}function pt(){const e=Wt(),t=e.detected?Ft():!1;return{hasVue:e.detected,hasPinia:t,vueVersion:e.version}}function Fn(e){de=e;const t=zn();Wn(t);const n=pt();n.hasVue&&e.onVueDetected&&e.onVueDetected(n.vueVersion),n.hasPinia&&e.onPiniaDetected&&e.onPiniaDetected();let o=null;if(!n.hasVue){let s=0;const r=20,i=()=>{if(s++,!N){const a=Wt();a.detected&&(e.onVueDetected?.(a.version),!M&&Ft()&&e.onPiniaDetected?.())}(s>=r||N&&M)&&(o?.disconnect(),o=null)};o=new MutationObserver(()=>{setTimeout(i,100)}),o.observe(document.body||document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-v-app"]}),Te.push(()=>{o?.disconnect()})}return()=>{Te.forEach(s=>s()),Te=[],de={},Ge=!1}}function oe(){return{hasVue:N,hasPinia:M,vueVersion:x}}function L(){const e=[];if(document.querySelectorAll('[__vue_app__], [__vue__], div, main, section, article, #app, #root, [class*="app"], [class*="vue"], [id*="app"]').forEach(n=>{const o=n;(o.__vue_app__||o.__vue__||o._vnode)&&!e.includes(o)&&e.push(o)}),e.length===0){const n=window.__VUE_DEVTOOLS_GLOBAL_HOOK__;if(n?.apps&&n.apps.length>0)for(const o of n.apps){const s=o._instance?.root?.el||o._container?._vnode?.el;s&&s instanceof HTMLElement&&!e.includes(s)&&e.push(s)}}return e}function se(e){if(e.__vue_app__){const t=e.__vue_app__;return t._instance?.root??t._container?._vnode??e._vnode}else if(e.__vue__){const t=e.__vue__,n=t.$root||t;return n.$vnode||n}return e._vnode}function Ne(){const e=L(),t=!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,n=!!window.__VUE__;return e.length>0||t||n}function Ae(){const e=L(),t=e.some(s=>{if(s.__vue_app__)return!0;const r=s._vnode;return r&&r.component}),n=e.some(s=>s.__vue__&&!s.__vue_app__);return{version:t?3:n?2:3,roots:e}}const Kn=8,Xn=12,ce=50,Gn=30,Ut=500,Yn=5,Jn=500;function Qn(e){return{visited:new WeakSet,startTime:performance.now(),nodeCount:0,timedOut:!1,nodeLimit:!1}}function Q(e){return e.timedOut||e.nodeLimit?!0:e.nodeCount%50===0&&performance.now()-e.startTime>Kn?(e.timedOut=!0,!0):e.nodeCount>=Jn?(e.nodeLimit=!0,!0):!1}function F(e){return e.nodeCount++,!Q(e)}function ft(e){return!e||typeof e!="object"?!1:typeof e.nodeType=="number"}function Kt(e){return e&&e.__v_isRef===!0}function Zn(e,t){if(Q(t))return[];try{return Object.keys(e)}catch{return[]}}function eo(e,t){try{return e[t]}catch{return}}function to(e){return e.length<=Ut?e:e.substring(0,Ut)+"...[truncated]"}function Xt(e){if(e==null)return e;const t=typeof e;return t==="string"?to(e):t==="number"||t==="boolean"?e:t==="bigint"?e.toString()+"n":t==="symbol"?e.toString():e}function no(e,t=Yn){let n=e,o=0;for(;n&&Kt(n)&&o<t;){try{n=n.value}catch{return"[Ref access error]"}o++}return o>=t?"[Ref depth exceeded]":n}function oo(e,t,n){if(!F(t))return{__type:"Map",__timeout:!0};const o={__type:"Map",entries:[]};let s=0;try{for(const[r,i]of e){if(Q(t)||s>=ce){o.truncated=!0;break}const a=typeof r=="object"?"[Object]":String(r),u=ie(i,t,n+1);o.entries.push([a,u]),s++}}catch{o.error=!0}return o}function so(e,t,n){if(!F(t))return{__type:"Set",__timeout:!0};const o={__type:"Set",values:[]};let s=0;try{for(const r of e){if(Q(t)||s>=ce){o.truncated=!0;break}o.values.push(ie(r,t,n+1)),s++}}catch{o.error=!0}return o}function ro(e,t,n){if(!F(t))return["[Serialization timeout]"];const o=[],s=Math.min(e.length,ce);for(let r=0;r<s;r++){if(Q(t)){o.push("[Serialization timeout]");break}const i=e[r];if(typeof i=="function"||ft(i))continue;if(typeof i=="object"&&i!==null&&t.visited.has(i)){o.push("[Circular]");continue}const a=ie(i,t,n+1);a!==void 0&&o.push(a)}return e.length>ce&&o.push(`...[${e.length-ce} more items]`),o}function io(e,t,n){if(!F(t))return{__timeout:!0};const o={};let s=0;t.visited.add(e);const r=Zn(e,t);for(const i of r){if(Q(t)){o.__timeout=!0;break}if(s>=Gn){o.__truncated=!0;break}if(i.startsWith("__v_")||i.startsWith("_"))continue;const a=eo(e,i);if(a===void 0||typeof a=="function"||ft(a))continue;if(typeof a=="object"&&a!==null&&t.visited.has(a)){o[i]="[Circular]",s++;continue}const u=ie(a,t,n+1);u!==void 0&&(o[i]=u,s++)}return o}function ie(e,t,n){if(Q(t))return t.timedOut?"[Serialization timeout]":"[Too many nodes]";if(e==null)return e;if(typeof e!="object"&&typeof e!="function")return Xt(e);if(typeof e!="function"){if(n>Xn)return"[Max depth exceeded]";if(!ft(e)){if(t.visited.has(e))return"[Circular]";if(Kt(e)){t.visited.add(e);const o=no(e);return typeof o=="string"&&o.startsWith("[")?o:ie(o,t,n+1)}if(e instanceof Date)return F(t),e.toISOString();if(e instanceof RegExp)return F(t),e.toString();if(e instanceof Error)return F(t),{__type:"Error",message:e.message,name:e.name};if(e instanceof Map)return t.visited.add(e),oo(e,t,n);if(e instanceof Set)return t.visited.add(e),so(e,t,n);if(!(e instanceof WeakMap||e instanceof WeakSet||e instanceof Promise))return Array.isArray(e)?(t.visited.add(e),ro(e,t,n)):io(e,t,n)}}}function re(e,t){if(e==null)return e;if(typeof e!="object")return Xt(e);const n=Qn();return ie(e,n,0)}function ao(e){if(!e)return null;if(e.classList?.contains("or-select")||e.hasAttribute?.("data-test-id"))return e;let t=e;for(;t&&t!==document.body;){if(t.classList?.contains("or-select")||t.hasAttribute?.("data-test-id"))return t;t=t.parentElement}return e}function Vt(e){return e?{tagName:e.tagName?.toLowerCase(),id:e.id||void 0,className:typeof e.className=="string"?e.className:void 0,testId:e.getAttribute?.("data-test-id")||void 0}:null}function co(e){if(e.id)return`#${e.id}`;let t=[],n=e;for(;n&&n!==document.body;){let o=n.tagName.toLowerCase();if(n.className&&typeof n.className=="string"){const i=n.className.trim().split(/\s+/).filter(a=>/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(a)&&!a.includes("animate-")&&!a.includes("transition-")&&!a.includes("backdrop-"));i.length>0&&(o+="."+i.slice(0,3).join("."))}if(Array.from(n.parentElement?.children||[]).filter(i=>{if(i.tagName!==n.tagName)return!1;const a=(n.className||"").split(/\s+/).filter(p=>!p.includes("animate-")&&!p.includes("transition-")&&!p.includes("backdrop-")),u=(i.className||"").split(/\s+/).filter(p=>!p.includes("animate-")&&!p.includes("transition-")&&!p.includes("backdrop-"));return a.length>0&&u.length>0?a.some(p=>u.includes(p)):i.className===n.className}).length>1){const a=Array.from(n.parentElement?.children||[]).indexOf(n);o+=`:nth-child(${a+1})`}if(t.unshift(o),n=n.parentElement,t.length>4)break}return t.join(" > ")}const uo={maxComponents:1e3,propsCacheTtl:2e3,maxHistorySize:100,cleanupInterval:3e4};class lo{instanceMap=new WeakMap;pathToInstance=new Map;pathOrder=[];changeHistory=[];config;cleanupTimer=null;disposed=!1;constructor(t={}){this.config={...uo,...t},this.startCleanupTimer()}getByInstance(t){return this.disposed?null:this.instanceMap.get(t)??null}getByPath(t){if(this.disposed)return null;const n=this.pathToInstance.get(t);if(!n)return null;const o=n.deref();return o?this.instanceMap.get(o)??null:(this.pathToInstance.delete(t),this.removeFromPathOrder(t),null)}set(t,n){if(this.disposed)return!1;const s=!!this.instanceMap.get(t);return!s&&this.pathOrder.length>=this.config.maxComponents&&this.evictOldest(),this.instanceMap.set(t,n),this.pathToInstance.set(n.path,new WeakRef(t)),this.updatePathOrder(n.path),this.recordChange(n.path,s?"update":"add"),s}removeByPath(t){if(this.disposed)return!1;const n=this.pathToInstance.get(t);if(!n)return!1;const o=n.deref();return o&&this.instanceMap.delete(o),this.pathToInstance.delete(t),this.removeFromPathOrder(t),this.recordChange(t,"remove"),!0}getAllComponents(){if(this.disposed)return[];const t=[],n=[];for(const o of this.pathOrder){const s=this.pathToInstance.get(o);if(!s){n.push(o);continue}const r=s.deref();if(!r){n.push(o);continue}const i=this.instanceMap.get(r);i&&t.push(i)}for(const o of n)this.pathToInstance.delete(o),this.removeFromPathOrder(o);return t}getChangeHistory(){return[...this.changeHistory]}clear(){this.instanceMap=new WeakMap,this.pathToInstance.clear(),this.pathOrder=[],this.changeHistory=[]}cleanup(){if(this.disposed)return 0;let t=0;const n=Date.now(),o=[];for(const s of this.pathOrder){const r=this.pathToInstance.get(s);if(!r){o.push(s);continue}const i=r.deref();if(!i){o.push(s);continue}const a=this.instanceMap.get(i);a&&a._serializedProps&&n-a.lastUpdated>this.config.propsCacheTtl&&(a._serializedProps=null)}for(const s of o)this.pathToInstance.delete(s),this.removeFromPathOrder(s),t++;return this.changeHistory.length>this.config.maxHistorySize&&(this.changeHistory=this.changeHistory.slice(-this.config.maxHistorySize)),t}dispose(){this.disposed||(this.disposed=!0,this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null),this.clear())}isDisposed(){return this.disposed}getStats(){return{size:this.pathOrder.length,maxSize:this.config.maxComponents,historySize:this.changeHistory.length}}startCleanupTimer(){this.cleanupTimer=setInterval(()=>{this.cleanup()},this.config.cleanupInterval)}evictOldest(){if(this.pathOrder.length>0){const t=this.pathOrder.shift();if(t){const n=this.pathToInstance.get(t);if(n){const o=n.deref();o&&this.instanceMap.delete(o)}this.pathToInstance.delete(t)}}}updatePathOrder(t){this.removeFromPathOrder(t),this.pathOrder.push(t)}removeFromPathOrder(t){const n=this.pathOrder.indexOf(t);n>-1&&this.pathOrder.splice(n,1)}recordChange(t,n){this.changeHistory.push({path:t,timestamp:Date.now(),type:n}),this.changeHistory.length>this.config.maxHistorySize*2&&(this.changeHistory=this.changeHistory.slice(-this.config.maxHistorySize))}}function po(e){if(!e||typeof e!="object")return"empty";try{const t=Object.keys(e).sort();if(t.length===0)return"empty";const n=[];for(const o of t.slice(0,20)){const s=e[o],r=typeof s;r==="object"&&s!==null?Array.isArray(s)?n.push(`${o}:arr${s.length}`):n.push(`${o}:obj${Object.keys(s).length}`):r==="string"?n.push(`${o}:s${s.substring(0,20)}`):r==="number"||r==="boolean"?n.push(`${o}:${s}`):n.push(`${o}:${r}`)}return n.join("|")}catch{return"error"}}let Ee=null;function dt(){return(!Ee||Ee.isDisposed())&&(Ee=new lo({maxComponents:1e3,propsCacheTtl:2e3,maxHistorySize:100,cleanupInterval:3e4})),Ee}class Gt{visited=new WeakSet;visitedPrimitives=new Set;visitCount=0;maxVisits;constructor(t=1e4){this.maxVisits=t}isValidObject(t){return t!==null&&(typeof t=="object"||typeof t=="function")}visit(t){return this.visitCount>=this.maxVisits||t==null?!1:this.isValidObject(t)?this.visited.has(t)?!1:(this.visited.add(t),this.visitCount++,!0):this.visitedPrimitives.has(t)?!1:(this.visitedPrimitives.add(t),this.visitCount++,!0)}hasVisited(t){return t==null?!1:this.isValidObject(t)?this.visited.has(t):this.visitedPrimitives.has(t)}getVisitCount(){return this.visitCount}isLimitReached(){return this.visitCount>=this.maxVisits}clear(){this.visited=new WeakSet,this.visitedPrimitives.clear(),this.visitCount=0}}const fo=100,Ke=new WeakMap;function ho(e){if(!e)return`anon_${Math.random().toString(36).substr(2,9)}`;if(Ke.has(e))return Ke.get(e);const t=e.uid??e._uid??`anon_${Math.random().toString(36).substr(2,9)}`,n=String(t);return Ke.set(e,n),n}function _o(e){return e&&(e.type?.name||e.type?.__name||e.type?.displayName||e.$options?.name)||"Anonymous"}function mo(e){return e&&(e.props||e.$props||e.propsData||e._props)||null}function Yt(e,t,n,o){if(!e)return null;const s=dt(),r=ho(e),i=_o(e),a=t?.el||t?.elm;let u=r;if(a instanceof HTMLElement){const T=co(a);T&&(u=`${u}::${T}`);const R=a.textContent;if(R&&R.length>0&&R.length<50){const b=R.trim().replace(/\s+/g," ");b.length>0&&(u=`${u}::text:${b}`)}}const p=`${n}::${i}::${u}`,c=s.getByInstance(e),l=mo(e),f=po(l);if(c&&c.propsHash===f)return c.lastUpdated=Date.now(),c;const _=Vt(a),y=ao(a),I=y?Vt(y):_,w={uid:r,name:i,path:p,instance:e,vnode:t,element:_,rootElement:I,lastUpdated:Date.now(),propsHash:f,_serializedProps:null,_rawPropsRef:l?new WeakRef(l):null};return s.set(e,w),w}function go(e){if(e._serializedProps)return e._serializedProps;const t=e._rawPropsRef?.deref();if(!t)return{};const n=re(t);return e._serializedProps=n,n}function Jt(e){const t=go(e),n=Object.keys(t).length;return{name:e.name,props:t,path:e.path,element:e.element,hasProps:n>0,propsCount:n,rootElement:e.rootElement}}function yo(e,t){return t.version===3&&!!e.component}function Eo(e,t){return t.version===2&&!!(e.componentInstance||e.context)}function To(e,t,n,o,s,r,i){const a=Yt(e.component,e,t||"root");a&&i.push(a),e.component.subTree&&he(e.component.subTree,`${t||"root"}.subTree`,o+1,n,s,r,i)}function So(e,t,n,o,s,r,i){const a=e.componentInstance||e.context;if(!a)return;const u=Yt(a,e,t||"root");if(u&&i.push(u),a.$children&&Array.isArray(a.$children))for(let p=0;p<a.$children.length;p++){const c=a.$children[p];c.$vnode&&s.visit(c.$vnode)&&he(c.$vnode,`${t||"root"}.children[${p}]`,o+1,n,s,r,i)}}function Ro(e,t,n,o,s,r,i){if(Array.isArray(e.children))for(let a=0;a<e.children.length;a++){const u=e.children[a];u&&s.visit(u)&&he(u,`${t||"root"}.children[${a}]`,n+1,o,s,r,i)}else e.children&&typeof e.children=="object"&&s.visit(e.children)&&he(e.children,`${t||"root"}.children`,n+1,o,s,r,i)}function he(e,t,n,o,s,r,i){if(!e||n>fo||s.isLimitReached())return;const a=yo(e,r),u=Eo(e,r);a?To(e,t,o,n,s,r,i):u&&So(e,t,o,n,s,r,i),Ro(e,t,n,o,s,r,i)}function Io(e,t="",n=0,o,s,r){const i=[];return!e||!s.visit(e)||he(e,t,n,o,s,r,i),i}function wo(){return dt().getAllComponents()}function Oo(){return wo().map(Jt)}let ht=0;const Co=50;function Po(e){return e.length===0?"empty":e.map((n,o)=>{const s=n.__vue_app__,r=n.__vue__,i=s?._uid??r?._uid??o;return`${o}:${i}`}).join("|")}function bo(){return Date.now()-ht<Co&&dt().getAllComponents().length>0}function ke(){const e=Date.now();if(bo())return Oo();const t=performance.now(),n=[],o=L();if(Po(o),o.length>0)for(let s=0;s<o.length;s++){const r=o[s],i=se(r);if(!i)continue;const u={version:r.__vue__&&!r.__vue_app__?2:3},p=new Gt(1e4),c=Io(i,`root[${s}]`,0,r,p,u);n.push(...c)}return performance.now()-t,ht=e,n.map(Jt)}function No(){return ht=0,ke()}function Qt(e){if(!e||!e.type||e.type.name!=="AsyncComponentWrapper")return e;const t=[e.subTree?.component,e.subTree?.subTree?.component,e.vnode?.subTree?.component];for(const n of t)if(n&&n!==e)return n;return e}const Xe=new WeakMap,k=new Map,Zt=500,Ye=100,Ao=3e4;let ue=null;function ko(){ue||(ue=setInterval(()=>{tn()},Ao))}function en(){ue&&(clearInterval(ue),ue=null)}function tn(){const e=Date.now(),t=[];for(const[n,o]of k)e-o.timestamp>Zt&&t.push(n);for(const n of t)k.delete(n);if(k.size>Ye){const n=Array.from(k.entries()).sort((s,r)=>s[1].timestamp-r[1].timestamp),o=n.slice(0,n.length-Ye);for(const[s]of o)k.delete(s)}}ko();function Mo(e){const t=k.get(e);return t?Date.now()-t.timestamp>Zt?(k.delete(e),null):t.vnode:null}function Lt(e,t){k.size>=Ye&&tn(),k.set(e,{vnode:t,timestamp:Date.now()})}function Uo(e){if(Xe.has(e))return Xe.get(e);const t=L();for(const n of t){const o=se(n);if(!o)continue;const s=Je(o,e,new WeakSet);if(s)return Xe.set(e,s),s}return null}function Je(e,t,n){if(!e||n.has(e))return null;if(n.add(e),e.el===t||e.component?.subTree?.el===t)return e;if(Array.isArray(e.children)){for(const o of e.children)if(o&&typeof o=="object"){const s=Je(o,t,n);if(s)return s}}if(e.component?.subTree){const o=Je(e.component.subTree,t,n);if(o)return o}return null}function Me(e){const t=Mo(e);if(t)return t;const n=L();if(n.length===0)return null;const o=e.split("::"),s=o[0],r=o[1],i=o[2],a=i?i.split("::")[0]:null,u=o.findIndex((c,l)=>c.startsWith("#")||c.includes(" > ")||c.includes(".")&&l>2);if(u!==-1){let c=o.slice(u).join("::").replace(/^::/,"");c.includes("::text:")&&(c=c.split("::text:")[0]);try{const l=document.querySelector(c);if(l instanceof HTMLElement){const f=Uo(l);if(f)return Lt(e,f),f}}catch{}}const p=Vo(n,s,r,a);return p&&Lt(e,p),p}function Vo(e,t,n,o){const s=t.split(".");if(s.length===1&&s[0]==="root"){const l=e[0],f=se(l);return f?.component?f:null}if(s.length===0||!s[0].startsWith("root"))return null;let r=0;if(s[0].startsWith("root[")){const l=s[0].match(/root\[(\d+)\]/);if(!l)return null;r=parseInt(l[1],10)}if(r>=e.length)return null;const i=e[r],a=se(i);if(!a)return null;if(s.length===1)return a;const p=Ae().version===2;let c=a;for(let l=1;l<s.length;l++){const f=s[l];if(f==="subTree")c=Lo(c,p);else if(f.startsWith("children["))c=xo(c,f,p);else if(f.startsWith("vnodeChildren["))c=Ho(c,f);else return null;if(!c)return null}if(n&&c&&Do(c,p)===n){if(o&&o!=="undefined"&&o!=="null"){const f=c.component?.uid||c._uid;if(f&&String(f)!==o&&!o.startsWith("anon_"))return null}return c}return c}function Lo(e,t){if(e.component?.subTree)return e.component.subTree;if(t){if(e.child?.component?.subTree)return e.child.component.subTree;if(e.child)return e.child;if(e.componentInstance?.$vnode)return e.componentInstance.$vnode}return null}function xo(e,t,n){const o=t.match(/children\[(\d+)\]/);if(!o)return null;const s=parseInt(o[1],10);if(Array.isArray(e.children))return s<e.children.length?e.children[s]:null;if(n){const r=[e.componentInstance?.$children,e.context?.$children,e.$children,e.children];for(const i of r)if(Array.isArray(i)&&s<i.length){const a=i[s];return a.$vnode||a}}return null}function Ho(e,t){const n=t.match(/vnodeChildren\[(\d+)\]/);if(!n||!Array.isArray(e.children))return null;const o=parseInt(n[1],10);return o<e.children.length?e.children[o]:null}function Do(e,t){return e.component?.type?.name||e.component?.type?.__name||e.component?.type?.displayName||e.component?.type?.__file?.split("/").pop()?.replace(/\.vue$/,"")||(t?e.$options?.name:null)||"Anonymous"}function Ie(e){if(!e||typeof e!="object")return!1;try{const t=Symbol("test");return e[t]=!0,delete e[t],!0}catch{return!1}}function $o(e){const t=Me(e);return t?t.component&&t.el&&t.props&&!t.vnode?{vnode:t,instance:t.component,propsTarget:t.props,isVue2:!1}:vo(t):Bo(e)}function vo(e){const n=Ae().version===2;let o=null,s=null;if(n)o=e.componentInstance||e.context||e,s=o?.$props||o?.propsData||o?._props||null;else if(o=e.component,o){const r=Qt(o)||o,i=r.props&&Ie(r.props),a=e.props&&Ie(e.props);i?s=r.props:a?s=e.props:s=r.props||e.props||null}return{vnode:e,instance:o,propsTarget:s,isVue2:n}}function Bo(e){const n=e.split("::")[1];if(!n)return null;const s=ke().find(i=>i.name===n);if(!s)return null;const r=jo(n);if(r){const a=Ae().version===2;let u=r.component,p=null;if(!a&&u){const c=Qt(u)||u;p=c.props&&Ie(c.props)?c.props:r.props&&Ie(r.props)?r.props:null}return{vnode:r,instance:u,propsTarget:p,isVue2:a}}return{vnode:{component:s,el:s.element,props:s.props},instance:s,propsTarget:s.props,isVue2:!1}}function jo(e){const t=L();for(const n of t){const o=se(n);if(!o)continue;const s=Qe(o,e,new WeakSet);if(s)return s}return null}function Qe(e,t,n){if(!e||n.has(e))return null;if(n.add(e),(e.component?.type?.name||e.component?.type?.__name||e.component?.type?.displayName||e.$options?.name)===t)return e;if(Array.isArray(e.children)){for(const s of e.children)if(s&&typeof s=="object"){const r=Qe(s,t,n);if(r)return r}}if(e.component?.subTree){const s=Qe(e.component.subTree,t,n);if(s)return s}return null}function nn(){k.clear(),en()}function qo(){k.clear(),en()}const zo={maxComponents:2e3,maxHistorySize:500,propsFloodLimit:50,propsFloodWindow:1e3,cleanupInterval:3e4};class Wo{buffer;head=0;tail=0;size=0;capacity;constructor(t){this.capacity=t,this.buffer=new Array(t)}push(t){this.buffer[this.tail]=t,this.tail=(this.tail+1)%this.capacity,this.size<this.capacity?this.size++:this.head=(this.head+1)%this.capacity}getAll(){const t=[];let n=this.head;for(let o=0;o<this.size;o++){const s=this.buffer[n];s!==void 0&&t.push(s),n=(n+1)%this.capacity}return t}getRecent(t){const n=[],o=Math.max(0,this.size-t);let s=(this.head+o)%this.capacity;for(let r=o;r<this.size;r++){const i=this.buffer[s];i!==void 0&&n.push(i),s=(s+1)%this.capacity}return n}clear(){this.buffer=new Array(this.capacity),this.head=0,this.tail=0,this.size=0}getSize(){return this.size}}class Fo{instanceMap=new WeakMap;uidIndex=new Map;nameIndex=new Map;labelIndex=new Map;rootIndex=new WeakMap;changeHistory;propsUpdateTimestamps=new Map;config;cleanupTimer=null;disposed=!1;nextUid=1;constructor(t={}){this.config={...zo,...t},this.changeHistory=new Wo(this.config.maxHistorySize),this.startCleanupTimer()}generateUid(){return this.nextUid++}getOrCreateUid(t){const n=this.instanceMap.get(t);return n?n.uid:this.generateUid()}registerComponent(t,n){const o=this.instanceMap.get(t);if(o)return(o.name!==n.name||o.label!==n.label||o.rootEl!==n.rootEl)&&(this.updateIndexes(o,n),o.name=n.name,o.label=n.label,o.vnode=n.vnode,o.rootEl=n.rootEl,o.lastStructureUpdate=Date.now(),o.isVisible=!0,this.recordChange({uid:o.uid,timestamp:Date.now(),type:"structure_change"})),o;const s=n.uid??this.generateUid(),r={uid:s,name:n.name,label:n.label,instance:t,vnode:n.vnode,rootEl:n.rootEl,isVisible:!0,isExpanded:!1,lastStructureUpdate:Date.now(),propsUpdateCount:0,propsDisabled:!1};return this.uidIndex.size>=this.config.maxComponents&&this.evictOldest(),this.instanceMap.set(t,r),this.uidIndex.set(s,new WeakRef(t)),this.addToIndexes(r),this.recordChange({uid:s,timestamp:Date.now(),type:"mount"}),r}unregisterComponent(t){const n=this.instanceMap.get(t);n&&(this.recordChange({uid:n.uid,timestamp:Date.now(),type:"unmount"}),this.removeFromIndexes(n),this.uidIndex.delete(n.uid),this.propsUpdateTimestamps.delete(n.uid))}readProps(t,n){if(t.propsDisabled)return!1;if(this.isPropsFlooding(t.uid))return t.propsDisabled=!0,console.warn(`[VueInspector] Props tracking disabled for component ${t.uid} due to flood`),!1;const o=this.hashProps(n),s=t.propsSnapshot;if(s&&s.hash===o)return!1;if(t.propsSnapshot={raw:n,lastUpdated:Date.now(),hash:o},t.propsUpdateCount++,this.trackPropsUpdate(t.uid),s){const r=this.computePropsDiff(s.raw,n);Object.keys(r).length>0&&this.recordChange({uid:t.uid,timestamp:Date.now(),type:"props_change",diff:r})}return!0}clearPropsSnapshot(t){t.propsSnapshot=void 0}enablePropsTracking(t){const n=this.getByUid(t);n&&(n.propsDisabled=!1,n.propsUpdateCount=0,this.propsUpdateTimestamps.delete(t))}getByInstance(t){return this.instanceMap.get(t)??null}getByUid(t){const n=this.uidIndex.get(t);if(!n)return null;const o=n.deref();return o?this.instanceMap.get(o)??null:(this.uidIndex.delete(t),null)}getByRootElement(t){const n=this.rootIndex.get(t);return n===void 0?null:this.getByUid(n)}getAllComponents(t=!1){const n=[],o=[];for(const[s,r]of this.uidIndex){const i=r.deref();if(!i){o.push(s);continue}const a=this.instanceMap.get(i);a&&(t||a.isVisible)&&n.push(a)}for(const s of o)this.uidIndex.delete(s);return n}searchByName(t){const n=[],o=t.toLowerCase();for(const[s,r]of this.nameIndex)if(s.toLowerCase().includes(o))for(const i of r){const a=this.getByUid(i);a&&n.push(a)}return n}searchByLabel(t){const n=[],o=t.toLowerCase();for(const[s,r]of this.labelIndex)if(s.toLowerCase().includes(o))for(const i of r){const a=this.getByUid(i);a&&n.push(a)}return n}fastSearch(t){const n=new Set,o=[];for(const s of this.searchByName(t))n.has(s.uid)||(n.add(s.uid),o.push(s));for(const s of this.searchByLabel(t))n.has(s.uid)||(n.add(s.uid),o.push(s));return o}searchByKeyValue(t,n){const o=[],s=t.toLowerCase();for(const r of this.getAllComponents()){if(!r.propsSnapshot){const i=n(r);i&&this.readProps(r,i)}r.propsSnapshot&&this.matchesKeyValue(r.propsSnapshot.raw,s)&&o.push(r)}return o}setExpanded(t,n){const o=this.getByUid(t);o&&(o.isExpanded=n)}setVisible(t,n){const o=this.getByUid(t);o&&(o.isVisible=n)}getExpandedComponents(){return this.getAllComponents().filter(t=>t.isExpanded)}getRecentChanges(t=50){return this.changeHistory.getRecent(t)}getAllChanges(){return this.changeHistory.getAll()}cleanup(){if(this.disposed)return{removed:0,propsCleared:0,indexesCleaned:0};let t=0,n=0,o=0;const s=[];for(const[r,i]of this.uidIndex){const a=i.deref();if(!a){s.push(r),t++;continue}const u=this.instanceMap.get(a);u&&u.propsSnapshot&&!u.isExpanded&&!u.isVisible&&(u.propsSnapshot=void 0,n++)}for(const r of s)this.uidIndex.delete(r),this.propsUpdateTimestamps.delete(r),o+=this.cleanDeadUidFromNameIndex(r),o+=this.cleanDeadUidFromLabelIndex(r);return{removed:t,propsCleared:n,indexesCleaned:o}}cleanDeadUidFromNameIndex(t){let n=0;const o=[];for(const[s,r]of this.nameIndex)r.has(t)&&(r.delete(t),n++,r.size===0&&o.push(s));for(const s of o)this.nameIndex.delete(s);return n}cleanDeadUidFromLabelIndex(t){let n=0;const o=[];for(const[s,r]of this.labelIndex)r.has(t)&&(r.delete(t),n++,r.size===0&&o.push(s));for(const s of o)this.labelIndex.delete(s);return n}clear(){this.instanceMap=new WeakMap,this.uidIndex.clear(),this.nameIndex.clear(),this.labelIndex.clear(),this.rootIndex=new WeakMap,this.changeHistory.clear(),this.propsUpdateTimestamps.clear(),this.nextUid=1}dispose(){this.disposed||(this.disposed=!0,this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null),this.clear())}isDisposed(){return this.disposed}getStats(){return{componentCount:this.uidIndex.size,maxComponents:this.config.maxComponents,historySize:this.changeHistory.getSize(),maxHistorySize:this.config.maxHistorySize}}startCleanupTimer(){this.cleanupTimer=setInterval(()=>{this.cleanup()},this.config.cleanupInterval)}evictOldest(){let t=null,n=1/0;for(const o of this.getAllComponents(!0))!o.isExpanded&&o.lastStructureUpdate<n&&(n=o.lastStructureUpdate,t=o);t&&this.unregisterComponent(t.instance)}addToIndexes(t){if(t.name){const n=this.nameIndex.get(t.name)??new Set;n.add(t.uid),this.nameIndex.set(t.name,n)}if(t.label){const n=this.labelIndex.get(t.label)??new Set;n.add(t.uid),this.labelIndex.set(t.label,n)}t.rootEl&&this.rootIndex.set(t.rootEl,t.uid)}removeFromIndexes(t){if(t.name){const n=this.nameIndex.get(t.name);n&&(n.delete(t.uid),n.size===0&&this.nameIndex.delete(t.name))}if(t.label){const n=this.labelIndex.get(t.label);n&&(n.delete(t.uid),n.size===0&&this.labelIndex.delete(t.label))}}updateIndexes(t,n){if(t.name!==n.name){if(t.name){const o=this.nameIndex.get(t.name);o&&(o.delete(t.uid),o.size===0&&this.nameIndex.delete(t.name))}if(n.name){const o=this.nameIndex.get(n.name)??new Set;o.add(t.uid),this.nameIndex.set(n.name,o)}}if(t.label!==n.label){if(t.label){const o=this.labelIndex.get(t.label);o&&(o.delete(t.uid),o.size===0&&this.labelIndex.delete(t.label))}if(n.label){const o=this.labelIndex.get(n.label)??new Set;o.add(t.uid),this.labelIndex.set(n.label,o)}}n.rootEl&&n.rootEl!==t.rootEl&&this.rootIndex.set(n.rootEl,t.uid)}recordChange(t){this.changeHistory.push(t)}hashProps(t){if(!t||typeof t!="object")return"empty";try{const n=Object.keys(t).sort();if(n.length===0)return"empty";const o=[];for(const s of n.slice(0,30)){const r=t[s],i=typeof r;i==="object"&&r!==null?Array.isArray(r)?o.push(`${s}:arr${r.length}`):o.push(`${s}:obj${Object.keys(r).length}`):i==="string"?o.push(`${s}:s${String(r).substring(0,30)}`):i==="number"||i==="boolean"?o.push(`${s}:${r}`):o.push(`${s}:${i}`)}return o.join("|")}catch{return"error"}}computePropsDiff(t,n){const o={},s=t,r=n,i=new Set([...Object.keys(s),...Object.keys(r)]);for(const a of i){const u=s[a],p=r[a];u!==p&&(o[a]={old:u,new:p})}return o}isPropsFlooding(t){const n=this.propsUpdateTimestamps.get(t)??[],s=Date.now()-this.config.propsFloodWindow;return n.filter(i=>i>=s).length>=this.config.propsFloodLimit}trackPropsUpdate(t){const n=Date.now(),o=this.propsUpdateTimestamps.get(t)??[],s=n-this.config.propsFloodWindow,r=o.filter(i=>i>=s);r.push(n),this.propsUpdateTimestamps.set(t,r)}matchesKeyValue(t,n){const o=t;for(const[s,r]of Object.entries(o))if(s.toLowerCase().includes(n)||typeof r=="string"&&r.toLowerCase().includes(n)||typeof r=="number"&&String(r).includes(n)||typeof r=="boolean"&&String(r).includes(n))return!0;return!1}}let W=null;function S(){return(!W||W.isDisposed())&&(W=new Fo),W}function on(){W&&(W.dispose(),W=null)}function Ko(e,t){return e instanceof Set?t instanceof Set?t:new Set(Array.isArray(t)?t:[]):e instanceof Map?t instanceof Map?t:new Map(t??[]):t}function Xo(e,t){return e?.__v_isRef?(e.value=t,e):Ko(e,t)}function Go(e,t){const o=`update:${t.replace(/^-/,"")}`;return!!(e?.emitsOptions?.[o]||e?.$listeners?.[o])}function Yo(e,t,n){const s=`update:${t.replace(/^-/,"")}`;return e?.emit?(e.emit(s,n),!0):e?.$emit?(e.$emit(s,n),!0):!1}function Jo(e){const n=S().getByUid(e);return n?n.instance:null}function xt(e){return e?e.props?e.props:e.$props?e.$props:e._props?e._props:e.propsData?e.propsData:null:null}function _t(e,t){let n=null,o=null;if(e.startsWith("uid:")){const r=e.substring(4),i=parseInt(r,10);isNaN(i)||(n=Jo(i),o=xt(n))}if(!o){const r=$o(e)??Qo(e);r?.instance&&(n=r.instance,o=xt(n))}if(!n||!o)return!1;let s=!1;for(const r in t)if(r in o)try{const i=o[r];if(Go(n,r)&&Yo(n,r,t[r])){s=!0;continue}const a=Xo(i,t[r]);o[r]=a,s=!0}catch{}return s}function Qo(e){const{findVueRoots:t,extractRootVNode:n,detectVueContext:o}=require("./vue-detect"),s=t(),i=o().version===2;function a(u,p=""){if(!u)return null;let c=null;if(i?c=u.componentInstance||u.context:c=u.component,c){const l=c.uid||c._uid,f=c.type?.name||c.type?.__name||c.$options?.name;if(l===e||l?.toString()===e||f===e)return{vnode:u,instance:c,propsTarget:c.props||u.props,isVue2:i}}if(u.children&&Array.isArray(u.children))for(let l=0;l<u.children.length;l++){const f=a(u.children[l],`${p}.children[${l}]`);if(f)return f}if(!i&&u.component?.subTree){const l=a(u.component.subTree,`${p}.subTree`);if(l)return l}if(i&&c?.$children)for(let l=0;l<c.$children.length;l++){const f=c.$children[l];if(f.$vnode){const _=a(f.$vnode,`${p}.$children[${l}]`);if(_)return _}}return null}for(let u=0;u<s.length;u++){const p=s[u],c=n(p);if(c){const l=a(c,`root[${u}]`);if(l)return l}}return null}const Ze="data-vue-inspector-uid";function Zo(e,t){!t||!(t instanceof HTMLElement)||t.isConnected&&t.setAttribute(Ze,String(e))}function es(e){const t=document.querySelector(`[${Ze}="${e}"]`);t instanceof HTMLElement&&t.removeAttribute(Ze)}function ts(){const t=S().getAllComponents();for(const n of t)n.rootEl&&n.rootEl.isConnected&&Zo(n.uid,n.rootEl)}const ns=es,os=ts,sn={maxDepth:100,maxComponents:1e4};let Ue=0,et=new Set,ge=!1,we=1;const H={totalScans:0,lastScanDuration:0,lastScanResult:null,skippedDueToVisibility:0};function ss(){typeof document>"u"||document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?(we=10,console.debug("[VueInspector] Page hidden - reducing scan frequency")):(we=1,console.debug("[VueInspector] Page visible - normal scan frequency"))})}function rs(){ge=!0}function is(){ge=!1}function as(){return ge}function cs(e){if(ge)return H.skippedDueToVisibility++,!0;const t=e*we;return Date.now()-Ue<t}function rn(e){return e&&(e.type?.name||e.type?.__name||e.type?.displayName||e.$options?.name||e.$options?._componentTag)||"Anonymous"}function an(e,t){const n=t?.el||t?.elm;if(n instanceof HTMLElement){const o=n.getAttribute("data-testid")||n.getAttribute("data-test");if(o)return o}if(t?.ref){if(typeof t.ref=="string")return t.ref;if(t.ref?.i)return String(t.ref.i)}if(t?.key!==void 0&&t?.key!==null)return`key:${t.key}`}function cn(e,t){if(t?.el instanceof HTMLElement)return t.el;if(t?.elm instanceof HTMLElement)return t.elm;if(e?.$el instanceof HTMLElement)return e.$el}function us(e,t,n){let o=0,s=0;const r=e.component;if(!r)return{mounted:o,updated:s};const i=S(),a=i.getByInstance(r),u=rn(r),p=an(r,e),c=cn(r,e);if(a){const l=i.registerComponent(r,{uid:a.uid,name:u,label:p,vnode:e,rootEl:c});n.add(l.uid),s++}else{const l=i.registerComponent(r,{name:u,label:p,vnode:e,rootEl:c});n.add(l.uid),o++}if(r.subTree){const l=_e(r.subTree,t,n,3);o+=l.mounted,s+=l.updated}return{mounted:o,updated:s}}function ls(e,t,n){let o=0,s=0;const r=e.componentInstance||e.context;if(!r)return{mounted:o,updated:s};const i=S(),a=i.getByInstance(r),u=rn(r),p=an(r,e),c=cn(r,e);if(a){const l=i.registerComponent(r,{uid:a.uid,name:u,label:p,vnode:e,rootEl:c});n.add(l.uid),s++}else{const l=i.registerComponent(r,{name:u,label:p,vnode:e,rootEl:c});n.add(l.uid),o++}if(r.$children&&Array.isArray(r.$children)){for(const l of r.$children)if(l.$vnode&&t.visit(l.$vnode)){const f=_e(l.$vnode,t,n,2);o+=f.mounted,s+=f.updated}}return{mounted:o,updated:s}}function _e(e,t,n,o,s=0){let r=0,i=0;if(!e||s>sn.maxDepth||t.isLimitReached())return{mounted:r,updated:i};if(o===3&&e.component){const a=us(e,t,n);r+=a.mounted,i+=a.updated}else if(o===2&&(e.componentInstance||e.context)){const a=ls(e,t,n);r+=a.mounted,i+=a.updated}if(Array.isArray(e.children)){for(const a of e.children)if(a&&t.visit(a)){const u=_e(a,t,n,o,s+1);r+=u.mounted,i+=u.updated}}else if(e.children&&typeof e.children=="object"&&t.visit(e.children)){const a=_e(e.children,t,n,o,s+1);r+=a.mounted,i+=a.updated}return{mounted:r,updated:i}}function Ve(e={}){const{minIntervalMs:t=100,force:n=!1}=e;if(!n&&cs(t))return H.lastScanResult??{total:0,mounted:0,unmounted:0,updated:0,duration:0};const o=performance.now(),s=S(),r=L();let i=0,a=0,u=0;const p=new Set;if(r.length>0)for(const _ of r){const y=se(_);if(!y)continue;const w=_.__vue__&&!_.__vue_app__?2:3,T=new Gt(sn.maxComponents);T.visit(y);const R=_e(y,T,p,w);a+=R.mounted,u+=R.updated}let c=0;for(const _ of et)if(!p.has(_)){const y=s.getByUid(_);y&&(s.unregisterComponent(y.instance),ns(_),c++)}et=p,i=p.size,os();const l=performance.now()-o;H.totalScans++,H.lastScanDuration=l,Ue=Date.now();const f={total:i,mounted:a,unmounted:c,updated:u,duration:l};return H.lastScanResult=f,f}function mt(){return S().getAllComponents().map(t=>({uid:t.uid,name:t.name??"Anonymous",label:t.label,hasRootEl:!!t.rootEl,isExpanded:t.isExpanded}))}function un(){return{...H,lastScanTime:Ue,isPaused:ge,throttleMultiplier:we}}function ps(){et.clear(),Ue=0,H.totalScans=0,H.lastScanDuration=0,H.lastScanResult=null}function gt(e){return e?e.props?e.props:e.$props?e.$props:e.propsData?e.propsData:e._props?e._props:null:null}function ln(e){return e.instance}function pn(e){if(!e||typeof e!="object")return"empty";try{const t=Object.keys(e);if(t.length===0)return"empty";const n=[`k${t.length}`];for(const o of t.slice(0,20)){const s=e[o],r=typeof s;s===null?n.push(`${o}:null`):s===void 0?n.push(`${o}:undef`):r==="string"?n.push(`${o}:s${s.length}:${s.substring(0,20)}`):r==="number"?n.push(`${o}:n${s}`):r==="boolean"?n.push(`${o}:b${s}`):Array.isArray(s)?n.push(`${o}:a${s.length}`):r==="object"?n.push(`${o}:o${Object.keys(s).length}`):n.push(`${o}:${r}`)}return n.join("|")}catch{return"error"}}function fs(e){return e.isExpanded||X.has(e.uid)}function fn(e){if(S(),!fs(e))return{props:{},count:0,loaded:!1,lastUpdated:0};const t=ln(e),n=gt(t);if(!n)return{props:{},count:0,loaded:!1,lastUpdated:0};const o=pn(n);e.propsSnapshot?.hash!==o&&(e.propsSnapshot={raw:n,lastUpdated:Date.now(),hash:o},e.propsUpdateCount++);const r=re(n);return{props:r,count:Object.keys(r).length,loaded:!0,lastUpdated:e.propsSnapshot?.lastUpdated??Date.now()}}function dn(e){const n=S().getByUid(e);return n?ds(n):null}function ds(e){const t=ln(e),n=gt(t);if(!n)return{props:{},count:0,loaded:!1,lastUpdated:0};const o=pn(n);e.propsSnapshot?.hash!==o&&(e.propsSnapshot={raw:n,lastUpdated:Date.now(),hash:o},e.propsUpdateCount++);const r=re(n);return{props:r,count:Object.keys(r).length,loaded:!0,lastUpdated:e.propsSnapshot?.lastUpdated??Date.now()}}function hn(){return S().getExpandedComponents().map(n=>({uid:n.uid,name:n.name??"Anonymous",label:n.label,hasRootEl:!!n.rootEl,isExpanded:n.isExpanded,props:fn(n)}))}function yt(e){const t=S(),n=t.getByUid(e);return n?(t.setExpanded(e,!0),{uid:n.uid,name:n.name??"Anonymous",label:n.label,hasRootEl:!!n.rootEl,isExpanded:!0,props:fn(n)}):null}function Et(e){const t=S(),n=t.getByUid(e);n&&(t.setExpanded(e,!1),X.has(e)||t.clearPropsSnapshot(n))}let Tt=!1;const X=new Set,tt=new Map;function hs(e){X.add(e),Tt=X.size>0,tt.has(e)||tt.set(e,[])}function _s(e){X.delete(e),Tt=X.size>0,tt.delete(e);const t=S(),n=t.getByUid(e);n&&!n.isExpanded&&t.clearPropsSnapshot(n)}function ms(){return Tt}function Oe(){return Array.from(X)}const q={type:"all",caseSensitive:!1,limit:100,scope:"expandedAndLogged"};function St(e){const t=S();switch(e){case"expanded":return t.getExpandedComponents();case"logged":{const n=new Set(Oe());return t.getAllComponents().filter(o=>n.has(o.uid))}case"expandedAndLogged":{const n=new Set(Oe());return t.getAllComponents().filter(o=>o.isExpanded||n.has(o.uid))}case"visible":return t.getAllComponents().filter(n=>n.isVisible);case"explicitDeep":return console.warn("[VueInspector] Deep props search requested - this may be slow"),t.getAllComponents();default:return t.getExpandedComponents()}}function gs(e,t={}){const n={...q,...t},o=S(),s=[],r=n.caseSensitive?e:e.toLowerCase();for(const i of o.getAllComponents()){if(s.length>=n.limit)break;const a=i.name??"Anonymous";(n.caseSensitive?a:a.toLowerCase()).includes(r)&&s.push({uid:i.uid,name:a,label:i.label,matchType:"name",matchedText:a,hasProps:!!i.propsSnapshot})}return s}function ys(e,t={}){const n={...q,...t},o=S(),s=[],r=n.caseSensitive?e:e.toLowerCase();for(const i of o.getAllComponents()){if(s.length>=n.limit)break;if(!i.label)continue;(n.caseSensitive?i.label:i.label.toLowerCase()).includes(r)&&s.push({uid:i.uid,name:i.name??"Anonymous",label:i.label,matchType:"label",matchedText:i.label,hasProps:!!i.propsSnapshot})}return s}function _n(e,t={}){const n={...q,...t},o=new Map,s=n.caseSensitive?e:e.toLowerCase(),r=S();for(const i of r.getAllComponents()){if(o.size>=n.limit)break;const a=i.name??"Anonymous";if((n.caseSensitive?a:a.toLowerCase()).includes(s)){o.set(i.uid,{uid:i.uid,name:a,label:i.label,matchType:"name",matchedText:a,hasProps:!!i.propsSnapshot});continue}i.label&&(n.caseSensitive?i.label:i.label.toLowerCase()).includes(s)&&o.set(i.uid,{uid:i.uid,name:a,label:i.label,matchType:"label",matchedText:i.label,hasProps:!!i.propsSnapshot})}return Array.from(o.values())}function Rt(e){return e.propsSnapshot?e.propsSnapshot.raw:null}function Es(e,t={}){const n={...q,...t},o=[],s=n.caseSensitive?e:e.toLowerCase(),r=St(n.scope);for(const i of r){if(o.length>=n.limit)break;const a=Rt(i);if(a){for(const u of Object.keys(a))if((n.caseSensitive?u:u.toLowerCase()).includes(s)){o.push({uid:i.uid,name:i.name??"Anonymous",label:i.label,matchType:"key",matchedText:u,hasProps:!0});break}}}return o}function Ts(e,t={}){const n={...q,...t},o=[],s=n.caseSensitive?e:e.toLowerCase(),r=St(n.scope);for(const i of r){if(o.length>=n.limit)break;const a=Rt(i);if(a){for(const[u,p]of Object.entries(a))if(Ce(p,s,n.caseSensitive)){o.push({uid:i.uid,name:i.name??"Anonymous",label:i.label,matchType:"value",matchedText:`${u}: ${gn(p)}`,hasProps:!0});break}}}return o}function mn(e,t={}){const n={...q,...t},o=new Map,s=n.caseSensitive?e:e.toLowerCase(),r=St(n.scope);for(const i of r){if(o.size>=n.limit)break;const a=Rt(i);if(a){for(const u of Object.keys(a))if((n.caseSensitive?u:u.toLowerCase()).includes(s)){o.set(i.uid,{uid:i.uid,name:i.name??"Anonymous",label:i.label,matchType:"key",matchedText:u,hasProps:!0});break}if(!o.has(i.uid)){for(const[u,p]of Object.entries(a))if(Ce(p,s,n.caseSensitive)){o.set(i.uid,{uid:i.uid,name:i.name??"Anonymous",label:i.label,matchType:"value",matchedText:`${u}: ${gn(p)}`,hasProps:!0});break}}}}return Array.from(o.values())}function Ss(e,t={}){const n={...q,...t},o=new Map,s=_n(e,{...n,limit:n.limit});for(const r of s)o.set(r.uid,r);if(o.size<n.limit){const r=n.limit-o.size,i=mn(e,{...n,limit:r});for(const a of i)o.has(a.uid)||o.set(a.uid,a)}return Array.from(o.values())}function Le(e,t={}){const n={...q,...t};switch(n.type){case"name":return gs(e,n);case"label":return ys(e,n);case"key":return Es(e,n);case"value":return Ts(e,n);default:return Ss(e,n)}}function Rs(e,t={}){return console.warn("[VueInspector] Deep search initiated - this scans all components"),Le(e,{...t,scope:"explicitDeep"})}function Ce(e,t,n){if(e==null)return!1;if(typeof e=="string")return(n?e:e.toLowerCase()).includes(t);if(typeof e=="number"||typeof e=="boolean")return String(e).includes(t);if(Array.isArray(e)){for(const o of e.slice(0,10))if(Ce(o,t,n))return!0;return!1}if(typeof e=="object"){for(const o of Object.values(e).slice(0,10))if((typeof o=="string"||typeof o=="number"||typeof o=="boolean")&&Ce(o,t,n))return!0;return!1}return!1}function gn(e){return e===null?"null":e===void 0?"undefined":typeof e=="string"?e.length>50?e.substring(0,50)+"...":e:typeof e=="number"||typeof e=="boolean"?String(e):Array.isArray(e)?`Array(${e.length})`:typeof e=="object"?`Object{${Object.keys(e).length}}`:String(e)}const h={UPDATE_PROPS:"VUE_INSPECTOR_UPDATE_PROPS",UPDATE_PROPS_RESULT:"VUE_INSPECTOR_UPDATE_PROPS_RESULT",GET_COMPONENT_PROPS:"VUE_INSPECTOR_GET_COMPONENT_PROPS",COMPONENT_PROPS_DATA:"VUE_INSPECTOR_COMPONENT_PROPS_DATA",GET_COMPONENTS:"VUE_INSPECTOR_GET_COMPONENTS",COMPONENTS_DATA:"VUE_INSPECTOR_COMPONENTS_DATA",CHECK_VUE:"VUE_INSPECTOR_CHECK_VUE",VUE_DETECTED:"VUE_INSPECTOR_VUE_DETECTED",READY:"VUE_INSPECTOR_READY",CLEANUP:"VUE_INSPECTOR_CLEANUP",SCAN_STRUCTURE:"VUE_INSPECTOR_SCAN_STRUCTURE",STRUCTURE_DATA:"VUE_INSPECTOR_STRUCTURE_DATA",GET_COMPONENT_LIST:"VUE_INSPECTOR_GET_COMPONENT_LIST",COMPONENT_LIST_DATA:"VUE_INSPECTOR_COMPONENT_LIST_DATA",EXPAND_COMPONENT:"VUE_INSPECTOR_EXPAND_COMPONENT",COLLAPSE_COMPONENT:"VUE_INSPECTOR_COLLAPSE_COMPONENT",SEARCH_COMPONENTS:"VUE_INSPECTOR_SEARCH_COMPONENTS",SEARCH_RESULTS:"VUE_INSPECTOR_SEARCH_RESULTS",GET_EXPANDED_PROPS:"VUE_INSPECTOR_GET_EXPANDED_PROPS",EXPANDED_PROPS_DATA:"VUE_INSPECTOR_EXPANDED_PROPS_DATA"};let Pe=!1,le=null,Ht=0;const Is=100;function ws(e){if(!e)return"div";const t=e.tagName?.toLowerCase()||"div",n=e.className?"."+e.className.trim().replace(/\s+/g,"."):"",o=e.id?`#${e.id}`:"";return t+n+o}function Os(e){const t=e.instance,n=gt(t);let o=null,s=null;e.rootEl&&(o={tagName:e.rootEl.tagName?.toLowerCase(),id:e.rootEl.id||void 0,className:e.rootEl.className||void 0,testId:e.rootEl.getAttribute?.("data-testid")||void 0},s=o);const r=n?re(n):{},i=e.name||"Anonymous",a=ws(e.rootEl),u=`${i}::${a}`;return{name:i,props:r,path:`uid:${e.uid}`,componentUid:u,id:`uid:${e.uid}`,element:o,hasProps:Object.keys(r).length>0,propsCount:Object.keys(r).length,rootElement:s}}function Cs(){return Ve(),S().getAllComponents().map(Os)}function Ps(e){if(e.startsWith("uid:")){const r=parseInt(e.substring(4),10);return dn(r)?.props??{}}const t=Me(e);if(!t)return{};const o=Ae().version===2;let s={};if(o){const r=t.componentInstance||t.context;r&&(s=re(r.$props||r.propsData||r._props||{}))}else{const r=t.component;r&&(s=re(r.props||{}))}return s}function bs(e){if(!e.data||typeof e.data!="object"||!e.data.type)return;const{requestId:t}=e.data;if(e.data.type===h.UPDATE_PROPS){try{const{componentPath:n,props:o}=e.data,s=_t(n,o);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.UPDATE_PROPS_RESULT,success:s,error:s?void 0:"Failed to update component props",requestId:t},"*")}catch(n){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.UPDATE_PROPS_RESULT,success:!1,error:String(n),requestId:t},"*")}return}if(e.source===window&&e.data?.type===h.GET_COMPONENT_PROPS){try{const{componentPath:n}=e.data,o=Ps(n);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.COMPONENT_PROPS_DATA,props:o,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.COMPONENT_PROPS_DATA,props:{},requestId:t},"*")}return}if(e.source===window&&e.data?.type===h.GET_COMPONENTS){try{const n=Cs();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.COMPONENTS_DATA,components:n,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.COMPONENTS_DATA,components:[],requestId:t},"*")}return}if(e.source===window&&e.data?.type===h.SCAN_STRUCTURE){try{const n=Date.now();if(n-Ht<Is){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.STRUCTURE_DATA,result:un().lastScanResult,throttled:!0,requestId:t},"*");return}Ht=n;const o=Ve();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.STRUCTURE_DATA,result:o,throttled:!1,requestId:t},"*")}catch(n){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.STRUCTURE_DATA,result:null,error:String(n),requestId:t},"*")}return}if(e.source===window&&e.data?.type===h.GET_COMPONENT_LIST){try{const n=mt();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.COMPONENT_LIST_DATA,components:n,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.COMPONENT_LIST_DATA,components:[],requestId:t},"*")}return}if(e.source===window&&e.data?.type===h.EXPAND_COMPONENT){try{const{uid:n}=e.data,o=yt(n);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.COMPONENT_PROPS_DATA,component:o,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.COMPONENT_PROPS_DATA,component:null,requestId:t},"*")}return}if(e.source===window&&e.data?.type===h.COLLAPSE_COMPONENT){try{const{uid:n}=e.data;Et(n),window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.UPDATE_PROPS_RESULT,success:!0,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.UPDATE_PROPS_RESULT,success:!1,requestId:t},"*")}return}if(e.source===window&&e.data?.type===h.SEARCH_COMPONENTS){try{const{query:n,options:o}=e.data,s=Le(n,o);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.SEARCH_RESULTS,results:s,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.SEARCH_RESULTS,results:[],requestId:t},"*")}return}if(e.source===window&&e.data?.type===h.GET_EXPANDED_PROPS){try{const n=hn();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.EXPANDED_PROPS_DATA,components:n,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.EXPANDED_PROPS_DATA,components:[],requestId:t},"*")}return}if(e.source===window&&e.data?.type===h.CHECK_VUE){const n=Ne(),o=L();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.VUE_DETECTED,detected:n,url:window.location.href,appCount:o.length,hasDevToolsHook:!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,hasVue2:!!window.__VUE__},"*");return}if(e.source===window&&e.data?.type===h.CLEANUP){G();return}}function Ns(){if(!Pe){if(Pe=!0,le=bs,window.addEventListener("message",le),window.addEventListener("beforeunload",G),window.addEventListener("pagehide",G),Ne()){const e=L();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.VUE_DETECTED,detected:!0,url:window.location.href,appCount:e.length,hasDevToolsHook:!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,hasVue2:!!window.__VUE__},"*")}window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:h.READY},"*")}}function G(){Pe&&(le&&(window.removeEventListener("message",le),le=null),window.removeEventListener("beforeunload",G),window.removeEventListener("pagehide",G),on(),Pe=!1)}let Y=!1,Dt=!1;function As(){Y||(Y=!0,Ns(),ss(),!Dt&&typeof window<"u"&&(Dt=!0,window.addEventListener("beforeunload",$t),window.addEventListener("pagehide",$t),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&yn()})))}function $t(){Y&&(G(),on(),qo(),ps(),Y=!1)}function ks(){if(!Y)return;G(),S().cleanup(),nn(),Y=!1}function yn(){S().cleanup(),nn()}function Ms(){const e=S();return{scannerStats:un(),storeStats:e.getStats(),initialized:Y,loggingEnabled:ms(),loggedComponents:Oe()}}const Us={isVueDetected:()=>Ne(),findVueRoots:()=>L(),scanStructure:e=>Ve(e),getComponentList:()=>mt(),pauseScanning:()=>rs(),resumeScanning:()=>is(),isScanningPaused:()=>as(),expandComponent:e=>yt(e),collapseComponent:e=>Et(e),getComponentProps:e=>dn(e),getExpandedProps:()=>hn(),search:(e,t)=>Le(e,t),fastSearch:e=>_n(e),lazySearch:e=>mn(e),deepSearch:e=>Rs(e),enableLogging:e=>hs(e),disableLogging:e=>_s(e),getLoggedComponents:()=>Oe(),getStore:()=>S(),getRecentChanges:e=>S().getRecentChanges(e),getComponents:()=>ke(),findComponentByPath:e=>Me(e),updateComponentProps:(e,t)=>_t(e,t),forceRefresh:()=>No(),forceMemoryCleanup:()=>yn(),getDebugStats:()=>Ms(),version:"3.1.0"};Object.assign(window,{__VUE_INSPECTOR__:Us,__VUE_INSPECTOR_INJECTED__:{getComponents:()=>ke(),isVueDetected:()=>Ne(),findComponentByPath:e=>Me(e),updateComponentProps:(e,t)=>_t(e,t),scanStructure:()=>Ve(),getComponentList:()=>mt(),expandComponent:e=>yt(e),collapseComponent:e=>Et(e),search:(e,t)=>Le(e,t)}});function Vs(e){if(e._setupStore===!0)return!0;if(Object.keys(e.$state||{}).length===0){for(const n of Object.keys(e))if(!(n.startsWith("$")||n.startsWith("_"))&&typeof e[n]!="function")return!0}for(const n of Object.keys(e)){if(n.startsWith("$")||n.startsWith("_")||typeof e[n]=="function")continue;const o=e[n];if(o&&typeof o=="object"&&o.__v_isRef===!0)return!0}return!1}function Ls(e){return e._setupStore===!0}function xs(e){if(Object.keys(e.$state||{}).length===0){for(const n of Object.keys(e))if(!(n.startsWith("$")||n.startsWith("_"))&&typeof e[n]!="function")return!0}return!1}function Hs(e){for(const t of Object.keys(e)){if(t.startsWith("$")||t.startsWith("_")||typeof e[t]=="function")continue;const n=e[t];if(n&&typeof n=="object"&&n.__v_isRef===!0)return!0}return!1}function It(e){return e.replace(/-\d+$/,"").replace(/_\d+$/,"")}function Ds(e){const t=xe(e),n=He(e),o=De(e);return{stateKeys:t,getterKeys:n,actionKeys:o}}function xe(e){if(e.$state&&typeof e.$state=="object")return Object.keys(e.$state);const t=[];for(const n of Object.keys(e)){if(n.startsWith("$")||n.startsWith("_")||typeof e[n]=="function")continue;const o=e[n];J(o)||t.push(n)}return t}function J(e){return!e||typeof e!="object"?!1:e.__v_isRef===!0&&e.effect!==void 0||e.__v_isRef===!0&&typeof e._getter=="function"||e.__v_isRef===!0&&e.__v_isReadonly===!0}function be(e){return!!(e&&typeof e=="object"&&e.__v_isRef===!0)}function He(e){const t=[],n=new Set(Object.keys(e.$state||{}));for(const s of Object.keys(e)){if(s.startsWith("$")||s.startsWith("_")||typeof e[s]=="function")continue;const r=e[s];J(r)&&t.push(s)}for(const s of Object.keys(e))s.startsWith("$")||s.startsWith("_")||typeof e[s]=="function"||t.includes(s)||n.has(s)||t.push(s);const o=Object.getPrototypeOf(e);if(o&&o!==Object.prototype)for(const s of Object.getOwnPropertyNames(o)){if(s==="constructor"||s.startsWith("$")||s.startsWith("_")||t.includes(s))continue;const r=Object.getOwnPropertyDescriptor(o,s);r&&typeof r.get=="function"&&t.push(s)}return t}function De(e){const t=[];for(const n in e)!n.startsWith("$")&&!n.startsWith("_")&&typeof e[n]=="function"&&t.push(n);return t}function $e(e){return!!(e&&typeof e=="object"&&e.__v_isRef===!0)}function $s(e){return!e||typeof e!="object"?!1:e.__v_isRef===!0&&e.effect!==void 0||e.__v_isRef===!0&&typeof e._getter=="function"||e.__v_isRef===!0&&e.__v_isReadonly===!0}function wt(e){return!!(e&&typeof e=="object"&&"__v_raw"in e&&!$e(e))}function vs(e){return $e(e)?V(e.value):e}function Bs(e){return wt(e)?V(e.__v_raw):e}function js(e){if(e==null||typeof e!="object")return e;try{return JSON.parse(JSON.stringify(e))}catch{return e}}function V(e){if(e==null||typeof e!="object")return e;if($e(e))return V(e.value);if(wt(e))return V(e.__v_raw);if(Array.isArray(e))return e.map(t=>V(t));if(typeof e=="object"&&e!==null)try{return JSON.parse(JSON.stringify(e))}catch{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=V(e[n]));return t}return e}let v=null;function qs(){try{if(window._s&&window._s instanceof Map)return{_s:window._s,$id:"found-in-window"}}catch{}return null}function zs(){try{const e=window.__VUE_DEVTOOLS_GLOBAL_HOOK__;if(e?.apps)for(const t of e.apps){const n=t._context?.provides?.pinia||t._context?.config?.globalProperties?.$pinia||t.config?.globalProperties?.$pinia;if(n&&n._s)return n}}catch{}return null}function Ws(){try{const e=["#app","#root","[data-v-app]"];for(const n of e){const o=document.querySelector(n);if(o?.__vue_app__){const s=o.__vue_app__,r=s._context?.provides?.pinia||s._context?.config?.globalProperties?.$pinia||s.config?.globalProperties?.$pinia;if(r&&r._s)return r}}const t=document.body?.children;if(t){const n=Math.min(t.length,10);for(let o=0;o<n;o++){const s=t[o];if(s.__vue_app__){const r=s.__vue_app__,i=r._context?.provides?.pinia||r._context?.config?.globalProperties?.$pinia;if(i&&i._s)return i}}}}catch{}return null}function Fs(){try{const t=window.__VUE_INSPECTOR__?.findVueRoots;if(!t)return null;const n=t();for(const o of n)if(o.__vue_app__){const s=o.__vue_app__,r=s._context?.provides?.pinia||s._context?.config?.globalProperties?.$pinia;if(r&&r._s)return r}}catch{}return null}function ve(){if(v){if(v._s instanceof Map)return v;v=null}let e=qs();return e||(e=zs(),e)||(e=Ws(),e)||(e=Fs(),e)?(v=e,e):null}function Ot(){return ve()!==null}let ne=null;function Ks(){ne!==null&&(clearTimeout(ne),ne=null)}async function Xs(e=2e3,t=500){return Ks(),new Promise(n=>{const o=Date.now(),s=()=>{const r=ve();if(r)return ne=null,n(r);if(Date.now()-o>e)return ne=null,n(null);ne=setTimeout(s,t)};s()})}function Gs(e,t){if(!e._s||!(e._s instanceof Map))return()=>{};const n=e._s.set.bind(e._s),o=e._s.delete.bind(e._s);return e._s.set=function(...s){const r=n(...s);return t(),r},e._s.delete=function(...s){const r=o(...s);return t(),r},()=>{e._s.set=n,e._s.delete=o}}let pe=null;function Ct(e=!1){return(!pe||e)&&(pe=En()),pe}function En(){const e=ve();let t=new Set;return e&&e._s&&(e._s instanceof Map?t=new Set(Array.from(e._s.keys())):t=new Set(Object.keys(e._s))),{pinia:e,liveStoreIds:t,lastScan:Date.now()}}function nt(){return pe=En(),pe}function Be(){return Ct().pinia}function Tn(){return Ct().liveStoreIds}function Ys(e){return Tn().has(e)}function Sn(e){const t={},n=xe(e);for(const o of n)try{t[o]=V(e[o])}catch{t[o]="[Non-serializable]"}return t}function je(e){const t=z(e);return t?Sn(t):null}function Pt(){const e=Be();return e?Array.from(e._s.keys()):[]}function z(e){const t=Be();return t&&t._s.get(e)||null}function qe(e){const t=z(e);if(!t)return{};const n={},o=He(t);for(const s of o)try{n[s]=V(t[s])}catch{n[s]="[Non-serializable]"}return n}function bt(e){const t=z(e);return t?De(t):[]}async function Rn(e,t,...n){const o=z(e);if(!o)throw new Error(`Store "${e}" not found`);if(typeof o[t]!="function")throw new Error(`Action "${t}" not found in store "${e}"`);try{return await o[t](...n)}catch(s){throw s}}async function In(e,t,...n){const o=await Rn(e,t,...n);return V(o)}function me(e,t="",n={}){if(e==null)return n;if(typeof e!="object")return n[t]=e,n;if(Array.isArray(e)){for(let o=0;o<e.length;o++){const s=e[o],r=t?`${t}.${o}`:o.toString();typeof s=="object"&&s!==null?me(s,r,n):n[r]=s}return n}for(const o of Object.keys(e)){const s=e[o],r=t?`${t}.${o}`:o;typeof s=="object"&&s!==null?me(s,r,n):n[r]=s}return n}function wn(){const e=[],t=Be();if(!t)return e;for(const[n,o]of t._s.entries()){const s=It(n),r=je(n);if(r){const u=me(r);for(const p in u){const c=u[p];let l;c===null?l="null":c===void 0?l="undefined":typeof c=="object"?l=JSON.stringify(c):l=String(c),l=l.toLowerCase(),e.push({storeId:n,baseId:s,type:"state",key:p,value:c,valueStr:l})}}const i=qe(n),a=me(i);for(const u in a){const p=a[u];let c;p===null?c="null":p===void 0?c="undefined":typeof p=="object"?c=JSON.stringify(p):c=String(p),c=c.toLowerCase(),e.push({storeId:n,baseId:s,type:"getter",key:u,value:p,valueStr:c})}}return e}function Nt(e){return e.replace(/\[(\d+)\]/g,".$1").split(".")}function Js(e,t,n){const o=Nt(t);let s=e;for(let r=0;r<o.length-1;r++){const i=o[r];i in s||(s[i]={}),s=s[i]}s[o[o.length-1]]=n}function On(e,t,n){const o=z(e);if(!o)return!1;try{const s=Nt(t),r=s[0];let i;r in o&&!r.startsWith("$")&&!r.startsWith("_")&&typeof o[r]!="function"?i=o:o.$state&&r in o.$state?i=o.$state:i=o;for(let p=0;p<s.length-1;p++){if(i=i[s[p]],i===void 0)return!1;be(i)&&(i=i.value)}const a=s[s.length-1],u=i[a];return J(u)?!1:(be(u)?u.value=n:i[a]=n,!0)}catch{return!1}}function Cn(e,t){const n=z(e);if(!n)return!1;try{if(typeof n.$patch=="function")return n.$patch(()=>{for(const o of Object.keys(t)){const s=t[o];if(n[o]&&J(n[o]))continue;const r=Object.getOwnPropertyDescriptor(n,o);if(!(r&&typeof r.get=="function"&&typeof r.set!="function")&&typeof n[o]!="function")if(be(n[o]))n[o].value=s;else if(n[o]&&typeof n[o]=="object"&&!Array.isArray(n[o])){const i=n[o],a=Object.keys(i).filter(p=>typeof i[p]=="function"),u={};for(const p of a)u[p]=i[p];Object.keys(i).forEach(p=>delete i[p]),Object.assign(i,s),Object.assign(i,u)}else n.$state&&Object.prototype.hasOwnProperty.call(n.$state,o)?n.$state[o]=s:n[o]=s}}),!0;for(const o of Object.keys(t))typeof n[o]!="function"&&(J(n[o])||(n[o]=t[o]));return!0}catch{return!1}}function Pn(e,t){const n=z(e);if(!n)return{success:!1,updated:[]};const o=[],s=new Set(Object.keys(n.$state||{}));try{return n.$patch(()=>{for(const r of Object.keys(t)){const i=t[r];if(s.has(r)){n.$state&&(n.$state[r]=i,o.push(r));continue}const a=n[r];if(be(a)&&!J(a)){a.value=i,o.push(r);continue}if(a&&typeof a=="object"&&!J(a)){if(Array.isArray(a)&&Array.isArray(i)){a.length=0,a.push(...i),o.push(r);continue}else if(!Array.isArray(a)&&typeof i=="object"){const u=Object.keys(a).filter(c=>typeof a[c]=="function"),p={};for(const c of u)p[c]=a[c];Object.keys(a).forEach(c=>delete a[c]),Object.assign(a,i),Object.assign(a,p),o.push(r);continue}}}}),{success:!0,updated:o}}catch{return{success:!1,updated:o}}}let vt=!1;const Qs={PINIA_GET_STORES_SUMMARY:er,PINIA_BUILD_SEARCH_INDEX:tr,PINIA_GET_STORE_STATE:nr,PINIA_PATCH_STATE:or,PINIA_REPLACE_STATE:sr,PINIA_PATCH_GETTERS:rr,PINIA_CALL_ACTION:ir,PINIA_CHECK_DETECTED:ar};function Zs(e){if(e.source!==window||!e.data||typeof e.data!="object"||typeof e.data.type!="string"||!e.data.type.startsWith("PINIA_"))return;const t=Qs[e.data.type];if(t)try{t(e.data)}catch{}}function er(e){try{const t=ur();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_STORES_SUMMARY_DATA",summary:t,detected:Ot(),requestId:e.requestId},"*")}catch(t){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_STORES_SUMMARY_DATA",summary:{},detected:!1,error:String(t),requestId:e.requestId},"*")}}function tr(e){try{const t=wn();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_SEARCH_INDEX_READY",index:t,requestId:e.requestId},"*")}catch(t){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_SEARCH_INDEX_READY",index:[],error:String(t),requestId:e.requestId},"*")}}function nr(e){let t=null,n={},o={};try{t=je(e.storeId)}catch{}try{n=qe(e.storeId)}catch{}try{o=bt(e.storeId)}catch{}window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_STORE_STATE_DATA",storeId:e.storeId,state:t,getters:n,actions:o,requestId:e.requestId},"*")}function or(e){try{const t=On(e.storeId,e.path,e.value);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_PATCH_STATE_RESULT",storeId:e.storeId,path:e.path,success:t,requestId:e.requestId},"*")}catch(t){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_PATCH_STATE_RESULT",storeId:e.storeId,path:e.path,success:!1,error:String(t),requestId:e.requestId},"*")}}function sr(e){try{const t=Cn(e.storeId,e.newState);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_REPLACE_STATE_RESULT",storeId:e.storeId,success:t,requestId:e.requestId},"*")}catch(t){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_REPLACE_STATE_RESULT",storeId:e.storeId,success:!1,error:String(t),requestId:e.requestId},"*")}}function rr(e){try{const t=Pn(e.storeId,e.newGetters);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_PATCH_GETTERS_RESULT",storeId:e.storeId,...t,requestId:e.requestId},"*")}catch(t){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_PATCH_GETTERS_RESULT",storeId:e.storeId,success:!1,updated:[],error:String(t),requestId:e.requestId},"*")}}function ir(e){const{storeId:t,actionName:n,args:o=[]}=e;Promise.resolve(In(t,n,...o)).then(s=>{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_CALL_ACTION_RESULT",storeId:t,actionName:n,success:!0,result:s,requestId:e.requestId},"*")}).catch(s=>{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_CALL_ACTION_RESULT",storeId:t,actionName:n,success:!1,error:String(s),requestId:e.requestId},"*")})}function ar(e){const t=Ot(),n=Pt().length;window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_DETECTED_RESULT",detected:t,storeCount:n,requestId:e.requestId},"*")}function cr(e){return new Date(e).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function ur(){const e=Pt();if(e.length===0)return{};const t={},n=Date.now();for(const o of e)try{const s=je(o),r=s?xe(s).length:0,i=qe(o),a=i?He(i).length:0,u=bt(o),p=u?De(u).length:0;t[o]={id:o,baseId:It(o),stateKeys:r,getterKeys:a,actions:p,lastUpdated:n,lastUpdatedFormatted:cr(n)}}catch{}return t}function lr(){vt||(vt=!0,window.addEventListener("message",Zs),Xs(2e3).then(e=>{e&&(nt(),Gs(e,()=>{nt()}))}))}let Bt=!1;function pr(){Bt||(Bt=!0,lr())}const fr={findPinia:ve,isPiniaDetected:Ot,getPiniaContext:Ct,getPiniaInstance:Be,getLiveStoreIds:Tn,isStoreActive:Ys,updatePiniaContext:nt,getStore:z,getStoresList:Pt,getStoreState:je,createSnapshot:Sn,getStoreGetters:qe,getStoreActions:bt,callAction:Rn,callActionUnwrapped:In,patchState:On,replaceState:Cn,patchGetters:Pn,parsePath:Nt,setByPath:Js,isVueRef:$e,isVueReactive:wt,isComputedRef:$s,unwrapValue:V,unwrapRef:vs,unwrapReactive:Bs,toPlainObject:js,getStoreStateKeys:xe,getGetterKeys:He,getActionKeys:De,isSetupStore:Vs,normalizeStoreId:It,analyzeStore:Ds,detectSetupStoreByFlag:Ls,detectSetupStoreByEmptyState:xs,detectSetupStoreByRefs:Hs,buildStoreSearchIndex:wn,flattenObject:me};window.__PINIA_INSPECTOR__=fr;const ot=window.fetch,bn=XMLHttpRequest.prototype.open,Se=XMLHttpRequest.prototype.send,Nn=XMLHttpRequest.prototype.setRequestHeader,fe=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"responseType"),dr=["chrome-extension://","moz-extension://","edge-extension://","webkit-resource://"];let st=100*1024,d=null,A=!1,hr=0;const $=new Map;function rt(e,t,n){return new Promise((o,s)=>{$.set(e,{resolve:o,reject:s,trigger:n,requestId:e}),d?.onBreakpointHit&&d.onBreakpointHit(e,t,n)})}function _r(e,t){const n=$.get(e);return n?(n.resolve(t),$.delete(e),!0):!1}function mr(e){const t=$.get(e);return t?(t.reject(new Error("Breakpoint cancelled by user")),$.delete(e),!0):!1}function gr(){return Array.from($.keys())}function An(){return`net-${Date.now()}-${++hr}`}function kn(e){return dr.some(t=>e.startsWith(t))}function Mn(e){return e.toUpperCase()==="OPTIONS"}function it(e){if(!e)return{text:"",truncated:!1,originalSize:0};const t=e.length;return t>st?{text:e.substring(0,st),truncated:!0,originalSize:t}:{text:e,truncated:!1,originalSize:t}}function yr(e){const t=[];return e.forEach((n,o)=>{t.push({name:o,value:n})}),t}function jt(e){const t=e.find(n=>n.name.toLowerCase()==="content-length");return t&&parseInt(t.value,10)||0}async function qt(e,t){const n=e.headers.get("content-type")||"";if(["image/","audio/","video/","application/octet-stream","application/pdf","application/zip"].some(s=>n.toLowerCase().startsWith(s)))return null;try{return await t.text()}catch{return null}}function at(e){if(!e)return null;if(typeof e=="string")return e;if(e instanceof URLSearchParams)return e.toString();if(e instanceof FormData)return"[FormData]";if(e instanceof Blob)return`[Blob: ${e.size} bytes, type: ${e.type}]`;if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return`[Binary: ${e.byteLength} bytes]`;try{return JSON.stringify(e)}catch{return"[Object]"}}function Er(e,t){const n={...e};if(t.requestHeaders){const o=new Headers;t.requestHeaders.forEach(s=>o.set(s.name,s.value)),n.headers=o}return t.requestBody!==void 0&&(n.body=t.requestBody),n}function Tr(){window.fetch=async function(e,t){const n=typeof e=="string"?e:e instanceof URL?e.href:e.url,o=t?.method||(e instanceof Request?e.method:"GET");if(console.log("[VueInspector Interceptor]  fetch() called:",o,n),kn(n)||Mn(o))return console.log("[VueInspector Interceptor] Skipping (excluded):",n),ot.call(window,e,t);const s=An(),r=performance.now();if(d?.onMockCheck){const l=d.onMockCheck(n,o.toUpperCase());if(l&&l.mock&&l.mock.enabled){console.log("[VueInspector Interceptor]  MOCK MATCH! Returning fake response for:",n),console.log("[VueInspector Interceptor] Mock details:",{id:l.mockId,status:l.mock.status,bodyLength:l.mock.body?.length,headersCount:l.mock.headers?.length});try{l.mock.delay&&l.mock.delay>0&&(console.log("[VueInspector Interceptor] Applying mock delay:",l.mock.delay,"ms"),await new Promise(m=>setTimeout(m,l.mock.delay)));let f;const _=l.mock.body;if(_==null?f="":typeof _=="string"?f=_:f=JSON.stringify(_),(l.mock.headers?.find(m=>m.name.toLowerCase()==="content-type")?.value||"application/json").includes("json")&&f)try{JSON.parse(f)}catch{console.warn("[VueInspector Interceptor] Mock body is not valid JSON, wrapping as string"),f=JSON.stringify(f)}const I=new Headers;l.mock.headers&&Array.isArray(l.mock.headers)&&l.mock.headers.forEach(m=>{m.name&&m.value!==void 0&&I.set(m.name,m.value)}),I.has("content-type")||I.set("content-type","application/json; charset=utf-8"),I.set("content-length",String(new TextEncoder().encode(f).length));const w=new Response(f,{status:l.mock.status||200,statusText:l.mock.statusText||"OK",headers:I});console.log("[VueInspector Interceptor]  Mock Response created successfully"),d?.onMockApplied&&d.onMockApplied(s,l.mockId);let T=[];const R=t?.headers||(e instanceof Request?e.headers:null);R&&(R instanceof Headers?R.forEach((m,E)=>T.push({name:E,value:m})):Array.isArray(R)?R.forEach(([m,E])=>T.push({name:m,value:E})):Object.entries(R).forEach(([m,E])=>T.push({name:m,value:E}))),d?.onRequest&&!A&&d.onRequest({id:s,startTime:r,method:o.toUpperCase(),url:n,requestHeaders:T,requestBody:at(t?.body||(e instanceof Request?e.body:null))});const b=performance.now();return d?.onResponse&&!A&&d.onResponse(s,{status:l.mock.status||200,statusText:l.mock.statusText||"OK",headers:l.mock.headers||[],body:f,size:f.length,duration:b-r}),console.log("[VueInspector Interceptor]  Mock response returned, request never hit network"),w}catch(f){console.error("[VueInspector Interceptor]  Error creating mock response:",f)}}}let i=[];const a=t?.headers||(e instanceof Request?e.headers:null);a&&(a instanceof Headers?a.forEach((l,f)=>{i.push({name:f,value:l})}):Array.isArray(a)?a.forEach(([l,f])=>{i.push({name:l,value:f})}):Object.entries(a).forEach(([l,f])=>{i.push({name:l,value:f})}));let u=at(t?.body||(e instanceof Request?e.body:null));d?.onRequest&&!A&&d.onRequest({id:s,startTime:r,method:o.toUpperCase(),url:n,requestHeaders:i,requestBody:u});let p=e,c=t;if(console.log("[VueInspector Interceptor] Checking request breakpoint for:",n,"callback exists:",!!d?.onBreakpointCheck),d?.onBreakpointCheck){const l=d.onBreakpointCheck(n,"request");if(console.log("[VueInspector Interceptor] Breakpoint match result:",l),l){console.log("[VueInspector Interceptor]  PAUSING REQUEST - waiting for resume...");const f=await rt(s,l.breakpointId,"request");if(f){const _=Er(t,f);e instanceof Request?(p=new Request(e,_),c=void 0):c=_,f.requestHeaders&&(i=f.requestHeaders),f.requestBody!==void 0&&(u=f.requestBody)}}}try{const l=await ot.call(window,p,c),_=performance.now()-r;let y=null;const I=l.clone();let w=yr(l.headers),T=l;if(d?.onBreakpointCheck){const g=d.onBreakpointCheck(n,"response");if(g){console.log("[VueInspector Interceptor]  PAUSING RESPONSE - waiting for resume..."),y=await qt(l,I);const ze=it(y);let vn=ze.text,Bn=ze.truncated,jn=ze.originalSize;const qn=jt(w)||jn;d?.onResponse&&d.onResponse(s,{status:l.status,statusText:l.statusText,headers:w,body:Bn?vn:y,size:qn,duration:_});const ee=await rt(s,g.breakpointId,"response");if(ee&&ee.responseBody!==void 0){const te=ee.responseBody,ye=new Headers,kt=ee.responseHeaders??w;kt.forEach(Mt=>ye.set(Mt.name,Mt.value)),te!==null?ye.set("content-length",String(te.length)):ye.delete("content-length"),T=new Response(te,{status:ee.status??l.status,statusText:ee.statusText??l.statusText,headers:ye}),y=te,w=kt,d?.onResponse&&d.onResponse(s,{status:T.status,statusText:T.statusText,headers:w,body:te,size:te?.length||0,duration:_})}return T}}y=await qt(I,I);const R=it(y);let b=R.text,m=R.truncated,E=R.originalSize;const Z=jt(w)||E;return d?.onResponse&&!A&&d.onResponse(s,{status:l.status,statusText:l.statusText,headers:w,body:m?b:y,size:Z,duration:_}),T}catch(l){throw d?.onError&&d.onError(s,l instanceof Error?l.message:"Network request failed"),l}}}const ae=XMLHttpRequest.prototype.addEventListener;function Sr(){const e=new WeakMap;XMLHttpRequest.prototype.open=function(i,a,u=!0,p,c){const l=a.toString();return!kn(l)&&!Mn(i)&&(e.set(this,{id:An(),method:i.toUpperCase(),url:l,startTime:0,requestHeaders:[],requestBody:null,loadHandlers:[],readystatechangeHandlers:[],errorHandlers:[],responseBreakpointPending:!1,storedResponseData:null}),t(this,e.get(this))),bn.call(this,i,a,u,p,c)};function t(i,a){i.addEventListener=function(c,l,f){if(c==="load"){a.loadHandlers.push(l);return}if(c==="readystatechange"){a.readystatechangeHandlers.push(l);return}return c==="error"&&a.errorHandlers.push(l),ae.call(this,c,l,f)};let u=null;Object.defineProperty(i,"onload",{get:()=>u,set:c=>{u=c,c&&a.loadHandlers.push(c)},configurable:!0});let p=null;Object.defineProperty(i,"onreadystatechange",{get:()=>p,set:c=>{p=c,c&&a.readystatechangeHandlers.push(c)},configurable:!0})}XMLHttpRequest.prototype.setRequestHeader=function(i,a){const u=e.get(this);return u&&u.requestHeaders.push({name:i,value:a}),Nn.call(this,i,a)},fe&&Object.defineProperty(XMLHttpRequest.prototype,"responseType",{get:function(){return this._responseType||""},set:function(i){this._responseType=i,fe.set&&fe.set.call(this,i)},configurable:!0});const n=new Map;XMLHttpRequest.prototype.send=function(i){const a=e.get(this),u=this;if(a&&console.log("[VueInspector Interceptor]  XHR send() called:",a.method,a.url),!a)return Se.call(this,i);if(a.startTime=performance.now(),a.requestBody=at(i),d?.onMockCheck){const p=d.onMockCheck(a.url,a.method);if(p&&p.mock&&p.mock.enabled){console.log("[VueInspector Interceptor]  XHR MOCK MATCH! Returning fake response for:",a.url),console.log("[VueInspector Interceptor] XHR Mock details:",{id:p.mockId,status:p.mock.status,bodyLength:p.mock.body?.length,headersCount:p.mock.headers?.length}),d?.onRequest&&!A&&d.onRequest({id:a.id,startTime:a.startTime,method:a.method,url:a.url,requestHeaders:a.requestHeaders,requestBody:a.requestBody});let c;const l=p.mock.body;l==null?c="":typeof l=="string"?c=l:c=JSON.stringify(l);const f=p.mock.status||200,_=p.mock.statusText||"OK",y=p.mock.headers||[],I=y.find(T=>T.name.toLowerCase()==="content-type")?.value||"application/json";if(I.includes("json")&&c)try{JSON.parse(c)}catch{console.warn("[VueInspector Interceptor] XHR Mock body is not valid JSON, wrapping"),c=JSON.stringify(c)}(async()=>{try{p.mock.delay&&p.mock.delay>0&&(console.log("[VueInspector Interceptor] Applying XHR mock delay:",p.mock.delay,"ms"),await new Promise(g=>setTimeout(g,p.mock.delay)));const R=performance.now()-a.startTime,b=g=>{Object.defineProperty(u,"readyState",{get:()=>g,configurable:!0}),u.dispatchEvent(new Event("readystatechange"))};Object.defineProperty(u,"status",{get:()=>f,configurable:!0}),Object.defineProperty(u,"statusText",{get:()=>_,configurable:!0});const m=u._responseType||u.responseType||"";if(Object.defineProperty(u,"responseText",{get:()=>c,configurable:!0}),m==="json"){let g;try{g=c?JSON.parse(c):null}catch{g=c}Object.defineProperty(u,"response",{get:()=>g,configurable:!0})}else if(m==="arraybuffer"){const g=new TextEncoder;Object.defineProperty(u,"response",{get:()=>g.encode(c).buffer,configurable:!0})}else m==="blob"?Object.defineProperty(u,"response",{get:()=>new Blob([c],{type:I}),configurable:!0}):Object.defineProperty(u,"response",{get:()=>c,configurable:!0});const E=y.length>0?y.map(g=>`${g.name}: ${g.value}`).join(`\r
`)+`\r
\r
`:`content-type: application/json\r
\r
`,U=new Map(y.map(g=>[g.name.toLowerCase(),g.value]));U.has("content-type")||U.set("content-type","application/json; charset=utf-8"),Object.defineProperty(u,"getAllResponseHeaders",{value:()=>E,configurable:!0}),Object.defineProperty(u,"getResponseHeader",{value:g=>U.get(g.toLowerCase())||null,configurable:!0}),console.log("[VueInspector Interceptor]  XHR dispatching lifecycle events..."),b(2),b(3),b(4);const Z={lengthComputable:!0,loaded:c.length,total:c.length};u.dispatchEvent(new ProgressEvent("load",Z)),u.dispatchEvent(new ProgressEvent("loadend",Z)),console.log("[VueInspector Interceptor]  XHR lifecycle complete (load + loadend dispatched)"),d?.onResponse&&!A&&d.onResponse(a.id,{status:f,statusText:_,headers:y,body:c,size:c.length,duration:R}),d?.onMockApplied&&d.onMockApplied(a.id,p.mockId),console.log("[VueInspector Interceptor]  XHR Mock response ready, calling stored handlers"),s(u,a)}catch(T){console.error("[VueInspector Interceptor]  Error applying XHR mock:",T)}})();return}}if(console.log("[VueInspector Interceptor] Checking XHR request breakpoint for:",a.url,"callback exists:",!!d?.onBreakpointCheck),d?.onBreakpointCheck){const p=d.onBreakpointCheck(a.url,"request");if(console.log("[VueInspector Interceptor] XHR Breakpoint match result:",p),p){console.log("[VueInspector Interceptor]  PAUSING XHR REQUEST - waiting for resume..."),n.set(a.id,{xhr:u,body:i,data:a}),d?.onRequest&&d.onRequest({id:a.id,startTime:a.startTime,method:a.method,url:a.url,requestHeaders:a.requestHeaders,requestBody:a.requestBody}),d?.onBreakpointHit&&d.onBreakpointHit(a.id,p.breakpointId,"request"),$.set(a.id,{resolve:c=>{console.log("[VueInspector Interceptor] XHR breakpoint resumed, sending request...");let l=i;c&&"requestBody"in c&&c.requestBody!==void 0&&(l=c.requestBody),n.delete(a.id),o(u,a),Se.call(u,l)},reject:c=>{console.log("[VueInspector Interceptor] XHR breakpoint cancelled:",c.message),n.delete(a.id),u.abort()},trigger:"request",requestId:a.id});return}}return d?.onRequest&&!A&&d.onRequest({id:a.id,startTime:a.startTime,method:a.method,url:a.url,requestHeaders:a.requestHeaders,requestBody:a.requestBody}),o(this,a),Se.call(this,i)};function o(i,a){ae.call(i,"load",async function(){const p=performance.now()-a.startTime,c=this.getAllResponseHeaders();let l=[];c.split(`\r
`).forEach(m=>{const E=m.indexOf(":");E>0&&l.push({name:m.substring(0,E).trim(),value:m.substring(E+1).trim()})});let f=null;const _=this.getResponseHeader("content-type")||"";if(!["image/","audio/","video/","application/octet-stream"].some(m=>_.toLowerCase().startsWith(m)))try{f=this.responseText}catch{f=null}const{text:I,truncated:w,originalSize:T}=it(f),b=parseInt(this.getResponseHeader("content-length")||"0",10)||T;if(d?.onBreakpointCheck){const m=d.onBreakpointCheck(a.url,"response");if(m){console.log("[VueInspector Interceptor]  PAUSING XHR RESPONSE - waiting for resume..."),d?.onResponse&&d.onResponse(a.id,{status:this.status,statusText:this.statusText,headers:l,body:w?I:f,size:b,duration:p});const E=await rt(a.id,m.breakpointId,"response");if(E){if(E.responseBody!==void 0){const U=E.responseBody;Object.defineProperty(this,"responseText",{get:()=>U||"",configurable:!0}),Object.defineProperty(this,"response",{get:()=>U||null,configurable:!0}),f=U}if(E.status!==void 0&&Object.defineProperty(this,"status",{get:()=>E.status,configurable:!0}),E.statusText!==void 0&&Object.defineProperty(this,"statusText",{get:()=>E.statusText,configurable:!0}),E.responseHeaders){const U=E.responseHeaders.map(g=>`${g.name}: ${g.value}`).join(`\r
`)+`\r
\r
`;Object.defineProperty(this,"getAllResponseHeaders",{value:()=>U,configurable:!0});const Z=new Map(E.responseHeaders.map(g=>[g.name.toLowerCase(),g.value]));Object.defineProperty(this,"getResponseHeader",{value:g=>Z.get(g.toLowerCase())||null,configurable:!0}),l=E.responseHeaders}d?.onResponse&&d.onResponse(a.id,{status:this.status,statusText:this.statusText,headers:l,body:f,size:f?.length||0,duration:p})}s(this,a)}else d?.onResponse&&!A&&d.onResponse(a.id,{status:this.status,statusText:this.statusText,headers:l,body:w?I:f,size:b,duration:p}),s(this,a)}else d?.onResponse&&!A&&d.onResponse(a.id,{status:this.status,statusText:this.statusText,headers:l,body:w?I:f,size:b,duration:p}),s(this,a)}),ae.call(i,"error",function(){d?.onError&&d.onError(a.id,"XMLHttpRequest failed"),r(i,a)}),ae.call(i,"abort",function(){d?.onError&&d.onError(a.id,"Request aborted")}),ae.call(i,"timeout",function(){d?.onError&&d.onError(a.id,"Request timed out")})}function s(i,a){const u=new ProgressEvent("load",{lengthComputable:!0,loaded:i.response?.length||0,total:i.response?.length||0});for(const c of a.loadHandlers)try{typeof c=="function"?c.call(i,u):c&&typeof c.handleEvent=="function"&&c.handleEvent(u)}catch(l){console.error("[VueInspector Interceptor] Error calling load handler:",l)}const p=new Event("readystatechange");for(const c of a.readystatechangeHandlers)try{typeof c=="function"?c.call(i,p):c&&typeof c.handleEvent=="function"&&c.handleEvent(p)}catch(l){console.error("[VueInspector Interceptor] Error calling readystatechange handler:",l)}}function r(i,a){const u=new ProgressEvent("error");for(const p of a.errorHandlers)try{typeof p=="function"?p.call(i,u):p&&typeof p.handleEvent=="function"&&p.handleEvent(u)}catch(c){console.error("[VueInspector Interceptor] Error calling error handler:",c)}}}function Rr(e,t){console.log("[VueInspector Interceptor] Initializing...",{hasOnRequest:!!e.onRequest,hasOnResponse:!!e.onResponse,hasOnError:!!e.onError,hasOnBreakpointCheck:!!e.onBreakpointCheck,hasOnBreakpointHit:!!e.onBreakpointHit,hasOnMockCheck:!!e.onMockCheck,hasOnMockApplied:!!e.onMockApplied}),d=e,t&&(st=t),Tr(),Sr(),console.log("[VueInspector Interceptor]  Initialized, fetch intercepted")}function Ir(){A=!0}function wr(){A=!1}function ct(){return A}function Or(){window.fetch=ot,XMLHttpRequest.prototype.open=bn,XMLHttpRequest.prototype.send=Se,XMLHttpRequest.prototype.setRequestHeader=Nn,fe&&Object.defineProperty(XMLHttpRequest.prototype,"responseType",fe),d=null,$.forEach((e,t)=>{e.reject(new Error("Interceptor cleanup"))}),$.clear()}function Cr(e){try{const t=new URL(e),o=t.pathname.split("/").filter(Boolean);return o.length>0?o[o.length-1]:t.host}catch{return e.substring(0,50)}}function At(e){try{return new URL(e).pathname}catch{return e}}function Pr(e){try{const t=new URL(e),n=[];return t.searchParams.forEach((o,s)=>{n.push({key:s,value:o})}),n}catch{return[]}}function br(e){const t=e.find(o=>o.name.toLowerCase()==="authorization");if(!t){const o=e.find(s=>s.name.toLowerCase().includes("api-key")||s.name.toLowerCase().includes("x-api-key"));return o?{type:"ApiKey",token:o.value,headerName:o.name}:{type:"None"}}const n=t.value;if(n.startsWith("Bearer "))return{type:"Bearer",token:n.substring(7)};if(n.startsWith("Basic "))try{const o=atob(n.substring(6)),[s]=o.split(":");return{type:"Basic",token:n.substring(6),username:s}}catch{return{type:"Basic",token:n.substring(6)}}return{type:"Custom",token:n}}function Nr(e){return["image/","audio/","video/","application/octet-stream","application/pdf","application/zip","application/gzip","application/x-tar"].some(n=>e.toLowerCase().startsWith(n))}const j=new Map;let C=[],D={maxEntries:500,maxBodySize:100*1024,captureRequestBody:!0,captureResponseBody:!0},B=[],P=[];function Ar(e,t){try{const n=new URL(e);if(console.log("[VueInspector Network] Matching URL:",{scheme:n.protocol.replace(":",""),host:n.hostname,port:n.port||(n.protocol==="https:"?"443":"80"),path:n.pathname,query:n.search?n.search.substring(1):""}),t.scheme){const o=n.protocol.replace(":","");if(o!==t.scheme)return console.log("[VueInspector Network]  Scheme mismatch:",o,"!==",t.scheme),!1}if(t.host){const o=t.host.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*");if(!new RegExp(`^${o}$`,"i").test(n.hostname))return console.log("[VueInspector Network]  Host mismatch:",n.hostname,"vs pattern",t.host),!1}if(t.port){const o=n.port||(n.protocol==="https:"?"443":"80");if(o!==t.port)return console.log("[VueInspector Network]  Port mismatch:",o,"!==",t.port),!1}if(t.path){const o=t.path.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*");if(!new RegExp(`^${o}`,"i").test(n.pathname))return console.log("[VueInspector Network]  Path mismatch:",n.pathname,"vs pattern",t.path),!1}if(t.query){const o=t.query.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*"),s=new RegExp(o,"i"),r=n.search?n.search.substring(1):"";if(!s.test(r))return console.log("[VueInspector Network]  Query mismatch:",r,"vs pattern",t.query),!1}return console.log("[VueInspector Network]  All checks passed!"),!0}catch(n){return console.log("[VueInspector Network]  URL parse error:",n),!1}}function kr(e,t){B.length>0&&console.log("[VueInspector Network] Checking breakpoint for:",e,"trigger:",t,"active breakpoints:",B.length);for(const n of B){if(console.log("[VueInspector Network] Checking against breakpoint:",{id:n.id,scheme:n.scheme,host:n.host,port:n.port,path:n.path,query:n.query,trigger:n.trigger,enabled:n.enabled}),!n.enabled){console.log("[VueInspector Network]  Breakpoint disabled");continue}if(!(n.trigger==="both"||n.trigger===t)){console.log("[VueInspector Network]  Trigger mismatch:",n.trigger,"vs",t);continue}const s=Ar(e,n);if(console.log("[VueInspector Network] URL match result:",s),s)return console.log("[VueInspector Network]  BREAKPOINT MATCH!",n.id,"for",e),{breakpointId:n.id,trigger:t}}return null}function Mr(e,t,n){const o=j.get(e);O("NETWORK_BREAKPOINT_HIT",{requestId:e,breakpointId:t,trigger:n,entry:o||null})}function Ur(e,t,n){try{const o=new URL(e);if(n.method&&n.method.toUpperCase()!==t.toUpperCase()||n.scheme&&o.protocol.replace(":","")!==n.scheme)return!1;if(n.host){const s=n.host.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*");if(!new RegExp(`^${s}$`,"i").test(o.hostname))return!1}if(n.port&&(o.port||(o.protocol==="https:"?"443":"80"))!==n.port)return!1;if(n.path){const s=n.path.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*");if(!new RegExp(`^${s}`,"i").test(o.pathname))return!1}if(n.query){const s=n.query.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*"),r=new RegExp(s,"i"),i=o.search?o.search.substring(1):"";if(!r.test(i))return!1}return!0}catch(o){return console.log("[VueInspector Network]  Mock URL parse error:",o),!1}}function Vr(e,t){if(console.log("[VueInspector Network] checkMock called:",e,"method:",t,"activeMocks count:",P.length),P.length===0)return null;for(const n of P){if(console.log("[VueInspector Network] Checking against mock:",{id:n.id,enabled:n.enabled,host:n.host,path:n.path}),!n.enabled){console.log("[VueInspector Network] Mock disabled, skipping");continue}const o=Ur(e,t,n);if(console.log("[VueInspector Network] Match result:",o),o)return console.log("[VueInspector Network]  MOCK MATCH!",n.id,"for",e),console.log("[VueInspector Network]  Returning mock with body length:",n.body?.length),{mockId:n.id,mock:n}}return console.log("[VueInspector Network] No mock match found"),null}function Lr(e,t){O("NETWORK_MOCK_APPLIED",{requestId:e,mockId:t})}function O(e,t){window.postMessage({type:e,__FROM_VUE_INSPECTOR__:!0,__NETWORK__:!0,...t},"*")}function Un(e,t,n,o=!1){if(e===null)return null;const s=Nr(t);return{text:s?"":e,truncated:o,originalSize:n,contentType:t,isBinary:s}}function xr(e){const t=e.requestHeaders.find(o=>o.name.toLowerCase()==="content-type")?.value||"",n={id:e.id,version:1,timestamp:new Date().toISOString(),method:e.method,url:e.url,path:At(e.url),name:Cr(e.url),status:0,statusText:"",duration:0,size:0,requestHeaders:e.requestHeaders,responseHeaders:[],params:Pr(e.url),authorization:br(e.requestHeaders),requestBody:D.captureRequestBody&&e.requestBody?Un(e.requestBody,t,e.requestBody.length):null,responseBody:null,pending:!0,initiator:"fetch"};j.set(e.id,n),O("NETWORK_ENTRY_CAPTURED",{entry:n})}function Hr(e,t){const n=j.get(e);if(!n)return;const o=t.headers.find(r=>r.name.toLowerCase()==="content-type")?.value||"",s={...n,id:e,version:(n.version||1)+1,timestamp:n.timestamp||new Date().toISOString(),method:n.method||"GET",url:n.url||"",path:n.path||At(n.url||""),name:n.name||"",status:t.status,statusText:t.statusText,duration:t.duration,size:t.size,requestHeaders:n.requestHeaders||[],responseHeaders:t.headers,params:n.params||[],authorization:n.authorization||{type:"None"},requestBody:n.requestBody||null,responseBody:D.captureResponseBody&&t.body?Un(t.body,o,t.size,t.body.length<t.size):null,pending:!1,initiator:n.initiator||"fetch"};j.delete(e),C.push(s),C.length>D.maxEntries&&(C=C.slice(-D.maxEntries)),O("NETWORK_ENTRY_UPDATED",{entry:s})}function Dr(e,t){const n=j.get(e);if(!n)return;const o={...n,id:e,version:(n.version||1)+1,timestamp:n.timestamp||new Date().toISOString(),method:n.method||"GET",url:n.url||"",path:n.path||At(n.url||""),name:n.name||"",status:0,statusText:"Failed",duration:performance.now()-n.startTime||0,size:0,requestHeaders:n.requestHeaders||[],responseHeaders:[],params:n.params||[],authorization:n.authorization||{type:"None"},requestBody:n.requestBody||null,responseBody:null,error:t,pending:!1,initiator:n.initiator||"fetch"};j.delete(e),C.push(o),C.length>D.maxEntries&&(C=C.slice(-D.maxEntries)),O("NETWORK_ENTRY_UPDATED",{entry:o})}function Vn(e){if(e.source!==window||!e.data)return;const{type:t,__VUE_INSPECTOR__:n,__NETWORK_CMD__:o}=e.data;if(!(!n||!o))switch((t?.startsWith("NETWORK_BREAKPOINT")||t?.startsWith("NETWORK_MOCK"))&&console.log("[VueInspector Network] Received command:",t,e.data),t){case"NETWORK_PAUSE":Ir(),O("NETWORK_PAUSED",{paused:!0});break;case"NETWORK_RESUME":wr(),O("NETWORK_RESUMED",{paused:!1});break;case"NETWORK_CLEAR":C=[],j.clear(),O("NETWORK_CLEARED",{});break;case"NETWORK_GET_ENTRIES":O("NETWORK_ENTRIES_DATA",{entries:C});break;case"NETWORK_GET_STATUS":O("NETWORK_STATUS",{paused:ct(),entriesCount:C.length,activeBreakpointIds:gr()});break;case"NETWORK_CONFIG_UPDATE":e.data.config&&(D={...D,...e.data.config});break;case"NETWORK_BREAKPOINTS_SYNC":Array.isArray(e.data.breakpoints)&&(B=e.data.breakpoints,console.log("[VueInspector Network] Breakpoints synced:",B.length,"breakpoints"),O("NETWORK_BREAKPOINTS_SYNCED",{count:B.length,breakpoints:B.map(s=>({id:s.id,host:s.host,path:s.path}))}));break;case"NETWORK_MOCKS_SYNC":Array.isArray(e.data.mocks)&&(P=e.data.mocks,console.log("[VueInspector Network]  Mocks synced:",P.length,"mocks"),P.length>0&&console.log("[VueInspector Network]  First mock details:",{id:P[0].id,enabled:P[0].enabled,host:P[0].host,path:P[0].path,status:P[0].status,bodyLength:P[0].body?.length,headersCount:P[0].headers?.length}),O("NETWORK_MOCKS_SYNCED",{count:P.length,mocks:P.map(s=>({id:s.id,host:s.host,path:s.path,status:s.status}))}));break;case"NETWORK_BREAKPOINT_RESUME":if(e.data.requestId){const s=_r(e.data.requestId,e.data.modifications);O("NETWORK_BREAKPOINT_RESUMED",{requestId:e.data.requestId,success:s})}break;case"NETWORK_BREAKPOINT_CANCEL":if(e.data.requestId){const s=mr(e.data.requestId);O("NETWORK_BREAKPOINT_CANCELLED",{requestId:e.data.requestId,success:s})}break;case"NETWORK_OVERRIDE_RESPONSE":if(e.data.entryId&&e.data.newResponse){const s=C.findIndex(r=>r.id===e.data.entryId);if(s!==-1){const r=C[s],i={...r,version:r.version+1,responseBody:r.responseBody?{...r.responseBody,text:e.data.newResponse,originalSize:e.data.newResponse.length}:null};C[s]=i,O("NETWORK_ENTRY_UPDATED",{entry:i})}}break}}function $r(){console.log("[VueInspector Bridge] Initializing network module..."),window.addEventListener("message",Vn);try{Rr({onRequest:xr,onResponse:Hr,onError:Dr,onBreakpointCheck:kr,onBreakpointHit:Mr,onMockCheck:Vr,onMockApplied:Lr},D.maxBodySize),console.log("[VueInspector Bridge]  Interceptor initialized with Mock (Map Local) support")}catch(e){console.error("[VueInspector Bridge]  Failed to initialize interceptor:",e)}O("NETWORK_READY",{paused:ct(),entriesCount:C.length}),O("NETWORK_STATUS",{paused:ct(),entriesCount:C.length})}function vr(){window.removeEventListener("message",Vn),Or(),C=[],j.clear(),B=[],P=[]}let ut=!1,lt=!1,zt=!1,Ln=null;function K(e){window.postMessage({type:"VUE_INSPECTOR_DETECTION_RESULT",__FROM_VUE_INSPECTOR__:!0,...e},"*"),window.postMessage({type:"VUE_INSPECTOR_VUE_DETECTED",__FROM_VUE_INSPECTOR__:!0,detected:e.hasVue,url:window.location.href,hasDevToolsHook:!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,hasVue2:e.vueVersion===2},"*")}function xn(){ut||(ut=!0,As(),window.postMessage({type:"VUE_INSPECTOR_PROPS_READY",__FROM_VUE_INSPECTOR__:!0},"*"))}function Hn(){lt||(lt=!0,pr(),window.postMessage({type:"VUE_INSPECTOR_PINIA_READY",__FROM_VUE_INSPECTOR__:!0},"*"))}function Br(e){xn(),K(oe())}function jr(){Hn(),K(oe())}function Dn(e){if(e.source!==window||!e.data||typeof e.data!="object")return;const{type:t}=e.data;if(t==="VUE_INSPECTOR_CHECK_VUE"){K(oe());return}if(t==="VUE_INSPECTOR_GET_FLAGS"){K(oe());return}if(t==="VUE_INSPECTOR_FORCE_DETECT"){const n=pt();n.hasVue&&!ut&&xn(),n.hasPinia&&!lt&&Hn(),K(n);return}}function qr(){window.addEventListener("message",Dn),zr(),Ln=Fn({onVueDetected:Br,onPiniaDetected:jr});const e=oe();K(e),window.postMessage({type:"VUE_INSPECTOR_READY",__FROM_VUE_INSPECTOR__:!0},"*")}function zr(){zt||(zt=!0,$r(),window.postMessage({type:"VUE_INSPECTOR_NETWORK_READY",__FROM_VUE_INSPECTOR__:!0},"*"))}function $n(){window.removeEventListener("message",Dn),Ln?.(),ks(),vr()}window.addEventListener("beforeunload",$n);window.addEventListener("pagehide",$n);qr();window.__VUE_INSPECTOR_DETECTION__=()=>oe();window.__VUE_INSPECTOR_FORCE_DETECT__=()=>{const e=pt();return K(e),e};
