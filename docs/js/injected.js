let k=!1,L=!1,x=null,_e={},Ze=!1,Oe=[];function Kn(){if(window.__VUE_DEVTOOLS_GLOBAL_HOOK__)return window.__VUE_DEVTOOLS_GLOBAL_HOOK__;const e={apps:[],emit:()=>{},on:()=>{},once:()=>{},off:()=>{},appRecords:[],_buffer:[]};return window.__VUE_DEVTOOLS_GLOBAL_HOOK__=e,e}function we(e){try{const t=e._context?.provides?.pinia||e._context?.config?.globalProperties?.$pinia||e.config?.globalProperties?.$pinia;if(t&&t._s instanceof Map)return!0}catch{}return!1}function Xe(e,t){k||(k=!0,x=t,_e.onVueDetected?.(t)),!L&&we(e)&&(L=!0,_e.onPiniaDetected?.())}function Xn(e){if(Ze)return;Ze=!0;const t=e.emit?.bind(e)||(()=>{});if(e.emit=function(n,...o){if(n==="app:init"){const s=o[0];s&&(Xe(s,3),Ge(s))}return t(n,...o)},e.apps&&Array.isArray(e.apps))for(const n of e.apps)Xe(n,3),Ge(n);if(e.appRecords&&Array.isArray(e.appRecords))for(const n of e.appRecords)n.app&&(Xe(n.app,3),Ge(n.app));Oe.push(()=>{e.emit=t})}function Ge(e){if(!e||!e.use||e.__piniaIntercepted)return;e.__piniaIntercepted=!0;const t=e.use.bind(e);e.use=function(n,...o){const s=t(n,...o);return L||setTimeout(()=>{we(e)&&(L=!0,_e.onPiniaDetected?.())},0),s}}function Yt(){if(k)return{detected:!0,version:x};const e=window.__VUE_DEVTOOLS_GLOBAL_HOOK__;if(e?.apps&&e.apps.length>0)return k=!0,x=3,{detected:!0,version:3};if(window.__VUE__)return k=!0,x=2,{detected:!0,version:2};const t=window.Vue;if(t){if(t.createApp)return k=!0,x=3,{detected:!0,version:3};if(t.version?.startsWith("2"))return k=!0,x=2,{detected:!0,version:2}}const n=["#app","#root","[data-v-app]"];for(const o of n)try{const s=document.querySelector(o);if(s?.__vue_app__)return k=!0,x=3,{detected:!0,version:3};if(s?.__vue__)return k=!0,x=2,{detected:!0,version:2}}catch{}return{detected:!1,version:null}}function Jt(){if(L)return!0;try{const t=window._s;if(t instanceof Map&&t.size>0)return L=!0,!0}catch{}try{const t=window.__VUE_DEVTOOLS_GLOBAL_HOOK__;if(t?.apps){for(const n of t.apps)if(we(n))return L=!0,!0}}catch{}const e=["#app","#root"];for(const t of e)try{const n=document.querySelector(t);if(n?.__vue_app__&&we(n.__vue_app__))return L=!0,!0}catch{}return!1}function mt(){const e=Yt(),t=e.detected?Jt():!1;return{hasVue:e.detected,hasPinia:t,vueVersion:e.version}}function Gn(e){_e=e;const t=Kn();Xn(t);const n=mt();n.hasVue&&e.onVueDetected&&e.onVueDetected(n.vueVersion),n.hasPinia&&e.onPiniaDetected&&e.onPiniaDetected();let o=null;if(!n.hasVue){let s=0;const r=20,a=()=>{if(s++,!k){const i=Yt();i.detected&&(e.onVueDetected?.(i.version),!L&&Jt()&&e.onPiniaDetected?.())}(s>=r||k&&L)&&(o?.disconnect(),o=null)};o=new MutationObserver(()=>{setTimeout(a,100)}),o.observe(document.body||document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-v-app"]}),Oe.push(()=>{o?.disconnect()})}return()=>{Oe.forEach(s=>s()),Oe=[],_e={},Ze=!1}}function oe(){return{hasVue:k,hasPinia:L,vueVersion:x}}function H(){const e=[];if(document.querySelectorAll('[__vue_app__], [__vue__], div, main, section, article, #app, #root, [class*="app"], [class*="vue"], [id*="app"]').forEach(n=>{const o=n;(o.__vue_app__||o.__vue__||o._vnode)&&!e.includes(o)&&e.push(o)}),e.length===0){const n=window.__VUE_DEVTOOLS_GLOBAL_HOOK__;if(n?.apps&&n.apps.length>0)for(const o of n.apps){const s=o._instance?.root?.el||o._container?._vnode?.el;s&&s instanceof HTMLElement&&!e.includes(s)&&e.push(s)}}return e}function se(e){if(e.__vue_app__){const t=e.__vue_app__;return t._instance?.root??t._container?._vnode??e._vnode}else if(e.__vue__){const t=e.__vue__,n=t.$root||t;return n.$vnode||n}return e._vnode}function Ue(){const e=H(),t=!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,n=!!window.__VUE__;return e.length>0||t||n}function Le(){const e=H(),t=e.some(s=>{if(s.__vue_app__)return!0;const r=s._vnode;return r&&r.component}),n=e.some(s=>s.__vue__&&!s.__vue_app__);return{version:t?3:n?2:3,roots:e}}const Yn=8,Jn=12,ce=50,Zn=30,Dt=500,Qn=5,eo=500;function to(e){return{visited:new WeakSet,startTime:performance.now(),nodeCount:0,timedOut:!1,nodeLimit:!1}}function Q(e){return e.timedOut||e.nodeLimit?!0:e.nodeCount%50===0&&performance.now()-e.startTime>Yn?(e.timedOut=!0,!0):e.nodeCount>=eo?(e.nodeLimit=!0,!0):!1}function K(e){return e.nodeCount++,!Q(e)}function yt(e){return!e||typeof e!="object"?!1:typeof e.nodeType=="number"}function Zt(e){return e&&e.__v_isRef===!0}function no(e,t){if(Q(t))return[];try{return Object.keys(e)}catch{return[]}}function oo(e,t){try{return e[t]}catch{return}}function so(e){return e.length<=Dt?e:e.substring(0,Dt)+"...[truncated]"}function Qt(e){if(e==null)return e;const t=typeof e;return t==="string"?so(e):t==="number"||t==="boolean"?e:t==="bigint"?e.toString()+"n":t==="symbol"?e.toString():e}function ro(e,t=Qn){let n=e,o=0;for(;n&&Zt(n)&&o<t;){try{n=n.value}catch{return"[Ref access error]"}o++}return o>=t?"[Ref depth exceeded]":n}function io(e,t,n){if(!K(t))return{__type:"Map",__timeout:!0};const o={__type:"Map",entries:[]};let s=0;try{for(const[r,a]of e){if(Q(t)||s>=ce){o.truncated=!0;break}const i=typeof r=="object"?"[Object]":String(r),u=ie(a,t,n+1);o.entries.push([i,u]),s++}}catch{o.error=!0}return o}function ao(e,t,n){if(!K(t))return{__type:"Set",__timeout:!0};const o={__type:"Set",values:[]};let s=0;try{for(const r of e){if(Q(t)||s>=ce){o.truncated=!0;break}o.values.push(ie(r,t,n+1)),s++}}catch{o.error=!0}return o}function co(e,t,n){if(!K(t))return["[Serialization timeout]"];const o=[],s=Math.min(e.length,ce);for(let r=0;r<s;r++){if(Q(t)){o.push("[Serialization timeout]");break}const a=e[r];if(typeof a=="function"||yt(a))continue;if(typeof a=="object"&&a!==null&&t.visited.has(a)){o.push("[Circular]");continue}const i=ie(a,t,n+1);i!==void 0&&o.push(i)}return e.length>ce&&o.push(`...[${e.length-ce} more items]`),o}function uo(e,t,n){if(!K(t))return{__timeout:!0};const o={};let s=0;t.visited.add(e);const r=no(e,t);for(const a of r){if(Q(t)){o.__timeout=!0;break}if(s>=Zn){o.__truncated=!0;break}if(a.startsWith("__v_")||a.startsWith("_"))continue;const i=oo(e,a);if(i===void 0||typeof i=="function"||yt(i))continue;if(typeof i=="object"&&i!==null&&t.visited.has(i)){o[a]="[Circular]",s++;continue}const u=ie(i,t,n+1);u!==void 0&&(o[a]=u,s++)}return o}function ie(e,t,n){if(Q(t))return t.timedOut?"[Serialization timeout]":"[Too many nodes]";if(e==null)return e;if(typeof e!="object"&&typeof e!="function")return Qt(e);if(typeof e!="function"){if(n>Jn)return"[Max depth exceeded]";if(!yt(e)){if(t.visited.has(e))return"[Circular]";if(Zt(e)){t.visited.add(e);const o=ro(e);return typeof o=="string"&&o.startsWith("[")?o:ie(o,t,n+1)}if(e instanceof Date)return K(t),e.toISOString();if(e instanceof RegExp)return K(t),e.toString();if(e instanceof Error)return K(t),{__type:"Error",message:e.message,name:e.name};if(e instanceof Map)return t.visited.add(e),io(e,t,n);if(e instanceof Set)return t.visited.add(e),ao(e,t,n);if(!(e instanceof WeakMap||e instanceof WeakSet||e instanceof Promise))return Array.isArray(e)?(t.visited.add(e),co(e,t,n)):uo(e,t,n)}}}function re(e,t){if(e==null)return e;if(typeof e!="object")return Qt(e);const n=to();return ie(e,n,0)}function lo(e){if(!e)return null;if(e.classList?.contains("or-select")||e.hasAttribute?.("data-test-id"))return e;let t=e;for(;t&&t!==document.body;){if(t.classList?.contains("or-select")||t.hasAttribute?.("data-test-id"))return t;t=t.parentElement}return e}function $t(e){return e?{tagName:e.tagName?.toLowerCase(),id:e.id||void 0,className:typeof e.className=="string"?e.className:void 0,testId:e.getAttribute?.("data-test-id")||void 0}:null}function po(e){if(e.id)return`#${e.id}`;let t=[],n=e;for(;n&&n!==document.body;){let o=n.tagName.toLowerCase();if(n.className&&typeof n.className=="string"){const a=n.className.trim().split(/\s+/).filter(i=>/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(i)&&!i.includes("animate-")&&!i.includes("transition-")&&!i.includes("backdrop-"));a.length>0&&(o+="."+a.slice(0,3).join("."))}if(Array.from(n.parentElement?.children||[]).filter(a=>{if(a.tagName!==n.tagName)return!1;const i=(n.className||"").split(/\s+/).filter(p=>!p.includes("animate-")&&!p.includes("transition-")&&!p.includes("backdrop-")),u=(a.className||"").split(/\s+/).filter(p=>!p.includes("animate-")&&!p.includes("transition-")&&!p.includes("backdrop-"));return i.length>0&&u.length>0?i.some(p=>u.includes(p)):a.className===n.className}).length>1){const i=Array.from(n.parentElement?.children||[]).indexOf(n);o+=`:nth-child(${i+1})`}if(t.unshift(o),n=n.parentElement,t.length>4)break}return t.join(" > ")}const fo={maxComponents:1e3,propsCacheTtl:2e3,maxHistorySize:100,cleanupInterval:3e4};class ho{instanceMap=new WeakMap;pathToInstance=new Map;pathOrder=[];changeHistory=[];config;cleanupTimer=null;disposed=!1;constructor(t={}){this.config={...fo,...t},this.startCleanupTimer()}getByInstance(t){return this.disposed?null:this.instanceMap.get(t)??null}getByPath(t){if(this.disposed)return null;const n=this.pathToInstance.get(t);if(!n)return null;const o=n.deref();return o?this.instanceMap.get(o)??null:(this.pathToInstance.delete(t),this.removeFromPathOrder(t),null)}set(t,n){if(this.disposed)return!1;const s=!!this.instanceMap.get(t);return!s&&this.pathOrder.length>=this.config.maxComponents&&this.evictOldest(),this.instanceMap.set(t,n),this.pathToInstance.set(n.path,new WeakRef(t)),this.updatePathOrder(n.path),this.recordChange(n.path,s?"update":"add"),s}removeByPath(t){if(this.disposed)return!1;const n=this.pathToInstance.get(t);if(!n)return!1;const o=n.deref();return o&&this.instanceMap.delete(o),this.pathToInstance.delete(t),this.removeFromPathOrder(t),this.recordChange(t,"remove"),!0}getAllComponents(){if(this.disposed)return[];const t=[],n=[];for(const o of this.pathOrder){const s=this.pathToInstance.get(o);if(!s){n.push(o);continue}const r=s.deref();if(!r){n.push(o);continue}const a=this.instanceMap.get(r);a&&t.push(a)}for(const o of n)this.pathToInstance.delete(o),this.removeFromPathOrder(o);return t}getChangeHistory(){return[...this.changeHistory]}clear(){this.instanceMap=new WeakMap,this.pathToInstance.clear(),this.pathOrder=[],this.changeHistory=[]}cleanup(){if(this.disposed)return 0;let t=0;const n=Date.now(),o=[];for(const s of this.pathOrder){const r=this.pathToInstance.get(s);if(!r){o.push(s);continue}const a=r.deref();if(!a){o.push(s);continue}const i=this.instanceMap.get(a);i&&i._serializedProps&&n-i.lastUpdated>this.config.propsCacheTtl&&(i._serializedProps=null)}for(const s of o)this.pathToInstance.delete(s),this.removeFromPathOrder(s),t++;return this.changeHistory.length>this.config.maxHistorySize&&(this.changeHistory=this.changeHistory.slice(-this.config.maxHistorySize)),t}dispose(){this.disposed||(this.disposed=!0,this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null),this.clear())}isDisposed(){return this.disposed}getStats(){return{size:this.pathOrder.length,maxSize:this.config.maxComponents,historySize:this.changeHistory.length}}startCleanupTimer(){this.cleanupTimer=setInterval(()=>{this.cleanup()},this.config.cleanupInterval)}evictOldest(){if(this.pathOrder.length>0){const t=this.pathOrder.shift();if(t){const n=this.pathToInstance.get(t);if(n){const o=n.deref();o&&this.instanceMap.delete(o)}this.pathToInstance.delete(t)}}}updatePathOrder(t){this.removeFromPathOrder(t),this.pathOrder.push(t)}removeFromPathOrder(t){const n=this.pathOrder.indexOf(t);n>-1&&this.pathOrder.splice(n,1)}recordChange(t,n){this.changeHistory.push({path:t,timestamp:Date.now(),type:n}),this.changeHistory.length>this.config.maxHistorySize*2&&(this.changeHistory=this.changeHistory.slice(-this.config.maxHistorySize))}}function _o(e){if(!e||typeof e!="object")return"empty";try{const t=Object.keys(e).sort();if(t.length===0)return"empty";const n=[];for(const o of t.slice(0,20)){const s=e[o],r=typeof s;r==="object"&&s!==null?Array.isArray(s)?n.push(`${o}:arr${s.length}`):n.push(`${o}:obj${Object.keys(s).length}`):r==="string"?n.push(`${o}:s${s.substring(0,20)}`):r==="number"||r==="boolean"?n.push(`${o}:${s}`):n.push(`${o}:${r}`)}return n.join("|")}catch{return"error"}}let Re=null;function gt(){return(!Re||Re.isDisposed())&&(Re=new ho({maxComponents:1e3,propsCacheTtl:2e3,maxHistorySize:100,cleanupInterval:3e4})),Re}class en{visited=new WeakSet;visitedPrimitives=new Set;visitCount=0;maxVisits;constructor(t=1e4){this.maxVisits=t}isValidObject(t){return t!==null&&(typeof t=="object"||typeof t=="function")}visit(t){return this.visitCount>=this.maxVisits||t==null?!1:this.isValidObject(t)?this.visited.has(t)?!1:(this.visited.add(t),this.visitCount++,!0):this.visitedPrimitives.has(t)?!1:(this.visitedPrimitives.add(t),this.visitCount++,!0)}hasVisited(t){return t==null?!1:this.isValidObject(t)?this.visited.has(t):this.visitedPrimitives.has(t)}getVisitCount(){return this.visitCount}isLimitReached(){return this.visitCount>=this.maxVisits}clear(){this.visited=new WeakSet,this.visitedPrimitives.clear(),this.visitCount=0}}const mo=100,Ye=new WeakMap;function yo(e){if(!e)return`anon_${Math.random().toString(36).substr(2,9)}`;if(Ye.has(e))return Ye.get(e);const t=e.uid??e._uid??`anon_${Math.random().toString(36).substr(2,9)}`,n=String(t);return Ye.set(e,n),n}function go(e){return e&&(e.type?.name||e.type?.__name||e.type?.displayName||e.$options?.name)||"Anonymous"}function Eo(e){return e&&(e.props||e.$props||e.propsData||e._props)||null}function tn(e,t,n,o){if(!e)return null;const s=gt(),r=yo(e),a=go(e),i=t?.el||t?.elm;let u=r;if(i instanceof HTMLElement){const S=po(i);S&&(u=`${u}::${S}`);const w=i.textContent;if(w&&w.length>0&&w.length<50){const C=w.trim().replace(/\s+/g," ");C.length>0&&(u=`${u}::text:${C}`)}}const p=`${n}::${a}::${u}`,l=s.getByInstance(e),c=Eo(e),f=_o(c);if(l&&l.propsHash===f)return l.lastUpdated=Date.now(),l;const h=$t(i),g=lo(i),E=g?$t(g):h,T={uid:r,name:a,path:p,instance:e,vnode:t,element:h,rootElement:E,lastUpdated:Date.now(),propsHash:f,_serializedProps:null,_rawPropsRef:c?new WeakRef(c):null};return s.set(e,T),T}function To(e){if(e._serializedProps)return e._serializedProps;const t=e._rawPropsRef?.deref();if(!t)return{};const n=re(t);return e._serializedProps=n,n}function nn(e){const t=To(e),n=Object.keys(t).length;return{name:e.name,props:t,path:e.path,element:e.element,hasProps:n>0,propsCount:n,rootElement:e.rootElement}}function So(e,t){return t.version===3&&!!e.component}function Ro(e,t){return t.version===2&&!!(e.componentInstance||e.context)}function Oo(e,t,n,o,s,r,a){const i=tn(e.component,e,t||"root");i&&a.push(i),e.component.subTree&&me(e.component.subTree,`${t||"root"}.subTree`,o+1,n,s,r,a)}function Co(e,t,n,o,s,r,a){const i=e.componentInstance||e.context;if(!i)return;const u=tn(i,e,t||"root");if(u&&a.push(u),i.$children&&Array.isArray(i.$children))for(let p=0;p<i.$children.length;p++){const l=i.$children[p];l.$vnode&&s.visit(l.$vnode)&&me(l.$vnode,`${t||"root"}.children[${p}]`,o+1,n,s,r,a)}}function wo(e,t,n,o,s,r,a){if(Array.isArray(e.children))for(let i=0;i<e.children.length;i++){const u=e.children[i];u&&s.visit(u)&&me(u,`${t||"root"}.children[${i}]`,n+1,o,s,r,a)}else e.children&&typeof e.children=="object"&&s.visit(e.children)&&me(e.children,`${t||"root"}.children`,n+1,o,s,r,a)}function me(e,t,n,o,s,r,a){if(!e||n>mo||s.isLimitReached())return;const i=So(e,r),u=Ro(e,r);i?Oo(e,t,o,n,s,r,a):u&&Co(e,t,o,n,s,r,a),wo(e,t,n,o,s,r,a)}function Io(e,t="",n=0,o,s,r){const a=[];return!e||!s.visit(e)||me(e,t,n,o,s,r,a),a}function bo(){return gt().getAllComponents()}function Po(){return bo().map(nn)}let Et=0;const Ao=50;function No(e){return e.length===0?"empty":e.map((n,o)=>{const s=n.__vue_app__,r=n.__vue__,a=s?._uid??r?._uid??o;return`${o}:${a}`}).join("|")}function ko(){return Date.now()-Et<Ao&&gt().getAllComponents().length>0}function Ve(){const e=Date.now();if(ko())return Po();const t=performance.now(),n=[],o=H();if(No(o),o.length>0)for(let s=0;s<o.length;s++){const r=o[s],a=se(r);if(!a)continue;const u={version:r.__vue__&&!r.__vue_app__?2:3},p=new en(1e4),l=Io(a,`root[${s}]`,0,r,p,u);n.push(...l)}return performance.now()-t,Et=e,n.map(nn)}function Mo(){return Et=0,Ve()}function on(e){if(!e||!e.type||e.type.name!=="AsyncComponentWrapper")return e;const t=[e.subTree?.component,e.subTree?.subTree?.component,e.vnode?.subTree?.component];for(const n of t)if(n&&n!==e)return n;return e}const Je=new WeakMap,U=new Map,sn=500,Qe=100,Uo=3e4;let ue=null;function Lo(){ue||(ue=setInterval(()=>{an()},Uo))}function rn(){ue&&(clearInterval(ue),ue=null)}function an(){const e=Date.now(),t=[];for(const[n,o]of U)e-o.timestamp>sn&&t.push(n);for(const n of t)U.delete(n);if(U.size>Qe){const n=Array.from(U.entries()).sort((s,r)=>s[1].timestamp-r[1].timestamp),o=n.slice(0,n.length-Qe);for(const[s]of o)U.delete(s)}}Lo();function Vo(e){const t=U.get(e);return t?Date.now()-t.timestamp>sn?(U.delete(e),null):t.vnode:null}function vt(e,t){U.size>=Qe&&an(),U.set(e,{vnode:t,timestamp:Date.now()})}function Ho(e){if(Je.has(e))return Je.get(e);const t=H();for(const n of t){const o=se(n);if(!o)continue;const s=et(o,e,new WeakSet);if(s)return Je.set(e,s),s}return null}function et(e,t,n){if(!e||n.has(e))return null;if(n.add(e),e.el===t||e.component?.subTree?.el===t)return e;if(Array.isArray(e.children)){for(const o of e.children)if(o&&typeof o=="object"){const s=et(o,t,n);if(s)return s}}if(e.component?.subTree){const o=et(e.component.subTree,t,n);if(o)return o}return null}function He(e){const t=Vo(e);if(t)return t;const n=H();if(n.length===0)return null;const o=e.split("::"),s=o[0],r=o[1],a=o[2],i=a?a.split("::")[0]:null,u=o.findIndex((l,c)=>l.startsWith("#")||l.includes(" > ")||l.includes(".")&&c>2);if(u!==-1){let l=o.slice(u).join("::").replace(/^::/,"");l.includes("::text:")&&(l=l.split("::text:")[0]);try{const c=document.querySelector(l);if(c instanceof HTMLElement){const f=Ho(c);if(f)return vt(e,f),f}}catch{}}const p=xo(n,s,r,i);return p&&vt(e,p),p}function xo(e,t,n,o){const s=t.split(".");if(s.length===1&&s[0]==="root"){const c=e[0],f=se(c);return f?.component?f:null}if(s.length===0||!s[0].startsWith("root"))return null;let r=0;if(s[0].startsWith("root[")){const c=s[0].match(/root\[(\d+)\]/);if(!c)return null;r=parseInt(c[1],10)}if(r>=e.length)return null;const a=e[r],i=se(a);if(!i)return null;if(s.length===1)return i;const p=Le().version===2;let l=i;for(let c=1;c<s.length;c++){const f=s[c];if(f==="subTree")l=Do(l,p);else if(f.startsWith("children["))l=$o(l,f,p);else if(f.startsWith("vnodeChildren["))l=vo(l,f);else return null;if(!l)return null}if(n&&l&&Bo(l,p)===n){if(o&&o!=="undefined"&&o!=="null"){const f=l.component?.uid||l._uid;if(f&&String(f)!==o&&!o.startsWith("anon_"))return null}return l}return l}function Do(e,t){if(e.component?.subTree)return e.component.subTree;if(t){if(e.child?.component?.subTree)return e.child.component.subTree;if(e.child)return e.child;if(e.componentInstance?.$vnode)return e.componentInstance.$vnode}return null}function $o(e,t,n){const o=t.match(/children\[(\d+)\]/);if(!o)return null;const s=parseInt(o[1],10);if(Array.isArray(e.children))return s<e.children.length?e.children[s]:null;if(n){const r=[e.componentInstance?.$children,e.context?.$children,e.$children,e.children];for(const a of r)if(Array.isArray(a)&&s<a.length){const i=a[s];return i.$vnode||i}}return null}function vo(e,t){const n=t.match(/vnodeChildren\[(\d+)\]/);if(!n||!Array.isArray(e.children))return null;const o=parseInt(n[1],10);return o<e.children.length?e.children[o]:null}function Bo(e,t){return e.component?.type?.name||e.component?.type?.__name||e.component?.type?.displayName||e.component?.type?.__file?.split("/").pop()?.replace(/\.vue$/,"")||(t?e.$options?.name:null)||"Anonymous"}function Ie(e){if(!e||typeof e!="object")return!1;try{const t=Symbol("test");return e[t]=!0,delete e[t],!0}catch{return!1}}function jo(e){const t=He(e);return t?t.component&&t.el&&t.props&&!t.vnode?{vnode:t,instance:t.component,propsTarget:t.props,isVue2:!1}:qo(t):zo(e)}function qo(e){const n=Le().version===2;let o=null,s=null;if(n)o=e.componentInstance||e.context||e,s=o?.$props||o?.propsData||o?._props||null;else if(o=e.component,o){const r=on(o)||o,a=r.props&&Ie(r.props),i=e.props&&Ie(e.props);a?s=r.props:i?s=e.props:s=r.props||e.props||null}return{vnode:e,instance:o,propsTarget:s,isVue2:n}}function zo(e){const n=e.split("::")[1];if(!n)return null;const s=Ve().find(a=>a.name===n);if(!s)return null;const r=Fo(n);if(r){const i=Le().version===2;let u=r.component,p=null;if(!i&&u){const l=on(u)||u;p=l.props&&Ie(l.props)?l.props:r.props&&Ie(r.props)?r.props:null}return{vnode:r,instance:u,propsTarget:p,isVue2:i}}return{vnode:{component:s,el:s.element,props:s.props},instance:s,propsTarget:s.props,isVue2:!1}}function Fo(e){const t=H();for(const n of t){const o=se(n);if(!o)continue;const s=tt(o,e,new WeakSet);if(s)return s}return null}function tt(e,t,n){if(!e||n.has(e))return null;if(n.add(e),(e.component?.type?.name||e.component?.type?.__name||e.component?.type?.displayName||e.$options?.name)===t)return e;if(Array.isArray(e.children)){for(const s of e.children)if(s&&typeof s=="object"){const r=tt(s,t,n);if(r)return r}}if(e.component?.subTree){const s=tt(e.component.subTree,t,n);if(s)return s}return null}function cn(){U.clear(),rn()}function Wo(){U.clear(),rn()}const Ko={maxComponents:2e3,maxHistorySize:500,propsFloodLimit:50,propsFloodWindow:1e3,cleanupInterval:3e4};class Xo{buffer;head=0;tail=0;size=0;capacity;constructor(t){this.capacity=t,this.buffer=new Array(t)}push(t){this.buffer[this.tail]=t,this.tail=(this.tail+1)%this.capacity,this.size<this.capacity?this.size++:this.head=(this.head+1)%this.capacity}getAll(){const t=[];let n=this.head;for(let o=0;o<this.size;o++){const s=this.buffer[n];s!==void 0&&t.push(s),n=(n+1)%this.capacity}return t}getRecent(t){const n=[],o=Math.max(0,this.size-t);let s=(this.head+o)%this.capacity;for(let r=o;r<this.size;r++){const a=this.buffer[s];a!==void 0&&n.push(a),s=(s+1)%this.capacity}return n}clear(){this.buffer=new Array(this.capacity),this.head=0,this.tail=0,this.size=0}getSize(){return this.size}}class Go{instanceMap=new WeakMap;uidIndex=new Map;nameIndex=new Map;labelIndex=new Map;rootIndex=new WeakMap;changeHistory;propsUpdateTimestamps=new Map;config;cleanupTimer=null;disposed=!1;nextUid=1;constructor(t={}){this.config={...Ko,...t},this.changeHistory=new Xo(this.config.maxHistorySize),this.startCleanupTimer()}generateUid(){return this.nextUid++}getOrCreateUid(t){const n=this.instanceMap.get(t);return n?n.uid:this.generateUid()}registerComponent(t,n){const o=this.instanceMap.get(t);if(o)return(o.name!==n.name||o.label!==n.label||o.rootEl!==n.rootEl)&&(this.updateIndexes(o,n),o.name=n.name,o.label=n.label,o.vnode=n.vnode,o.rootEl=n.rootEl,o.lastStructureUpdate=Date.now(),o.isVisible=!0,this.recordChange({uid:o.uid,timestamp:Date.now(),type:"structure_change"})),o;const s=n.uid??this.generateUid(),r={uid:s,name:n.name,label:n.label,instance:t,vnode:n.vnode,rootEl:n.rootEl,isVisible:!0,isExpanded:!1,lastStructureUpdate:Date.now(),propsUpdateCount:0,propsDisabled:!1};return this.uidIndex.size>=this.config.maxComponents&&this.evictOldest(),this.instanceMap.set(t,r),this.uidIndex.set(s,new WeakRef(t)),this.addToIndexes(r),this.recordChange({uid:s,timestamp:Date.now(),type:"mount"}),r}unregisterComponent(t){const n=this.instanceMap.get(t);n&&(this.recordChange({uid:n.uid,timestamp:Date.now(),type:"unmount"}),this.removeFromIndexes(n),this.uidIndex.delete(n.uid),this.propsUpdateTimestamps.delete(n.uid))}readProps(t,n){if(t.propsDisabled)return!1;if(this.isPropsFlooding(t.uid))return t.propsDisabled=!0,console.warn(`[VueInspector] Props tracking disabled for component ${t.uid} due to flood`),!1;const o=this.hashProps(n),s=t.propsSnapshot;if(s&&s.hash===o)return!1;if(t.propsSnapshot={raw:n,lastUpdated:Date.now(),hash:o},t.propsUpdateCount++,this.trackPropsUpdate(t.uid),s){const r=this.computePropsDiff(s.raw,n);Object.keys(r).length>0&&this.recordChange({uid:t.uid,timestamp:Date.now(),type:"props_change",diff:r})}return!0}clearPropsSnapshot(t){t.propsSnapshot=void 0}enablePropsTracking(t){const n=this.getByUid(t);n&&(n.propsDisabled=!1,n.propsUpdateCount=0,this.propsUpdateTimestamps.delete(t))}getByInstance(t){return this.instanceMap.get(t)??null}getByUid(t){const n=this.uidIndex.get(t);if(!n)return null;const o=n.deref();return o?this.instanceMap.get(o)??null:(this.uidIndex.delete(t),null)}getByRootElement(t){const n=this.rootIndex.get(t);return n===void 0?null:this.getByUid(n)}getAllComponents(t=!1){const n=[],o=[];for(const[s,r]of this.uidIndex){const a=r.deref();if(!a){o.push(s);continue}const i=this.instanceMap.get(a);i&&(t||i.isVisible)&&n.push(i)}for(const s of o)this.uidIndex.delete(s);return n}searchByName(t){const n=[],o=t.toLowerCase();for(const[s,r]of this.nameIndex)if(s.toLowerCase().includes(o))for(const a of r){const i=this.getByUid(a);i&&n.push(i)}return n}searchByLabel(t){const n=[],o=t.toLowerCase();for(const[s,r]of this.labelIndex)if(s.toLowerCase().includes(o))for(const a of r){const i=this.getByUid(a);i&&n.push(i)}return n}fastSearch(t){const n=new Set,o=[];for(const s of this.searchByName(t))n.has(s.uid)||(n.add(s.uid),o.push(s));for(const s of this.searchByLabel(t))n.has(s.uid)||(n.add(s.uid),o.push(s));return o}searchByKeyValue(t,n){const o=[],s=t.toLowerCase();for(const r of this.getAllComponents()){if(!r.propsSnapshot){const a=n(r);a&&this.readProps(r,a)}r.propsSnapshot&&this.matchesKeyValue(r.propsSnapshot.raw,s)&&o.push(r)}return o}setExpanded(t,n){const o=this.getByUid(t);o&&(o.isExpanded=n)}setVisible(t,n){const o=this.getByUid(t);o&&(o.isVisible=n)}getExpandedComponents(){return this.getAllComponents().filter(t=>t.isExpanded)}getRecentChanges(t=50){return this.changeHistory.getRecent(t)}getAllChanges(){return this.changeHistory.getAll()}cleanup(){if(this.disposed)return{removed:0,propsCleared:0,indexesCleaned:0};let t=0,n=0,o=0;const s=[];for(const[r,a]of this.uidIndex){const i=a.deref();if(!i){s.push(r),t++;continue}const u=this.instanceMap.get(i);u&&u.propsSnapshot&&!u.isExpanded&&!u.isVisible&&(u.propsSnapshot=void 0,n++)}for(const r of s)this.uidIndex.delete(r),this.propsUpdateTimestamps.delete(r),o+=this.cleanDeadUidFromNameIndex(r),o+=this.cleanDeadUidFromLabelIndex(r);return{removed:t,propsCleared:n,indexesCleaned:o}}cleanDeadUidFromNameIndex(t){let n=0;const o=[];for(const[s,r]of this.nameIndex)r.has(t)&&(r.delete(t),n++,r.size===0&&o.push(s));for(const s of o)this.nameIndex.delete(s);return n}cleanDeadUidFromLabelIndex(t){let n=0;const o=[];for(const[s,r]of this.labelIndex)r.has(t)&&(r.delete(t),n++,r.size===0&&o.push(s));for(const s of o)this.labelIndex.delete(s);return n}clear(){this.instanceMap=new WeakMap,this.uidIndex.clear(),this.nameIndex.clear(),this.labelIndex.clear(),this.rootIndex=new WeakMap,this.changeHistory.clear(),this.propsUpdateTimestamps.clear(),this.nextUid=1}dispose(){this.disposed||(this.disposed=!0,this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null),this.clear())}isDisposed(){return this.disposed}getStats(){return{componentCount:this.uidIndex.size,maxComponents:this.config.maxComponents,historySize:this.changeHistory.getSize(),maxHistorySize:this.config.maxHistorySize}}startCleanupTimer(){this.cleanupTimer=setInterval(()=>{this.cleanup()},this.config.cleanupInterval)}evictOldest(){let t=null,n=1/0;for(const o of this.getAllComponents(!0))!o.isExpanded&&o.lastStructureUpdate<n&&(n=o.lastStructureUpdate,t=o);t&&this.unregisterComponent(t.instance)}addToIndexes(t){if(t.name){const n=this.nameIndex.get(t.name)??new Set;n.add(t.uid),this.nameIndex.set(t.name,n)}if(t.label){const n=this.labelIndex.get(t.label)??new Set;n.add(t.uid),this.labelIndex.set(t.label,n)}t.rootEl&&this.rootIndex.set(t.rootEl,t.uid)}removeFromIndexes(t){if(t.name){const n=this.nameIndex.get(t.name);n&&(n.delete(t.uid),n.size===0&&this.nameIndex.delete(t.name))}if(t.label){const n=this.labelIndex.get(t.label);n&&(n.delete(t.uid),n.size===0&&this.labelIndex.delete(t.label))}}updateIndexes(t,n){if(t.name!==n.name){if(t.name){const o=this.nameIndex.get(t.name);o&&(o.delete(t.uid),o.size===0&&this.nameIndex.delete(t.name))}if(n.name){const o=this.nameIndex.get(n.name)??new Set;o.add(t.uid),this.nameIndex.set(n.name,o)}}if(t.label!==n.label){if(t.label){const o=this.labelIndex.get(t.label);o&&(o.delete(t.uid),o.size===0&&this.labelIndex.delete(t.label))}if(n.label){const o=this.labelIndex.get(n.label)??new Set;o.add(t.uid),this.labelIndex.set(n.label,o)}}n.rootEl&&n.rootEl!==t.rootEl&&this.rootIndex.set(n.rootEl,t.uid)}recordChange(t){this.changeHistory.push(t)}hashProps(t){if(!t||typeof t!="object")return"empty";try{const n=Object.keys(t).sort();if(n.length===0)return"empty";const o=[];for(const s of n.slice(0,30)){const r=t[s],a=typeof r;a==="object"&&r!==null?Array.isArray(r)?o.push(`${s}:arr${r.length}`):o.push(`${s}:obj${Object.keys(r).length}`):a==="string"?o.push(`${s}:s${String(r).substring(0,30)}`):a==="number"||a==="boolean"?o.push(`${s}:${r}`):o.push(`${s}:${a}`)}return o.join("|")}catch{return"error"}}computePropsDiff(t,n){const o={},s=t,r=n,a=new Set([...Object.keys(s),...Object.keys(r)]);for(const i of a){const u=s[i],p=r[i];u!==p&&(o[i]={old:u,new:p})}return o}isPropsFlooding(t){const n=this.propsUpdateTimestamps.get(t)??[],s=Date.now()-this.config.propsFloodWindow;return n.filter(a=>a>=s).length>=this.config.propsFloodLimit}trackPropsUpdate(t){const n=Date.now(),o=this.propsUpdateTimestamps.get(t)??[],s=n-this.config.propsFloodWindow,r=o.filter(a=>a>=s);r.push(n),this.propsUpdateTimestamps.set(t,r)}matchesKeyValue(t,n){const o=t;for(const[s,r]of Object.entries(o))if(s.toLowerCase().includes(n)||typeof r=="string"&&r.toLowerCase().includes(n)||typeof r=="number"&&String(r).includes(n)||typeof r=="boolean"&&String(r).includes(n))return!0;return!1}}let W=null;function R(){return(!W||W.isDisposed())&&(W=new Go),W}function un(){W&&(W.dispose(),W=null)}function Yo(e,t){return e instanceof Set?t instanceof Set?t:new Set(Array.isArray(t)?t:[]):e instanceof Map?t instanceof Map?t:new Map(t??[]):t}function Jo(e,t){return e?.__v_isRef?(e.value=t,e):Yo(e,t)}function Zo(e,t){const o=`update:${t.replace(/^-/,"")}`;return!!(e?.emitsOptions?.[o]||e?.$listeners?.[o])}function Qo(e,t,n){const s=`update:${t.replace(/^-/,"")}`;return e?.emit?(e.emit(s,n),!0):e?.$emit?(e.$emit(s,n),!0):!1}function es(e){const n=R().getByUid(e);return n?n.instance:null}function Bt(e){return e?e.props?e.props:e.$props?e.$props:e._props?e._props:e.propsData?e.propsData:null:null}function Tt(e,t){let n=null,o=null;if(e.startsWith("uid:")){const r=e.substring(4),a=parseInt(r,10);isNaN(a)||(n=es(a),o=Bt(n))}if(!o){const r=jo(e)??ts(e);r?.instance&&(n=r.instance,o=Bt(n))}if(!n||!o)return!1;let s=!1;for(const r in t)if(r in o)try{const a=o[r];if(Zo(n,r)&&Qo(n,r,t[r])){s=!0;continue}const i=Jo(a,t[r]);o[r]=i,s=!0}catch{}return s}function ts(e){const{findVueRoots:t,extractRootVNode:n,detectVueContext:o}=require("./vue-detect"),s=t(),a=o().version===2;function i(u,p=""){if(!u)return null;let l=null;if(a?l=u.componentInstance||u.context:l=u.component,l){const c=l.uid||l._uid,f=l.type?.name||l.type?.__name||l.$options?.name;if(c===e||c?.toString()===e||f===e)return{vnode:u,instance:l,propsTarget:l.props||u.props,isVue2:a}}if(u.children&&Array.isArray(u.children))for(let c=0;c<u.children.length;c++){const f=i(u.children[c],`${p}.children[${c}]`);if(f)return f}if(!a&&u.component?.subTree){const c=i(u.component.subTree,`${p}.subTree`);if(c)return c}if(a&&l?.$children)for(let c=0;c<l.$children.length;c++){const f=l.$children[c];if(f.$vnode){const h=i(f.$vnode,`${p}.$children[${c}]`);if(h)return h}}return null}for(let u=0;u<s.length;u++){const p=s[u],l=n(p);if(l){const c=i(l,`root[${u}]`);if(c)return c}}return null}const nt="data-vue-inspector-uid";function ns(e,t){!t||!(t instanceof HTMLElement)||t.isConnected&&t.setAttribute(nt,String(e))}function os(e){const t=document.querySelector(`[${nt}="${e}"]`);t instanceof HTMLElement&&t.removeAttribute(nt)}function ss(){const t=R().getAllComponents();for(const n of t)n.rootEl&&n.rootEl.isConnected&&ns(n.uid,n.rootEl)}const rs=os,is=ss,ln={maxDepth:100,maxComponents:1e4};let xe=0,ot=new Set,Ee=!1,be=1;const D={totalScans:0,lastScanDuration:0,lastScanResult:null,skippedDueToVisibility:0};function as(){typeof document>"u"||document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?(be=10,console.debug("[VueInspector] Page hidden - reducing scan frequency")):(be=1,console.debug("[VueInspector] Page visible - normal scan frequency"))})}function cs(){Ee=!0}function us(){Ee=!1}function ls(){return Ee}function ps(e){if(Ee)return D.skippedDueToVisibility++,!0;const t=e*be;return Date.now()-xe<t}function pn(e){return e&&(e.type?.name||e.type?.__name||e.type?.displayName||e.$options?.name||e.$options?._componentTag)||"Anonymous"}function fn(e,t){const n=t?.el||t?.elm;if(n instanceof HTMLElement){const o=n.getAttribute("data-testid")||n.getAttribute("data-test");if(o)return o}if(t?.ref){if(typeof t.ref=="string")return t.ref;if(t.ref?.i)return String(t.ref.i)}if(t?.key!==void 0&&t?.key!==null)return`key:${t.key}`}function dn(e,t){if(t?.el instanceof HTMLElement)return t.el;if(t?.elm instanceof HTMLElement)return t.elm;if(e?.$el instanceof HTMLElement)return e.$el}function fs(e,t,n){let o=0,s=0;const r=e.component;if(!r)return{mounted:o,updated:s};const a=R(),i=a.getByInstance(r),u=pn(r),p=fn(r,e),l=dn(r,e);if(i){const c=a.registerComponent(r,{uid:i.uid,name:u,label:p,vnode:e,rootEl:l});n.add(c.uid),s++}else{const c=a.registerComponent(r,{name:u,label:p,vnode:e,rootEl:l});n.add(c.uid),o++}if(r.subTree){const c=ye(r.subTree,t,n,3);o+=c.mounted,s+=c.updated}return{mounted:o,updated:s}}function ds(e,t,n){let o=0,s=0;const r=e.componentInstance||e.context;if(!r)return{mounted:o,updated:s};const a=R(),i=a.getByInstance(r),u=pn(r),p=fn(r,e),l=dn(r,e);if(i){const c=a.registerComponent(r,{uid:i.uid,name:u,label:p,vnode:e,rootEl:l});n.add(c.uid),s++}else{const c=a.registerComponent(r,{name:u,label:p,vnode:e,rootEl:l});n.add(c.uid),o++}if(r.$children&&Array.isArray(r.$children)){for(const c of r.$children)if(c.$vnode&&t.visit(c.$vnode)){const f=ye(c.$vnode,t,n,2);o+=f.mounted,s+=f.updated}}return{mounted:o,updated:s}}function ye(e,t,n,o,s=0){let r=0,a=0;if(!e||s>ln.maxDepth||t.isLimitReached())return{mounted:r,updated:a};if(o===3&&e.component){const i=fs(e,t,n);r+=i.mounted,a+=i.updated}else if(o===2&&(e.componentInstance||e.context)){const i=ds(e,t,n);r+=i.mounted,a+=i.updated}if(Array.isArray(e.children)){for(const i of e.children)if(i&&t.visit(i)){const u=ye(i,t,n,o,s+1);r+=u.mounted,a+=u.updated}}else if(e.children&&typeof e.children=="object"&&t.visit(e.children)){const i=ye(e.children,t,n,o,s+1);r+=i.mounted,a+=i.updated}return{mounted:r,updated:a}}function De(e={}){const{minIntervalMs:t=100,force:n=!1}=e;if(!n&&ps(t))return D.lastScanResult??{total:0,mounted:0,unmounted:0,updated:0,duration:0};const o=performance.now(),s=R(),r=H();let a=0,i=0,u=0;const p=new Set;if(r.length>0)for(const h of r){const g=se(h);if(!g)continue;const T=h.__vue__&&!h.__vue_app__?2:3,S=new en(ln.maxComponents);S.visit(g);const w=ye(g,S,p,T);i+=w.mounted,u+=w.updated}let l=0;for(const h of ot)if(!p.has(h)){const g=s.getByUid(h);g&&(s.unregisterComponent(g.instance),rs(h),l++)}ot=p,a=p.size,is();const c=performance.now()-o;D.totalScans++,D.lastScanDuration=c,xe=Date.now();const f={total:a,mounted:i,unmounted:l,updated:u,duration:c};return D.lastScanResult=f,f}function St(){return R().getAllComponents().map(t=>({uid:t.uid,name:t.name??"Anonymous",label:t.label,hasRootEl:!!t.rootEl,isExpanded:t.isExpanded}))}function hn(){return{...D,lastScanTime:xe,isPaused:Ee,throttleMultiplier:be}}function hs(){ot.clear(),xe=0,D.totalScans=0,D.lastScanDuration=0,D.lastScanResult=null}function Rt(e){return e?e.props?e.props:e.$props?e.$props:e.propsData?e.propsData:e._props?e._props:null:null}function _n(e){return e.instance}function mn(e){if(!e||typeof e!="object")return"empty";try{const t=Object.keys(e);if(t.length===0)return"empty";const n=[`k${t.length}`];for(const o of t.slice(0,20)){const s=e[o],r=typeof s;s===null?n.push(`${o}:null`):s===void 0?n.push(`${o}:undef`):r==="string"?n.push(`${o}:s${s.length}:${s.substring(0,20)}`):r==="number"?n.push(`${o}:n${s}`):r==="boolean"?n.push(`${o}:b${s}`):Array.isArray(s)?n.push(`${o}:a${s.length}`):r==="object"?n.push(`${o}:o${Object.keys(s).length}`):n.push(`${o}:${r}`)}return n.join("|")}catch{return"error"}}function _s(e){return e.isExpanded||G.has(e.uid)}function yn(e){if(R(),!_s(e))return{props:{},count:0,loaded:!1,lastUpdated:0};const t=_n(e),n=Rt(t);if(!n)return{props:{},count:0,loaded:!1,lastUpdated:0};const o=mn(n);e.propsSnapshot?.hash!==o&&(e.propsSnapshot={raw:n,lastUpdated:Date.now(),hash:o},e.propsUpdateCount++);const r=re(n);return{props:r,count:Object.keys(r).length,loaded:!0,lastUpdated:e.propsSnapshot?.lastUpdated??Date.now()}}function gn(e){const n=R().getByUid(e);return n?ms(n):null}function ms(e){const t=_n(e),n=Rt(t);if(!n)return{props:{},count:0,loaded:!1,lastUpdated:0};const o=mn(n);e.propsSnapshot?.hash!==o&&(e.propsSnapshot={raw:n,lastUpdated:Date.now(),hash:o},e.propsUpdateCount++);const r=re(n);return{props:r,count:Object.keys(r).length,loaded:!0,lastUpdated:e.propsSnapshot?.lastUpdated??Date.now()}}function En(){return R().getExpandedComponents().map(n=>({uid:n.uid,name:n.name??"Anonymous",label:n.label,hasRootEl:!!n.rootEl,isExpanded:n.isExpanded,props:yn(n)}))}function Ot(e){const t=R(),n=t.getByUid(e);return n?(t.setExpanded(e,!0),{uid:n.uid,name:n.name??"Anonymous",label:n.label,hasRootEl:!!n.rootEl,isExpanded:!0,props:yn(n)}):null}function Ct(e){const t=R(),n=t.getByUid(e);n&&(t.setExpanded(e,!1),G.has(e)||t.clearPropsSnapshot(n))}let wt=!1;const G=new Set,st=new Map;function ys(e){G.add(e),wt=G.size>0,st.has(e)||st.set(e,[])}function gs(e){G.delete(e),wt=G.size>0,st.delete(e);const t=R(),n=t.getByUid(e);n&&!n.isExpanded&&t.clearPropsSnapshot(n)}function Es(){return wt}function Pe(){return Array.from(G)}const z={type:"all",caseSensitive:!1,limit:100,scope:"expandedAndLogged"};function It(e){const t=R();switch(e){case"expanded":return t.getExpandedComponents();case"logged":{const n=new Set(Pe());return t.getAllComponents().filter(o=>n.has(o.uid))}case"expandedAndLogged":{const n=new Set(Pe());return t.getAllComponents().filter(o=>o.isExpanded||n.has(o.uid))}case"visible":return t.getAllComponents().filter(n=>n.isVisible);case"explicitDeep":return console.warn("[VueInspector] Deep props search requested - this may be slow"),t.getAllComponents();default:return t.getExpandedComponents()}}function Ts(e,t={}){const n={...z,...t},o=R(),s=[],r=n.caseSensitive?e:e.toLowerCase();for(const a of o.getAllComponents()){if(s.length>=n.limit)break;const i=a.name??"Anonymous";(n.caseSensitive?i:i.toLowerCase()).includes(r)&&s.push({uid:a.uid,name:i,label:a.label,matchType:"name",matchedText:i,hasProps:!!a.propsSnapshot})}return s}function Ss(e,t={}){const n={...z,...t},o=R(),s=[],r=n.caseSensitive?e:e.toLowerCase();for(const a of o.getAllComponents()){if(s.length>=n.limit)break;if(!a.label)continue;(n.caseSensitive?a.label:a.label.toLowerCase()).includes(r)&&s.push({uid:a.uid,name:a.name??"Anonymous",label:a.label,matchType:"label",matchedText:a.label,hasProps:!!a.propsSnapshot})}return s}function Tn(e,t={}){const n={...z,...t},o=new Map,s=n.caseSensitive?e:e.toLowerCase(),r=R();for(const a of r.getAllComponents()){if(o.size>=n.limit)break;const i=a.name??"Anonymous";if((n.caseSensitive?i:i.toLowerCase()).includes(s)){o.set(a.uid,{uid:a.uid,name:i,label:a.label,matchType:"name",matchedText:i,hasProps:!!a.propsSnapshot});continue}a.label&&(n.caseSensitive?a.label:a.label.toLowerCase()).includes(s)&&o.set(a.uid,{uid:a.uid,name:i,label:a.label,matchType:"label",matchedText:a.label,hasProps:!!a.propsSnapshot})}return Array.from(o.values())}function bt(e){return e.propsSnapshot?e.propsSnapshot.raw:null}function Rs(e,t={}){const n={...z,...t},o=[],s=n.caseSensitive?e:e.toLowerCase(),r=It(n.scope);for(const a of r){if(o.length>=n.limit)break;const i=bt(a);if(i){for(const u of Object.keys(i))if((n.caseSensitive?u:u.toLowerCase()).includes(s)){o.push({uid:a.uid,name:a.name??"Anonymous",label:a.label,matchType:"key",matchedText:u,hasProps:!0});break}}}return o}function Os(e,t={}){const n={...z,...t},o=[],s=n.caseSensitive?e:e.toLowerCase(),r=It(n.scope);for(const a of r){if(o.length>=n.limit)break;const i=bt(a);if(i){for(const[u,p]of Object.entries(i))if(Ae(p,s,n.caseSensitive)){o.push({uid:a.uid,name:a.name??"Anonymous",label:a.label,matchType:"value",matchedText:`${u}: ${Rn(p)}`,hasProps:!0});break}}}return o}function Sn(e,t={}){const n={...z,...t},o=new Map,s=n.caseSensitive?e:e.toLowerCase(),r=It(n.scope);for(const a of r){if(o.size>=n.limit)break;const i=bt(a);if(i){for(const u of Object.keys(i))if((n.caseSensitive?u:u.toLowerCase()).includes(s)){o.set(a.uid,{uid:a.uid,name:a.name??"Anonymous",label:a.label,matchType:"key",matchedText:u,hasProps:!0});break}if(!o.has(a.uid)){for(const[u,p]of Object.entries(i))if(Ae(p,s,n.caseSensitive)){o.set(a.uid,{uid:a.uid,name:a.name??"Anonymous",label:a.label,matchType:"value",matchedText:`${u}: ${Rn(p)}`,hasProps:!0});break}}}}return Array.from(o.values())}function Cs(e,t={}){const n={...z,...t},o=new Map,s=Tn(e,{...n,limit:n.limit});for(const r of s)o.set(r.uid,r);if(o.size<n.limit){const r=n.limit-o.size,a=Sn(e,{...n,limit:r});for(const i of a)o.has(i.uid)||o.set(i.uid,i)}return Array.from(o.values())}function $e(e,t={}){const n={...z,...t};switch(n.type){case"name":return Ts(e,n);case"label":return Ss(e,n);case"key":return Rs(e,n);case"value":return Os(e,n);default:return Cs(e,n)}}function ws(e,t={}){return console.warn("[VueInspector] Deep search initiated - this scans all components"),$e(e,{...t,scope:"explicitDeep"})}function Ae(e,t,n){if(e==null)return!1;if(typeof e=="string")return(n?e:e.toLowerCase()).includes(t);if(typeof e=="number"||typeof e=="boolean")return String(e).includes(t);if(Array.isArray(e)){for(const o of e.slice(0,10))if(Ae(o,t,n))return!0;return!1}if(typeof e=="object"){for(const o of Object.values(e).slice(0,10))if((typeof o=="string"||typeof o=="number"||typeof o=="boolean")&&Ae(o,t,n))return!0;return!1}return!1}function Rn(e){return e===null?"null":e===void 0?"undefined":typeof e=="string"?e.length>50?e.substring(0,50)+"...":e:typeof e=="number"||typeof e=="boolean"?String(e):Array.isArray(e)?`Array(${e.length})`:typeof e=="object"?`Object{${Object.keys(e).length}}`:String(e)}const _={UPDATE_PROPS:"VUE_INSPECTOR_UPDATE_PROPS",UPDATE_PROPS_RESULT:"VUE_INSPECTOR_UPDATE_PROPS_RESULT",GET_COMPONENT_PROPS:"VUE_INSPECTOR_GET_COMPONENT_PROPS",COMPONENT_PROPS_DATA:"VUE_INSPECTOR_COMPONENT_PROPS_DATA",GET_COMPONENTS:"VUE_INSPECTOR_GET_COMPONENTS",COMPONENTS_DATA:"VUE_INSPECTOR_COMPONENTS_DATA",CHECK_VUE:"VUE_INSPECTOR_CHECK_VUE",VUE_DETECTED:"VUE_INSPECTOR_VUE_DETECTED",READY:"VUE_INSPECTOR_READY",CLEANUP:"VUE_INSPECTOR_CLEANUP",SCAN_STRUCTURE:"VUE_INSPECTOR_SCAN_STRUCTURE",STRUCTURE_DATA:"VUE_INSPECTOR_STRUCTURE_DATA",GET_COMPONENT_LIST:"VUE_INSPECTOR_GET_COMPONENT_LIST",COMPONENT_LIST_DATA:"VUE_INSPECTOR_COMPONENT_LIST_DATA",EXPAND_COMPONENT:"VUE_INSPECTOR_EXPAND_COMPONENT",COLLAPSE_COMPONENT:"VUE_INSPECTOR_COLLAPSE_COMPONENT",SEARCH_COMPONENTS:"VUE_INSPECTOR_SEARCH_COMPONENTS",SEARCH_RESULTS:"VUE_INSPECTOR_SEARCH_RESULTS",GET_EXPANDED_PROPS:"VUE_INSPECTOR_GET_EXPANDED_PROPS",EXPANDED_PROPS_DATA:"VUE_INSPECTOR_EXPANDED_PROPS_DATA"};let Ne=!1,le=null,jt=0;const Is=100;function bs(e){if(!e)return"div";const t=e.tagName?.toLowerCase()||"div",n=e.className?"."+e.className.trim().replace(/\s+/g,"."):"",o=e.id?`#${e.id}`:"";return t+n+o}function Ps(e){const t=e.instance,n=Rt(t);let o=null,s=null;e.rootEl&&(o={tagName:e.rootEl.tagName?.toLowerCase(),id:e.rootEl.id||void 0,className:e.rootEl.className||void 0,testId:e.rootEl.getAttribute?.("data-testid")||void 0},s=o);const r=n?re(n):{},a=e.name||"Anonymous",i=bs(e.rootEl),u=`${a}::${i}`;return{name:a,props:r,path:`uid:${e.uid}`,componentUid:u,id:`uid:${e.uid}`,element:o,hasProps:Object.keys(r).length>0,propsCount:Object.keys(r).length,rootElement:s}}function As(){return De(),R().getAllComponents().map(Ps)}function Ns(e){if(e.startsWith("uid:")){const r=parseInt(e.substring(4),10);return gn(r)?.props??{}}const t=He(e);if(!t)return{};const o=Le().version===2;let s={};if(o){const r=t.componentInstance||t.context;r&&(s=re(r.$props||r.propsData||r._props||{}))}else{const r=t.component;r&&(s=re(r.props||{}))}return s}function ks(e){if(!e.data||typeof e.data!="object"||!e.data.type)return;const{requestId:t}=e.data;if(e.data.type===_.UPDATE_PROPS){try{const{componentPath:n,props:o}=e.data,s=Tt(n,o);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.UPDATE_PROPS_RESULT,success:s,error:s?void 0:"Failed to update component props",requestId:t},"*")}catch(n){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.UPDATE_PROPS_RESULT,success:!1,error:String(n),requestId:t},"*")}return}if(e.source===window&&e.data?.type===_.GET_COMPONENT_PROPS){try{const{componentPath:n}=e.data,o=Ns(n);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.COMPONENT_PROPS_DATA,props:o,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.COMPONENT_PROPS_DATA,props:{},requestId:t},"*")}return}if(e.source===window&&e.data?.type===_.GET_COMPONENTS){try{const n=As();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.COMPONENTS_DATA,components:n,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.COMPONENTS_DATA,components:[],requestId:t},"*")}return}if(e.source===window&&e.data?.type===_.SCAN_STRUCTURE){try{const n=Date.now();if(n-jt<Is){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.STRUCTURE_DATA,result:hn().lastScanResult,throttled:!0,requestId:t},"*");return}jt=n;const o=De();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.STRUCTURE_DATA,result:o,throttled:!1,requestId:t},"*")}catch(n){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.STRUCTURE_DATA,result:null,error:String(n),requestId:t},"*")}return}if(e.source===window&&e.data?.type===_.GET_COMPONENT_LIST){try{const n=St();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.COMPONENT_LIST_DATA,components:n,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.COMPONENT_LIST_DATA,components:[],requestId:t},"*")}return}if(e.source===window&&e.data?.type===_.EXPAND_COMPONENT){try{const{uid:n}=e.data,o=Ot(n);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.COMPONENT_PROPS_DATA,component:o,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.COMPONENT_PROPS_DATA,component:null,requestId:t},"*")}return}if(e.source===window&&e.data?.type===_.COLLAPSE_COMPONENT){try{const{uid:n}=e.data;Ct(n),window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.UPDATE_PROPS_RESULT,success:!0,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.UPDATE_PROPS_RESULT,success:!1,requestId:t},"*")}return}if(e.source===window&&e.data?.type===_.SEARCH_COMPONENTS){try{const{query:n,options:o}=e.data,s=$e(n,o);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.SEARCH_RESULTS,results:s,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.SEARCH_RESULTS,results:[],requestId:t},"*")}return}if(e.source===window&&e.data?.type===_.GET_EXPANDED_PROPS){try{const n=En();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.EXPANDED_PROPS_DATA,components:n,requestId:t},"*")}catch{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.EXPANDED_PROPS_DATA,components:[],requestId:t},"*")}return}if(e.source===window&&e.data?.type===_.CHECK_VUE){const n=Ue(),o=H();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.VUE_DETECTED,detected:n,url:window.location.href,appCount:o.length,hasDevToolsHook:!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,hasVue2:!!window.__VUE__},"*");return}if(e.source===window&&e.data?.type===_.CLEANUP){Y();return}}function Ms(){if(!Ne){if(Ne=!0,le=ks,window.addEventListener("message",le),window.addEventListener("beforeunload",Y),window.addEventListener("pagehide",Y),Ue()){const e=H();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.VUE_DETECTED,detected:!0,url:window.location.href,appCount:e.length,hasDevToolsHook:!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,hasVue2:!!window.__VUE__},"*")}window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:_.READY},"*")}}function Y(){Ne&&(le&&(window.removeEventListener("message",le),le=null),window.removeEventListener("beforeunload",Y),window.removeEventListener("pagehide",Y),un(),Ne=!1)}let J=!1,qt=!1;function Us(){J||(J=!0,Ms(),as(),!qt&&typeof window<"u"&&(qt=!0,window.addEventListener("beforeunload",zt),window.addEventListener("pagehide",zt),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&On()})))}function zt(){J&&(Y(),un(),Wo(),hs(),J=!1)}function Ls(){if(!J)return;Y(),R().cleanup(),cn(),J=!1}function On(){R().cleanup(),cn()}function Vs(){const e=R();return{scannerStats:hn(),storeStats:e.getStats(),initialized:J,loggingEnabled:Es(),loggedComponents:Pe()}}const Hs={isVueDetected:()=>Ue(),findVueRoots:()=>H(),scanStructure:e=>De(e),getComponentList:()=>St(),pauseScanning:()=>cs(),resumeScanning:()=>us(),isScanningPaused:()=>ls(),expandComponent:e=>Ot(e),collapseComponent:e=>Ct(e),getComponentProps:e=>gn(e),getExpandedProps:()=>En(),search:(e,t)=>$e(e,t),fastSearch:e=>Tn(e),lazySearch:e=>Sn(e),deepSearch:e=>ws(e),enableLogging:e=>ys(e),disableLogging:e=>gs(e),getLoggedComponents:()=>Pe(),getStore:()=>R(),getRecentChanges:e=>R().getRecentChanges(e),getComponents:()=>Ve(),findComponentByPath:e=>He(e),updateComponentProps:(e,t)=>Tt(e,t),forceRefresh:()=>Mo(),forceMemoryCleanup:()=>On(),getDebugStats:()=>Vs(),version:"3.1.0"};Object.assign(window,{__VUE_INSPECTOR__:Hs,__VUE_INSPECTOR_INJECTED__:{getComponents:()=>Ve(),isVueDetected:()=>Ue(),findComponentByPath:e=>He(e),updateComponentProps:(e,t)=>Tt(e,t),scanStructure:()=>De(),getComponentList:()=>St(),expandComponent:e=>Ot(e),collapseComponent:e=>Ct(e),search:(e,t)=>$e(e,t)}});function xs(e){if(e._setupStore===!0)return!0;if(Object.keys(e.$state||{}).length===0){for(const n of Object.keys(e))if(!(n.startsWith("$")||n.startsWith("_"))&&typeof e[n]!="function")return!0}for(const n of Object.keys(e)){if(n.startsWith("$")||n.startsWith("_")||typeof e[n]=="function")continue;const o=e[n];if(o&&typeof o=="object"&&o.__v_isRef===!0)return!0}return!1}function Ds(e){return e._setupStore===!0}function $s(e){if(Object.keys(e.$state||{}).length===0){for(const n of Object.keys(e))if(!(n.startsWith("$")||n.startsWith("_"))&&typeof e[n]!="function")return!0}return!1}function vs(e){for(const t of Object.keys(e)){if(t.startsWith("$")||t.startsWith("_")||typeof e[t]=="function")continue;const n=e[t];if(n&&typeof n=="object"&&n.__v_isRef===!0)return!0}return!1}function Pt(e){return e.replace(/-\d+$/,"").replace(/_\d+$/,"")}function Bs(e){const t=ve(e),n=Be(e),o=je(e);return{stateKeys:t,getterKeys:n,actionKeys:o}}function ve(e){if(e.$state&&typeof e.$state=="object")return Object.keys(e.$state);const t=[];for(const n of Object.keys(e)){if(n.startsWith("$")||n.startsWith("_")||typeof e[n]=="function")continue;const o=e[n];Z(o)||t.push(n)}return t}function Z(e){return!e||typeof e!="object"?!1:e.__v_isRef===!0&&e.effect!==void 0||e.__v_isRef===!0&&typeof e._getter=="function"||e.__v_isRef===!0&&e.__v_isReadonly===!0}function ke(e){return!!(e&&typeof e=="object"&&e.__v_isRef===!0)}function Be(e){const t=[],n=new Set(Object.keys(e.$state||{}));for(const s of Object.keys(e)){if(s.startsWith("$")||s.startsWith("_")||typeof e[s]=="function")continue;const r=e[s];Z(r)&&t.push(s)}for(const s of Object.keys(e))s.startsWith("$")||s.startsWith("_")||typeof e[s]=="function"||t.includes(s)||n.has(s)||t.push(s);const o=Object.getPrototypeOf(e);if(o&&o!==Object.prototype)for(const s of Object.getOwnPropertyNames(o)){if(s==="constructor"||s.startsWith("$")||s.startsWith("_")||t.includes(s))continue;const r=Object.getOwnPropertyDescriptor(o,s);r&&typeof r.get=="function"&&t.push(s)}return t}function je(e){const t=[];for(const n in e)!n.startsWith("$")&&!n.startsWith("_")&&typeof e[n]=="function"&&t.push(n);return t}function qe(e){return!!(e&&typeof e=="object"&&e.__v_isRef===!0)}function js(e){return!e||typeof e!="object"?!1:e.__v_isRef===!0&&e.effect!==void 0||e.__v_isRef===!0&&typeof e._getter=="function"||e.__v_isRef===!0&&e.__v_isReadonly===!0}function At(e){return!!(e&&typeof e=="object"&&"__v_raw"in e&&!qe(e))}function qs(e){return qe(e)?V(e.value):e}function zs(e){return At(e)?V(e.__v_raw):e}function Fs(e){if(e==null||typeof e!="object")return e;try{return JSON.parse(JSON.stringify(e))}catch{return e}}function V(e){if(e==null||typeof e!="object")return e;if(qe(e))return V(e.value);if(At(e))return V(e.__v_raw);if(Array.isArray(e))return e.map(t=>V(t));if(typeof e=="object"&&e!==null)try{return JSON.parse(JSON.stringify(e))}catch{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=V(e[n]));return t}return e}let j=null;function Ws(){try{if(window._s&&window._s instanceof Map)return{_s:window._s,$id:"found-in-window"}}catch{}return null}function Ks(){try{const e=window.__VUE_DEVTOOLS_GLOBAL_HOOK__;if(e?.apps)for(const t of e.apps){const n=t._context?.provides?.pinia||t._context?.config?.globalProperties?.$pinia||t.config?.globalProperties?.$pinia;if(n&&n._s)return n}}catch{}return null}function Xs(){try{const e=["#app","#root","[data-v-app]"];for(const n of e){const o=document.querySelector(n);if(o?.__vue_app__){const s=o.__vue_app__,r=s._context?.provides?.pinia||s._context?.config?.globalProperties?.$pinia||s.config?.globalProperties?.$pinia;if(r&&r._s)return r}}const t=document.body?.children;if(t){const n=Math.min(t.length,10);for(let o=0;o<n;o++){const s=t[o];if(s.__vue_app__){const r=s.__vue_app__,a=r._context?.provides?.pinia||r._context?.config?.globalProperties?.$pinia;if(a&&a._s)return a}}}}catch{}return null}function Gs(){try{const t=window.__VUE_INSPECTOR__?.findVueRoots;if(!t)return null;const n=t();for(const o of n)if(o.__vue_app__){const s=o.__vue_app__,r=s._context?.provides?.pinia||s._context?.config?.globalProperties?.$pinia;if(r&&r._s)return r}}catch{}return null}function ze(){if(j){if(j._s instanceof Map)return j;j=null}let e=Ws();return e||(e=Ks(),e)||(e=Xs(),e)||(e=Gs(),e)?(j=e,e):null}function Nt(){return ze()!==null}let ne=null;function Ys(){ne!==null&&(clearTimeout(ne),ne=null)}async function Js(e=2e3,t=500){return Ys(),new Promise(n=>{const o=Date.now(),s=()=>{const r=ze();if(r)return ne=null,n(r);if(Date.now()-o>e)return ne=null,n(null);ne=setTimeout(s,t)};s()})}function Zs(e,t){if(!e._s||!(e._s instanceof Map))return()=>{};const n=e._s.set.bind(e._s),o=e._s.delete.bind(e._s);return e._s.set=function(...s){const r=n(...s);return t(),r},e._s.delete=function(...s){const r=o(...s);return t(),r},()=>{e._s.set=n,e._s.delete=o}}let pe=null;function kt(e=!1){return(!pe||e)&&(pe=Cn()),pe}function Cn(){const e=ze();let t=new Set;return e&&e._s&&(e._s instanceof Map?t=new Set(Array.from(e._s.keys())):t=new Set(Object.keys(e._s))),{pinia:e,liveStoreIds:t,lastScan:Date.now()}}function rt(){return pe=Cn(),pe}function Fe(){return kt().pinia}function wn(){return kt().liveStoreIds}function Qs(e){return wn().has(e)}function In(e){const t={},n=ve(e);for(const o of n)try{t[o]=V(e[o])}catch{t[o]="[Non-serializable]"}return t}function We(e){const t=F(e);return t?In(t):null}function Mt(){const e=Fe();return e?Array.from(e._s.keys()):[]}function F(e){const t=Fe();return t&&t._s.get(e)||null}function Ke(e){const t=F(e);if(!t)return{};const n={},o=Be(t);for(const s of o)try{n[s]=V(t[s])}catch{n[s]="[Non-serializable]"}return n}function Ut(e){const t=F(e);return t?je(t):[]}async function bn(e,t,...n){const o=F(e);if(!o)throw new Error(`Store "${e}" not found`);if(typeof o[t]!="function")throw new Error(`Action "${t}" not found in store "${e}"`);try{return await o[t](...n)}catch(s){throw s}}async function Pn(e,t,...n){const o=await bn(e,t,...n);return V(o)}function ge(e,t="",n={}){if(e==null)return n;if(typeof e!="object")return n[t]=e,n;if(Array.isArray(e)){for(let o=0;o<e.length;o++){const s=e[o],r=t?`${t}.${o}`:o.toString();typeof s=="object"&&s!==null?ge(s,r,n):n[r]=s}return n}for(const o of Object.keys(e)){const s=e[o],r=t?`${t}.${o}`:o;typeof s=="object"&&s!==null?ge(s,r,n):n[r]=s}return n}function An(){const e=[],t=Fe();if(!t)return e;for(const[n,o]of t._s.entries()){const s=Pt(n),r=We(n);if(r){const u=ge(r);for(const p in u){const l=u[p];let c;l===null?c="null":l===void 0?c="undefined":typeof l=="object"?c=JSON.stringify(l):c=String(l),c=c.toLowerCase(),e.push({storeId:n,baseId:s,type:"state",key:p,value:l,valueStr:c})}}const a=Ke(n),i=ge(a);for(const u in i){const p=i[u];let l;p===null?l="null":p===void 0?l="undefined":typeof p=="object"?l=JSON.stringify(p):l=String(p),l=l.toLowerCase(),e.push({storeId:n,baseId:s,type:"getter",key:u,value:p,valueStr:l})}}return e}function Lt(e){return e.replace(/\[(\d+)\]/g,".$1").split(".")}function er(e,t,n){const o=Lt(t);let s=e;for(let r=0;r<o.length-1;r++){const a=o[r];a in s||(s[a]={}),s=s[a]}s[o[o.length-1]]=n}function Nn(e,t,n){const o=F(e);if(!o)return!1;try{const s=Lt(t),r=s[0];let a;r in o&&!r.startsWith("$")&&!r.startsWith("_")&&typeof o[r]!="function"?a=o:o.$state&&r in o.$state?a=o.$state:a=o;for(let p=0;p<s.length-1;p++){if(a=a[s[p]],a===void 0)return!1;ke(a)&&(a=a.value)}const i=s[s.length-1],u=a[i];return Z(u)?!1:(ke(u)?u.value=n:a[i]=n,!0)}catch{return!1}}function kn(e,t){const n=F(e);if(!n)return!1;try{if(typeof n.$patch=="function")return n.$patch(()=>{for(const o of Object.keys(t)){const s=t[o];if(n[o]&&Z(n[o]))continue;const r=Object.getOwnPropertyDescriptor(n,o);if(!(r&&typeof r.get=="function"&&typeof r.set!="function")&&typeof n[o]!="function")if(ke(n[o]))n[o].value=s;else if(n[o]&&typeof n[o]=="object"&&!Array.isArray(n[o])){const a=n[o],i=Object.keys(a).filter(p=>typeof a[p]=="function"),u={};for(const p of i)u[p]=a[p];Object.keys(a).forEach(p=>delete a[p]),Object.assign(a,s),Object.assign(a,u)}else n.$state&&Object.prototype.hasOwnProperty.call(n.$state,o)?n.$state[o]=s:n[o]=s}}),!0;for(const o of Object.keys(t))typeof n[o]!="function"&&(Z(n[o])||(n[o]=t[o]));return!0}catch{return!1}}function Mn(e,t){const n=F(e);if(!n)return{success:!1,updated:[]};const o=[],s=new Set(Object.keys(n.$state||{}));try{return n.$patch(()=>{for(const r of Object.keys(t)){const a=t[r];if(s.has(r)){n.$state&&(n.$state[r]=a,o.push(r));continue}const i=n[r];if(ke(i)&&!Z(i)){i.value=a,o.push(r);continue}if(i&&typeof i=="object"&&!Z(i)){if(Array.isArray(i)&&Array.isArray(a)){i.length=0,i.push(...a),o.push(r);continue}else if(!Array.isArray(i)&&typeof a=="object"){const u=Object.keys(i).filter(l=>typeof i[l]=="function"),p={};for(const l of u)p[l]=i[l];Object.keys(i).forEach(l=>delete i[l]),Object.assign(i,a),Object.assign(i,p),o.push(r);continue}}}}),{success:!0,updated:o}}catch{return{success:!1,updated:o}}}let Ft=!1;const tr={PINIA_GET_STORES_SUMMARY:or,PINIA_BUILD_SEARCH_INDEX:sr,PINIA_GET_STORE_STATE:rr,PINIA_PATCH_STATE:ir,PINIA_REPLACE_STATE:ar,PINIA_PATCH_GETTERS:cr,PINIA_CALL_ACTION:ur,PINIA_CHECK_DETECTED:lr};function nr(e){if(e.source!==window||!e.data||typeof e.data!="object"||typeof e.data.type!="string"||!e.data.type.startsWith("PINIA_"))return;const t=tr[e.data.type];if(t)try{t(e.data)}catch{}}function or(e){try{const t=fr();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_STORES_SUMMARY_DATA",summary:t,detected:Nt(),requestId:e.requestId},"*")}catch(t){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_STORES_SUMMARY_DATA",summary:{},detected:!1,error:String(t),requestId:e.requestId},"*")}}function sr(e){try{const t=An();window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_SEARCH_INDEX_READY",index:t,requestId:e.requestId},"*")}catch(t){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_SEARCH_INDEX_READY",index:[],error:String(t),requestId:e.requestId},"*")}}function rr(e){let t=null,n={},o={};try{t=We(e.storeId)}catch{}try{n=Ke(e.storeId)}catch{}try{o=Ut(e.storeId)}catch{}window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_STORE_STATE_DATA",storeId:e.storeId,state:t,getters:n,actions:o,requestId:e.requestId},"*")}function ir(e){try{const t=Nn(e.storeId,e.path,e.value);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_PATCH_STATE_RESULT",storeId:e.storeId,path:e.path,success:t,requestId:e.requestId},"*")}catch(t){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_PATCH_STATE_RESULT",storeId:e.storeId,path:e.path,success:!1,error:String(t),requestId:e.requestId},"*")}}function ar(e){try{const t=kn(e.storeId,e.newState);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_REPLACE_STATE_RESULT",storeId:e.storeId,success:t,requestId:e.requestId},"*")}catch(t){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_REPLACE_STATE_RESULT",storeId:e.storeId,success:!1,error:String(t),requestId:e.requestId},"*")}}function cr(e){try{const t=Mn(e.storeId,e.newGetters);window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_PATCH_GETTERS_RESULT",storeId:e.storeId,...t,requestId:e.requestId},"*")}catch(t){window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_PATCH_GETTERS_RESULT",storeId:e.storeId,success:!1,updated:[],error:String(t),requestId:e.requestId},"*")}}function ur(e){const{storeId:t,actionName:n,args:o=[]}=e;Promise.resolve(Pn(t,n,...o)).then(s=>{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_CALL_ACTION_RESULT",storeId:t,actionName:n,success:!0,result:s,requestId:e.requestId},"*")}).catch(s=>{window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_CALL_ACTION_RESULT",storeId:t,actionName:n,success:!1,error:String(s),requestId:e.requestId},"*")})}function lr(e){const t=Nt(),n=Mt().length;window.postMessage({__FROM_VUE_INSPECTOR__:!0,type:"PINIA_DETECTED_RESULT",detected:t,storeCount:n,requestId:e.requestId},"*")}function pr(e){return new Date(e).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function fr(){const e=Mt();if(e.length===0)return{};const t={},n=Date.now();for(const o of e)try{const s=We(o),r=s?ve(s).length:0,a=Ke(o),i=a?Be(a).length:0,u=Ut(o),p=u?je(u).length:0;t[o]={id:o,baseId:Pt(o),stateKeys:r,getterKeys:i,actions:p,lastUpdated:n,lastUpdatedFormatted:pr(n)}}catch{}return t}function dr(){Ft||(Ft=!0,window.addEventListener("message",nr),Js(2e3).then(e=>{e&&(rt(),Zs(e,()=>{rt()}))}))}let Wt=!1;function hr(){Wt||(Wt=!0,dr())}const _r={findPinia:ze,isPiniaDetected:Nt,getPiniaContext:kt,getPiniaInstance:Fe,getLiveStoreIds:wn,isStoreActive:Qs,updatePiniaContext:rt,getStore:F,getStoresList:Mt,getStoreState:We,createSnapshot:In,getStoreGetters:Ke,getStoreActions:Ut,callAction:bn,callActionUnwrapped:Pn,patchState:Nn,replaceState:kn,patchGetters:Mn,parsePath:Lt,setByPath:er,isVueRef:qe,isVueReactive:At,isComputedRef:js,unwrapValue:V,unwrapRef:qs,unwrapReactive:zs,toPlainObject:Fs,getStoreStateKeys:ve,getGetterKeys:Be,getActionKeys:je,isSetupStore:xs,normalizeStoreId:Pt,analyzeStore:Bs,detectSetupStoreByFlag:Ds,detectSetupStoreByEmptyState:$s,detectSetupStoreByRefs:vs,buildStoreSearchIndex:An,flattenObject:ge};window.__PINIA_INSPECTOR__=_r;const it=window.fetch,at=XMLHttpRequest.prototype.open,Ce=XMLHttpRequest.prototype.send,ct=XMLHttpRequest.prototype.setRequestHeader,fe=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"responseType"),mr=["chrome-extension://","moz-extension://","edge-extension://","webkit-resource://"];let ut=100*1024,d=null,M=!1,yr=0;const v=new Map;function lt(e,t,n){return new Promise((o,s)=>{v.set(e,{resolve:o,reject:s,trigger:n,requestId:e}),d?.onBreakpointHit&&d.onBreakpointHit(e,t,n)})}function gr(e,t){const n=v.get(e);return n?(n.resolve(t),v.delete(e),!0):!1}function Er(e){const t=v.get(e);return t?(t.reject(new Error("Breakpoint cancelled by user")),v.delete(e),!0):!1}function Tr(){return Array.from(v.keys())}function Un(){return`net-${Date.now()}-${++yr}`}function Ln(e){return mr.some(t=>e.startsWith(t))}function Vn(e){return e.toUpperCase()==="OPTIONS"}function pt(e){if(!e)return{text:"",truncated:!1,originalSize:0};const t=e.length;return t>ut?{text:e.substring(0,ut),truncated:!0,originalSize:t}:{text:e,truncated:!1,originalSize:t}}function Sr(e){const t=[];return e.forEach((n,o)=>{t.push({name:o,value:n})}),t}function Kt(e){const t=e.find(n=>n.name.toLowerCase()==="content-length");return t&&parseInt(t.value,10)||0}async function Xt(e,t){const n=e.headers.get("content-type")||"";if(["image/","audio/","video/","application/octet-stream","application/pdf","application/zip"].some(s=>n.toLowerCase().startsWith(s)))return null;try{return await t.text()}catch{return null}}function ft(e){if(!e)return null;if(typeof e=="string")return e;if(e instanceof URLSearchParams)return e.toString();if(e instanceof FormData)return"[FormData]";if(e instanceof Blob)return`[Blob: ${e.size} bytes, type: ${e.type}]`;if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return`[Binary: ${e.byteLength} bytes]`;try{return JSON.stringify(e)}catch{return"[Object]"}}function Hn(e,t){try{const n=new URL(e);if(t.scheme&&(n.protocol=t.scheme+":"),t.host){const[o,s]=t.host.split(":");n.hostname=o,s?n.port=s:n.port=""}if(t.path){const[o,s]=t.path.split("?");n.pathname=o,s!==void 0&&(n.search=s?"?"+s:"")}if(Array.isArray(t.params))if(t.params.length>0){const o=new URLSearchParams;t.params.forEach(s=>{s.key&&o.append(s.key,s.value)}),n.search=o.toString()?"?"+o.toString():""}else n.search="";return n.toString()}catch(n){return console.warn("[VueInspector Interceptor] Failed to build modified URL:",n),e}}function Me(e){const t=e.toUpperCase();return t!=="GET"&&t!=="HEAD"}function Rr(e,t){const n={...e};if(t.method&&(n.method=t.method),t.requestHeaders){const s=new Headers;t.requestHeaders.forEach(r=>s.set(r.name,r.value)),n.headers=s}const o=t.method||e?.method||"GET";return t.requestBody!==void 0&&Me(o)?n.body=t.requestBody:Me(o)||delete n.body,n}function Or(){window.fetch=async function(e,t){const n=typeof e=="string"?e:e instanceof URL?e.href:e.url,o=t?.method||(e instanceof Request?e.method:"GET");if(console.log("[VueInspector Interceptor]  fetch() called:",o,n),Ln(n)||Vn(o))return console.log("[VueInspector Interceptor] Skipping (excluded):",n),it.call(window,e,t);const s=Un(),r=performance.now();if(d?.onMockCheck){const c=d.onMockCheck(n,o.toUpperCase());if(c&&c.mock&&c.mock.enabled){console.log("[VueInspector Interceptor]  MOCK MATCH! Returning fake response for:",n),console.log("[VueInspector Interceptor] Mock details:",{id:c.mockId,status:c.mock.status,bodyLength:c.mock.body?.length,headersCount:c.mock.headers?.length});try{c.mock.delay&&c.mock.delay>0&&(console.log("[VueInspector Interceptor] Applying mock delay:",c.mock.delay,"ms"),await new Promise(m=>setTimeout(m,c.mock.delay)));let f;const h=c.mock.body;if(h==null?f="":typeof h=="string"?f=h:f=JSON.stringify(h),(c.mock.headers?.find(m=>m.name.toLowerCase()==="content-type")?.value||"application/json").includes("json")&&f)try{JSON.parse(f)}catch{console.warn("[VueInspector Interceptor] Mock body is not valid JSON, wrapping as string"),f=JSON.stringify(f)}const E=c.mock.status||200,S=!(E===204||E===205||E===304)&&f!=="",w=S?f:null,C=new Headers;c.mock.headers&&Array.isArray(c.mock.headers)&&c.mock.headers.forEach(m=>{if(m.name&&m.value!==void 0){if(!S&&m.name.toLowerCase()==="content-type")return;C.set(m.name,m.value)}}),S&&!C.has("content-type")&&C.set("content-type","application/json; charset=utf-8"),C.set("content-length",S?String(new TextEncoder().encode(f).length):"0");const P=new Response(w,{status:E,statusText:c.mock.statusText||"OK",headers:C});console.log("[VueInspector Interceptor]  Mock Response created successfully"),d?.onMockApplied&&d.onMockApplied(s,c.mockId);let y=[];const I=t?.headers||(e instanceof Request?e.headers:null);I&&(I instanceof Headers?I.forEach((m,N)=>y.push({name:N,value:m})):Array.isArray(I)?I.forEach(([m,N])=>y.push({name:m,value:N})):Object.entries(I).forEach(([m,N])=>y.push({name:m,value:N}))),d?.onRequest&&!M&&d.onRequest({id:s,startTime:r,method:o.toUpperCase(),url:n,requestHeaders:y,requestBody:ft(t?.body||(e instanceof Request?e.body:null))});const B=performance.now();return d?.onResponse&&!M&&d.onResponse(s,{status:E,statusText:c.mock.statusText||"OK",headers:c.mock.headers||[],body:S?f:"",size:S?f.length:0,duration:B-r}),console.log("[VueInspector Interceptor]  Mock response returned, request never hit network"),P}catch(f){console.error("[VueInspector Interceptor]  Error creating mock response:",f)}}}let a=[];const i=t?.headers||(e instanceof Request?e.headers:null);i&&(i instanceof Headers?i.forEach((c,f)=>{a.push({name:f,value:c})}):Array.isArray(i)?i.forEach(([c,f])=>{a.push({name:c,value:f})}):Object.entries(i).forEach(([c,f])=>{a.push({name:c,value:f})}));let u=ft(t?.body||(e instanceof Request?e.body:null));d?.onRequest&&!M&&d.onRequest({id:s,startTime:r,method:o.toUpperCase(),url:n,requestHeaders:a,requestBody:u});let p=e,l=t;if(console.log("[VueInspector Interceptor] Checking request breakpoint for:",n,"callback exists:",!!d?.onBreakpointCheck),d?.onBreakpointCheck){const c=d.onBreakpointCheck(n,"request");if(console.log("[VueInspector Interceptor] Breakpoint match result:",c),c){console.log("[VueInspector Interceptor]  PAUSING REQUEST - waiting for resume...");const f=await lt(s,c.breakpointId,"request");if(f){console.log("[VueInspector Interceptor] Applying modifications:",{method:f.method,scheme:f.scheme,host:f.host,path:f.path,paramsCount:f.params?.length,headersCount:f.requestHeaders?.length,hasBody:f.requestBody!==void 0});const h=Rr(t,f);if(f.scheme||f.host||f.path||Array.isArray(f.params)){const E=Hn(n,f);console.log("[VueInspector Interceptor] URL modified:",n,"->",E),e instanceof Request?(p=new Request(E,{...h}),l=void 0):(p=E,l=h)}else e instanceof Request?(p=new Request(e,h),l=void 0):l=h;f.requestHeaders&&(a=f.requestHeaders),f.requestBody!==void 0&&(u=f.requestBody)}}}try{const c=await it.call(window,p,l),h=performance.now()-r;let g=null;const E=c.clone();let T=Sr(c.headers),S=c;if(d?.onBreakpointCheck){const m=d.onBreakpointCheck(n,"response");if(m){console.log("[VueInspector Interceptor]  PAUSING RESPONSE - waiting for resume..."),g=await Xt(c,E);const N=pt(g);let Te=N.text,O=N.truncated,Fn=N.originalSize;const Wn=Kt(T)||Fn;d?.onResponse&&d.onResponse(s,{status:c.status,statusText:c.statusText,headers:T,body:O?Te:g,size:Wn,duration:h});const ee=await lt(s,m.breakpointId,"response");if(ee&&ee.responseBody!==void 0){const te=ee.responseBody,Se=new Headers,Ht=ee.responseHeaders??T;Ht.forEach(xt=>Se.set(xt.name,xt.value)),te!==null?Se.set("content-length",String(te.length)):Se.delete("content-length"),S=new Response(te,{status:ee.status??c.status,statusText:ee.statusText??c.statusText,headers:Se}),g=te,T=Ht,d?.onResponse&&d.onResponse(s,{status:S.status,statusText:S.statusText,headers:T,body:te,size:te?.length||0,duration:h})}return S}}g=await Xt(E,E);const w=pt(g);let C=w.text,P=w.truncated,y=w.originalSize;const B=Kt(T)||y;return d?.onResponse&&!M&&d.onResponse(s,{status:c.status,statusText:c.statusText,headers:T,body:P?C:g,size:B,duration:h}),S}catch(c){throw d?.onError&&d.onError(s,c instanceof Error?c.message:"Network request failed"),c}}}const ae=XMLHttpRequest.prototype.addEventListener;function Cr(){const e=new WeakMap;XMLHttpRequest.prototype.open=function(a,i,u=!0,p,l){const c=i.toString();return!Ln(c)&&!Vn(a)&&(e.set(this,{id:Un(),method:a.toUpperCase(),url:c,startTime:0,requestHeaders:[],requestBody:null,loadHandlers:[],readystatechangeHandlers:[],errorHandlers:[],responseBreakpointPending:!1,storedResponseData:null}),t(this,e.get(this))),at.call(this,a,i,u,p,l)};function t(a,i){a.addEventListener=function(l,c,f){if(l==="load"){i.loadHandlers.push(c);return}if(l==="readystatechange"){i.readystatechangeHandlers.push(c);return}return l==="error"&&i.errorHandlers.push(c),ae.call(this,l,c,f)};let u=null;Object.defineProperty(a,"onload",{get:()=>u,set:l=>{u=l,l&&i.loadHandlers.push(l)},configurable:!0});let p=null;Object.defineProperty(a,"onreadystatechange",{get:()=>p,set:l=>{p=l,l&&i.readystatechangeHandlers.push(l)},configurable:!0})}XMLHttpRequest.prototype.setRequestHeader=function(a,i){const u=e.get(this);return u&&u.requestHeaders.push({name:a,value:i}),ct.call(this,a,i)},fe&&Object.defineProperty(XMLHttpRequest.prototype,"responseType",{get:function(){return this._responseType||""},set:function(a){this._responseType=a,fe.set&&fe.set.call(this,a)},configurable:!0});const n=new Map;XMLHttpRequest.prototype.send=function(a){const i=e.get(this),u=this;if(i&&console.log("[VueInspector Interceptor]  XHR send() called:",i.method,i.url),!i)return Ce.call(this,a);if(i.startTime=performance.now(),i.requestBody=ft(a),d?.onMockCheck){const p=d.onMockCheck(i.url,i.method);if(p&&p.mock&&p.mock.enabled){console.log("[VueInspector Interceptor]  XHR MOCK MATCH! Returning fake response for:",i.url),console.log("[VueInspector Interceptor] XHR Mock details:",{id:p.mockId,status:p.mock.status,bodyLength:p.mock.body?.length,headersCount:p.mock.headers?.length}),d?.onRequest&&!M&&d.onRequest({id:i.id,startTime:i.startTime,method:i.method,url:i.url,requestHeaders:i.requestHeaders,requestBody:i.requestBody});let l;const c=p.mock.body;c==null?l="":typeof c=="string"?l=c:l=JSON.stringify(c);const f=p.mock.status||200,h=p.mock.statusText||"OK",g=p.mock.headers||[],T=!(f===204||f===205||f===304)&&l!=="";T||(l="");const S=g.find(C=>C.name.toLowerCase()==="content-type")?.value||"application/json";if(T&&S.includes("json")&&l)try{JSON.parse(l)}catch{console.warn("[VueInspector Interceptor] XHR Mock body is not valid JSON, wrapping"),l=JSON.stringify(l)}(async()=>{try{p.mock.delay&&p.mock.delay>0&&(console.log("[VueInspector Interceptor] Applying XHR mock delay:",p.mock.delay,"ms"),await new Promise(O=>setTimeout(O,p.mock.delay)));const P=performance.now()-i.startTime,y=O=>{Object.defineProperty(u,"readyState",{get:()=>O,configurable:!0}),u.dispatchEvent(new Event("readystatechange"))};Object.defineProperty(u,"status",{get:()=>f,configurable:!0}),Object.defineProperty(u,"statusText",{get:()=>h,configurable:!0});const I=u._responseType||u.responseType||"";if(Object.defineProperty(u,"responseText",{get:()=>l,configurable:!0}),I==="json"){let O;try{O=l?JSON.parse(l):null}catch{O=l}Object.defineProperty(u,"response",{get:()=>O,configurable:!0})}else if(I==="arraybuffer"){const O=new TextEncoder;Object.defineProperty(u,"response",{get:()=>O.encode(l).buffer,configurable:!0})}else I==="blob"?Object.defineProperty(u,"response",{get:()=>new Blob([l],{type:S}),configurable:!0}):Object.defineProperty(u,"response",{get:()=>l,configurable:!0});const B=g.filter(O=>!(!T&&O.name.toLowerCase()==="content-type"));let m=B.map(O=>`${O.name}: ${O.value}`).join(`\r
`);m&&(m+=`\r
\r
`);const N=new Map(B.map(O=>[O.name.toLowerCase(),O.value]));T&&!N.has("content-type")&&(N.set("content-type","application/json; charset=utf-8"),m=`content-type: application/json; charset=utf-8\r
`+m),Object.defineProperty(u,"getAllResponseHeaders",{value:()=>m,configurable:!0}),Object.defineProperty(u,"getResponseHeader",{value:O=>N.get(O.toLowerCase())||null,configurable:!0}),console.log("[VueInspector Interceptor]  XHR dispatching lifecycle events..."),y(2),y(3),y(4);const Te={lengthComputable:!0,loaded:l.length,total:l.length};u.dispatchEvent(new ProgressEvent("load",Te)),u.dispatchEvent(new ProgressEvent("loadend",Te)),console.log("[VueInspector Interceptor]  XHR lifecycle complete (load + loadend dispatched)"),d?.onResponse&&!M&&d.onResponse(i.id,{status:f,statusText:h,headers:g,body:l,size:l.length,duration:P}),d?.onMockApplied&&d.onMockApplied(i.id,p.mockId),console.log("[VueInspector Interceptor]  XHR Mock response ready, calling stored handlers"),s(u,i)}catch(C){console.error("[VueInspector Interceptor]  Error applying XHR mock:",C)}})();return}}if(console.log("[VueInspector Interceptor] Checking XHR request breakpoint for:",i.url,"callback exists:",!!d?.onBreakpointCheck),d?.onBreakpointCheck){const p=d.onBreakpointCheck(i.url,"request");if(console.log("[VueInspector Interceptor] XHR Breakpoint match result:",p),p){console.log("[VueInspector Interceptor]  PAUSING XHR REQUEST - waiting for resume..."),n.set(i.id,{xhr:u,body:a,data:i}),d?.onRequest&&d.onRequest({id:i.id,startTime:i.startTime,method:i.method,url:i.url,requestHeaders:i.requestHeaders,requestBody:i.requestBody}),d?.onBreakpointHit&&d.onBreakpointHit(i.id,p.breakpointId,"request"),v.set(i.id,{resolve:l=>{console.log("[VueInspector Interceptor] XHR breakpoint resumed, sending request...");const c=l;let f=a;const h=c?.method||i.method;if(c?.requestBody!==void 0&&Me(h)?f=c.requestBody:Me(h)||(f=null),c&&(c.scheme||c.host||c.path||c.method||Array.isArray(c.params))&&c){const E=Hn(i.url,c),T=c.method||i.method;console.log("[VueInspector Interceptor] XHR URL modified:",i.url,"->",E),at.call(u,T,E,!0),(c.requestHeaders||i.requestHeaders).forEach(w=>{try{ct.call(u,w.name,w.value)}catch{}}),i.url=E,i.method=T,c.requestHeaders&&(i.requestHeaders=c.requestHeaders)}else c?.requestHeaders&&console.warn("[VueInspector Interceptor] XHR header modifications require URL mods to take effect");n.delete(i.id),o(u,i),Ce.call(u,f)},reject:l=>{console.log("[VueInspector Interceptor] XHR breakpoint cancelled:",l.message),n.delete(i.id),u.abort()},trigger:"request",requestId:i.id});return}}return d?.onRequest&&!M&&d.onRequest({id:i.id,startTime:i.startTime,method:i.method,url:i.url,requestHeaders:i.requestHeaders,requestBody:i.requestBody}),o(this,i),Ce.call(this,a)};function o(a,i){ae.call(a,"load",async function(){const p=performance.now()-i.startTime,l=this.getAllResponseHeaders();let c=[];l.split(`\r
`).forEach(P=>{const y=P.indexOf(":");y>0&&c.push({name:P.substring(0,y).trim(),value:P.substring(y+1).trim()})});let f=null;const h=this.getResponseHeader("content-type")||"";if(!["image/","audio/","video/","application/octet-stream"].some(P=>h.toLowerCase().startsWith(P)))try{f=this.responseText}catch{f=null}const{text:E,truncated:T,originalSize:S}=pt(f),C=parseInt(this.getResponseHeader("content-length")||"0",10)||S;if(d?.onBreakpointCheck){const P=d.onBreakpointCheck(i.url,"response");if(P){console.log("[VueInspector Interceptor]  PAUSING XHR RESPONSE - waiting for resume..."),d?.onResponse&&d.onResponse(i.id,{status:this.status,statusText:this.statusText,headers:c,body:T?E:f,size:C,duration:p});const y=await lt(i.id,P.breakpointId,"response");if(y){if(y.responseBody!==void 0){const I=y.responseBody;Object.defineProperty(this,"responseText",{get:()=>I||"",configurable:!0}),Object.defineProperty(this,"response",{get:()=>I||null,configurable:!0}),f=I}if(y.status!==void 0&&Object.defineProperty(this,"status",{get:()=>y.status,configurable:!0}),y.statusText!==void 0&&Object.defineProperty(this,"statusText",{get:()=>y.statusText,configurable:!0}),y.responseHeaders){const I=y.responseHeaders.map(m=>`${m.name}: ${m.value}`).join(`\r
`)+`\r
\r
`;Object.defineProperty(this,"getAllResponseHeaders",{value:()=>I,configurable:!0});const B=new Map(y.responseHeaders.map(m=>[m.name.toLowerCase(),m.value]));Object.defineProperty(this,"getResponseHeader",{value:m=>B.get(m.toLowerCase())||null,configurable:!0}),c=y.responseHeaders}d?.onResponse&&d.onResponse(i.id,{status:this.status,statusText:this.statusText,headers:c,body:f,size:f?.length||0,duration:p})}s(this,i)}else this.status===0&&d?.onError?d.onError(i.id,"Network error (CORS blocked or connection failed)"):d?.onResponse&&!M&&d.onResponse(i.id,{status:this.status,statusText:this.statusText,headers:c,body:T?E:f,size:C,duration:p}),s(this,i)}else this.status===0&&d?.onError?d.onError(i.id,"Network error (CORS blocked or connection failed)"):d?.onResponse&&!M&&d.onResponse(i.id,{status:this.status,statusText:this.statusText,headers:c,body:T?E:f,size:C,duration:p}),s(this,i)}),ae.call(a,"error",function(){if(d?.onError){let u="XMLHttpRequest failed";this.status>0?u=`HTTP ${this.status}: ${this.statusText||"Error"}`:this.status===0&&(u="Network error (CORS blocked or connection failed)"),d.onError(i.id,u)}r(a,i)}),ae.call(a,"abort",function(){d?.onError&&d.onError(i.id,"Request aborted")}),ae.call(a,"timeout",function(){d?.onError&&d.onError(i.id,"Request timed out")})}function s(a,i){const u=new ProgressEvent("load",{lengthComputable:!0,loaded:a.response?.length||0,total:a.response?.length||0});for(const l of i.loadHandlers)try{typeof l=="function"?l.call(a,u):l&&typeof l.handleEvent=="function"&&l.handleEvent(u)}catch(c){console.error("[VueInspector Interceptor] Error calling load handler:",c)}const p=new Event("readystatechange");for(const l of i.readystatechangeHandlers)try{typeof l=="function"?l.call(a,p):l&&typeof l.handleEvent=="function"&&l.handleEvent(p)}catch(c){console.error("[VueInspector Interceptor] Error calling readystatechange handler:",c)}}function r(a,i){const u=new ProgressEvent("error");for(const p of i.errorHandlers)try{typeof p=="function"?p.call(a,u):p&&typeof p.handleEvent=="function"&&p.handleEvent(u)}catch(l){console.error("[VueInspector Interceptor] Error calling error handler:",l)}}}function wr(e,t){console.log("[VueInspector Interceptor] Initializing...",{hasOnRequest:!!e.onRequest,hasOnResponse:!!e.onResponse,hasOnError:!!e.onError,hasOnBreakpointCheck:!!e.onBreakpointCheck,hasOnBreakpointHit:!!e.onBreakpointHit,hasOnMockCheck:!!e.onMockCheck,hasOnMockApplied:!!e.onMockApplied}),d=e,t&&(ut=t),Or(),Cr()}function Ir(){M=!0}function br(){M=!1}function dt(){return M}function Pr(){window.fetch=it,XMLHttpRequest.prototype.open=at,XMLHttpRequest.prototype.send=Ce,XMLHttpRequest.prototype.setRequestHeader=ct,fe&&Object.defineProperty(XMLHttpRequest.prototype,"responseType",fe),d=null,v.forEach((e,t)=>{e.reject(new Error("Interceptor cleanup"))}),v.clear()}function Ar(e){try{const t=new URL(e),n=t.pathname.split("/").filter(Boolean);return n.length>0?n[n.length-1]:t.host}catch{return e.substring(0,50)}}function Vt(e){try{return new URL(e).pathname}catch{return e}}function Nr(e){try{const t=new URL(e),n=[];return t.searchParams.forEach((o,s)=>n.push({key:s,value:o})),n}catch{return[]}}function kr(e){const t=e.find(o=>o.name.toLowerCase()==="authorization");if(!t){const o=e.find(s=>s.name.toLowerCase().includes("api-key")||s.name.toLowerCase().includes("x-api-key"));return o?{type:"ApiKey",token:o.value,headerName:o.name}:{type:"None"}}const n=t.value;if(n.startsWith("Bearer "))return{type:"Bearer",token:n.substring(7)};if(n.startsWith("Basic "))try{const o=atob(n.substring(6)),[s]=o.split(":");return{type:"Basic",token:n.substring(6),username:s}}catch{return{type:"Basic",token:n.substring(6)}}return{type:"Custom",token:n}}function Mr(e){return["image/","audio/","video/","application/octet-stream","application/pdf","application/zip","application/gzip","application/x-tar"].some(n=>e.toLowerCase().startsWith(n))}function Ur(e){const t=e.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*");return new RegExp(`^${t}$`,"i")}const q=new Map;let A=[],$={maxEntries:500,maxBodySize:100*1024,captureRequestBody:!0,captureResponseBody:!0},de=[],he=[];function xn(e,t){try{const n=new URL(e);if(t.scheme&&n.protocol.replace(":","")!==t.scheme||t.host&&!Ur(t.host).test(n.hostname)||t.port&&(n.port||(n.protocol==="https:"?"443":"80"))!==t.port||t.path&&!new RegExp(`^${t.path.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*")}`,"i").test(n.pathname))return!1;if(t.query){const o=new RegExp(t.query.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*"),"i"),s=n.search?n.search.substring(1):"";if(!o.test(s))return!1}return!0}catch{return!1}}function Lr(e,t){for(const n of de)if(n.enabled&&!(n.trigger!=="both"&&n.trigger!==t)&&xn(e,n))return{breakpointId:n.id,trigger:t};return null}function Vr(e,t,n){const o=q.get(e);b("NETWORK_BREAKPOINT_HIT",{requestId:e,breakpointId:t,trigger:n,entry:o||null})}function Hr(e,t){for(const n of he)if(n.enabled&&!(n.method&&n.method.toUpperCase()!==t.toUpperCase())&&xn(e,n))return{mockId:n.id,mock:n};return null}function xr(e,t){b("NETWORK_MOCK_APPLIED",{requestId:e,mockId:t})}function b(e,t){window.postMessage({type:e,__FROM_VUE_INSPECTOR__:!0,__NETWORK__:!0,...t},"*")}function Dn(e,t,n,o=!1){if(e===null)return null;const s=Mr(t);return{text:s?"":e,truncated:o,originalSize:n,contentType:t,isBinary:s}}function Dr(e){const t=e.requestHeaders.find(o=>o.name.toLowerCase()==="content-type")?.value||"",n={id:e.id,version:1,timestamp:new Date().toISOString(),method:e.method,url:e.url,path:Vt(e.url),name:Ar(e.url),status:0,statusText:"",duration:0,size:0,requestHeaders:e.requestHeaders,responseHeaders:[],params:Nr(e.url),authorization:kr(e.requestHeaders),requestBody:$.captureRequestBody&&e.requestBody?Dn(e.requestBody,t,e.requestBody.length):null,responseBody:null,pending:!0,initiator:"fetch"};q.set(e.id,n),b("NETWORK_ENTRY_CAPTURED",{entry:n})}function $r(e,t){const n=q.get(e);if(!n)return;const o=t.headers.find(r=>r.name.toLowerCase()==="content-type")?.value||"",s={...n,id:e,version:(n.version||1)+1,timestamp:n.timestamp||new Date().toISOString(),method:n.method||"GET",url:n.url||"",path:n.path||Vt(n.url||""),name:n.name||"",status:t.status,statusText:t.statusText,duration:t.duration,size:t.size,requestHeaders:n.requestHeaders||[],responseHeaders:t.headers,params:n.params||[],authorization:n.authorization||{type:"None"},requestBody:n.requestBody||null,responseBody:$.captureResponseBody&&t.body?Dn(t.body,o,t.size,t.body.length<t.size):null,pending:!1,initiator:n.initiator||"fetch"};q.delete(e),A.push(s),A.length>$.maxEntries&&(A=A.slice(-$.maxEntries)),b("NETWORK_ENTRY_UPDATED",{entry:s})}function vr(e,t){const n=q.get(e);if(!n)return;const o={...n,id:e,version:(n.version||1)+1,timestamp:n.timestamp||new Date().toISOString(),method:n.method||"GET",url:n.url||"",path:n.path||Vt(n.url||""),name:n.name||"",status:0,statusText:"Failed",duration:performance.now()-n.startTime||0,size:0,requestHeaders:n.requestHeaders||[],responseHeaders:[],params:n.params||[],authorization:n.authorization||{type:"None"},requestBody:n.requestBody||null,responseBody:null,error:t,pending:!1,initiator:n.initiator||"fetch"};q.delete(e),A.push(o),A.length>$.maxEntries&&(A=A.slice(-$.maxEntries)),b("NETWORK_ENTRY_UPDATED",{entry:o})}function $n(e){if(e.source!==window||!e.data)return;const{type:t,__VUE_INSPECTOR__:n,__NETWORK_CMD__:o}=e.data;if(!(!n||!o))switch(t){case"NETWORK_PAUSE":Ir(),b("NETWORK_PAUSED",{paused:!0});break;case"NETWORK_RESUME":br(),b("NETWORK_RESUMED",{paused:!1});break;case"NETWORK_CLEAR":A=[],q.clear(),b("NETWORK_CLEARED",{});break;case"NETWORK_GET_ENTRIES":b("NETWORK_ENTRIES_DATA",{entries:A});break;case"NETWORK_GET_STATUS":b("NETWORK_STATUS",{paused:dt(),entriesCount:A.length,activeBreakpointIds:Tr()});break;case"NETWORK_CONFIG_UPDATE":e.data.config&&($={...$,...e.data.config});break;case"NETWORK_BREAKPOINTS_SYNC":Array.isArray(e.data.breakpoints)&&(de=e.data.breakpoints,b("NETWORK_BREAKPOINTS_SYNCED",{count:de.length,breakpoints:de.map(s=>({id:s.id,host:s.host,path:s.path}))}));break;case"NETWORK_MOCKS_SYNC":Array.isArray(e.data.mocks)&&(he=e.data.mocks,b("NETWORK_MOCKS_SYNCED",{count:he.length,mocks:he.map(s=>({id:s.id,host:s.host,path:s.path,status:s.status}))}));break;case"NETWORK_BREAKPOINT_RESUME":if(e.data.requestId){const s=gr(e.data.requestId,e.data.modifications);b("NETWORK_BREAKPOINT_RESUMED",{requestId:e.data.requestId,success:s})}break;case"NETWORK_BREAKPOINT_CANCEL":if(e.data.requestId){const s=Er(e.data.requestId);b("NETWORK_BREAKPOINT_CANCELLED",{requestId:e.data.requestId,success:s})}break}}function Br(){window.addEventListener("message",$n),wr({onRequest:Dr,onResponse:$r,onError:vr,onBreakpointCheck:Lr,onBreakpointHit:Vr,onMockCheck:Hr,onMockApplied:xr},$.maxBodySize),b("NETWORK_READY",{paused:dt(),entriesCount:A.length}),b("NETWORK_STATUS",{paused:dt(),entriesCount:A.length})}function jr(){window.removeEventListener("message",$n),Pr(),A=[],q.clear(),de=[],he=[]}let ht=!1,_t=!1,Gt=!1,vn=null;function X(e){window.postMessage({type:"VUE_INSPECTOR_DETECTION_RESULT",__FROM_VUE_INSPECTOR__:!0,...e},"*"),window.postMessage({type:"VUE_INSPECTOR_VUE_DETECTED",__FROM_VUE_INSPECTOR__:!0,detected:e.hasVue,url:window.location.href,hasDevToolsHook:!!window.__VUE_DEVTOOLS_GLOBAL_HOOK__,hasVue2:e.vueVersion===2},"*")}function Bn(){ht||(ht=!0,Us(),window.postMessage({type:"VUE_INSPECTOR_PROPS_READY",__FROM_VUE_INSPECTOR__:!0},"*"))}function jn(){_t||(_t=!0,hr(),window.postMessage({type:"VUE_INSPECTOR_PINIA_READY",__FROM_VUE_INSPECTOR__:!0},"*"))}function qr(e){Bn(),X(oe())}function zr(){jn(),X(oe())}function qn(e){if(e.source!==window||!e.data||typeof e.data!="object")return;const{type:t}=e.data;if(t==="VUE_INSPECTOR_CHECK_VUE"){X(oe());return}if(t==="VUE_INSPECTOR_GET_FLAGS"){X(oe());return}if(t==="VUE_INSPECTOR_FORCE_DETECT"){const n=mt();n.hasVue&&!ht&&Bn(),n.hasPinia&&!_t&&jn(),X(n);return}}function Fr(){window.addEventListener("message",qn),Wr(),vn=Gn({onVueDetected:qr,onPiniaDetected:zr});const e=oe();X(e),window.postMessage({type:"VUE_INSPECTOR_READY",__FROM_VUE_INSPECTOR__:!0},"*")}function Wr(){Gt||(Gt=!0,Br(),window.postMessage({type:"VUE_INSPECTOR_NETWORK_READY",__FROM_VUE_INSPECTOR__:!0},"*"))}function zn(){window.removeEventListener("message",qn),vn?.(),Ls(),jr()}window.addEventListener("beforeunload",zn);window.addEventListener("pagehide",zn);Fr();window.__VUE_INSPECTOR_DETECTION__=()=>oe();window.__VUE_INSPECTOR_FORCE_DETECT__=()=>{const e=mt();return X(e),e};
